<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Joey Stanley</title>
<link>https://joeystanley.com/blog/index.html</link>
<atom:link href="https://joeystanley.com/blog/index.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.3.433</generator>
<lastBuildDate>Sun, 03 Dec 2023 04:12:00 GMT</lastBuildDate>
<item>
  <title>Website Version 3</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/website-version-3/index.html</link>
  <description><![CDATA[ 




<p>After exactly seven years with my old website, Iâ€™ve decided to change it to what you are seeing now. This page serves as a bit of a summary of what I did and why. Itâ€™s not particuarlly well-organized since I added to it here and there over four months. But it might be helpful to you if youâ€™re considering such a move.</p>
<section id="what-was-wrong-with-the-old-one" class="level2">
<h2 class="anchored" data-anchor-id="what-was-wrong-with-the-old-one">What was wrong with the old one?</h2>
<p>I built my old website in September 2016. I had a research assistantship at the DigiLab at UGA, and Emily McGinn, the supervisor, suggested I find ways to increase my online presence. I learned some <a href="../../blog/making-a-website-is-fun">web design and CSS skills</a> skills and eventually made Version 1 of my website. That version was essentially the same as what I built in the tutorial I followed, so a few months later I rewrote everything from scratch and made Version 2. (Letâ€™s be honest though, itâ€™s still obviously heavily based on the tutorial.) Other than very minor tweaks to a few things, thatâ€™s how my website has been since then.</p>
<p>However, it got a bit unwieldy. The blog was organized just fine, but I also added pages here and there to go along with workshops and other presentations I gave. It got more confusing when I gave the same workshop a second time and had multiple similar pages floating around. Since I didnâ€™t foresee some of these additions, its growth was reminiscent of unplanned suburban sprawl. For examples, sometimes images were just dumped into a folder, others were better organized. Non-blog pages were hidden and were sometimes a top-level page and other times within a dedicated subdirectory. Each individual addition wasnâ€™t a big deal, but once I stepped back and looked at it all, it was a mess.</p>
<p>The format of my tutorials wasnâ€™t consistent either. I have lots of handouts on my website, tucked away here and there. If they were associated with a workshop, they were separate R Markdown files that didnâ€™t fit in with the rest of the site. Some of my earliest ones are PDFs of Word files! If they werenâ€™t associated with a workshop, theyâ€™re regular blog posts. But because the site wasnâ€™t connected to R, I had to do a <em>lot</em> of copying and pasting R Markdown code and careful insertion of images to get those tutorials to look right. In some cases, the extra work made it possible to do things like syntax highlighting in Praat and highlighting specific lines of code. But that was all done by manually inserting HTML tags and updating my CSS.</p>
<p>Also, as careful as I was about my CSS, it wasnâ€™t perfect. I think there were some issues if like a list had only one element, and there were things with hyperlinks. Some one-off portions of blogs or tutorials sometimes didnâ€™t look right. I had a disclaimer at the bottom of every page, saying something like, â€œThis website is built from scratch. Pardon the flaws; I am not a web designer.â€ Which was a humble brag if anything. But as the site grew I didnâ€™t want to change the CSS because it might change some blog post from years ago in unexpected ways.</p>
<p>Ultimately, I didnâ€™t mind the mess because itâ€™s what made my site unique. But, what made me finally decide to migrate to Quarto was the underlying architecture. It was built using Jekyll, which involves a programming language called Ruby in some way. After seven years I still have no idea what either of those are. I did this because itâ€™s what the tutorial I followed used. When the site worked, it was great. But sometimes, the Ruby dependencies (called â€œgemsâ€) would update or break or whatever and I had to google around trying to find a fix. I had no idea what I was doing and it led to a lot of frustrated late nights trying to get my website up and running again.</p>
<p>Then Quarto comes along, which makes it easy to make a blog entirely within R Studio. I have been very familiar with the R world for a while. In 2017, I was an early adopter of <a href="https://www.rstudio.com/products/shiny/">Shiny</a> (at least in linguistics, I think), so I was able to integrate all my html, CSS, and R skills into the <a href="http://lap3.libs.uga.edu/u/jstanley/vowelcharts/">Gazetteer of Southern Vowels</a>. In 2020, I also started dabbling with creating my own R Packages and using the amazing <a href="https://pkgdown.r-lib.org">pkgdown</a> to make dedicated websites for them (see <a href="https://joeystanley.github.io/joeyr/">joeyr</a>, <a href="https://github.com/JoeyStanley/futurevisions">futurevisions</a>, <a href="https://joeystanley.github.io/barktools/">barktools</a>, and <a href="https://joeystanley.github.io/joeysvowels/">joeysvowels</a>). Finally, I have a side project that involves collecting and analyzing data about what hymns are sung in LDS congregations, and in 2023 I decided to build the <a href="hymnstats.joeystanley.com">site</a> entirely in Quarto.</p>
<p>So, Iâ€™ve gradually built up to web development in R over the years and Quarto seems like the logical place to migrate to. Plus, it has some features that Iâ€™ve always wanted, like scrolling table of contents and a search feature. After some encouragement from folks on Twitter, I decided itâ€™s time to bite the bullet and go for it.</p>
</section>
<section id="what-does-it-take-to-migrate" class="level2">
<h2 class="anchored" data-anchor-id="what-does-it-take-to-migrate">What does it take to migrate?</h2>
<p>Iâ€™m doing this page by page. Hereâ€™s the order I took:</p>
<ul>
<li>My homepage and any links on it. I didnâ€™t clean up the linked pages, but at least there werenâ€™t any dead links.</li>
<li>My blog posts
<ul>
<li>I started with some of my earliest ones because they were the simplest.</li>
<li>Then moved on to any conference or paper announcement. As part of that, I also transferred the associated slides, papers, and other files.</li>
<li>I then finished any non-tutorial posts.</li>
<li>I saved the tutorials for last because they would take the most time. Fortunately, it wasnâ€™t too bad changing the static code blocks to ones that are run when the page is rendered. However, because dependencies like packages and dataset have been updated, some of the details and specific results have changed. Nothing major though.</li>
</ul></li>
<li>Other pages that are top-level or close to top-level, but not right on my home page. Things like splashscreens to workshops Iâ€™ve done. Thse in particular were tricky because many of them had links to other parts of the website, including many redirects. I hope they all work!</li>
<li>Finally, I updated my Resources and CV pages. Those were mostly checking to make sure links worked (and removing dead links), and making sure all the files in my downloads folder transfered over.</li>
</ul>
<p>This took several months to make the full transfer. Little did I know that I had over 100 different webpages (mostly blog posts) all contained within my site. This was a surprise to me because I had not idea I had created so much content. I very slowly made progress by creating a reminder on my phone to migrate one webpage a day. Some were pretty straightforward. Others took more time, like tutorials and other code-based ones.</p>
<p>It was kinda fun to read through some of my old posts. In some cases, I added marginalia that basically pointed out how silly I was several years ago. I donâ€™t think many people visit those early blog posts, so no oneâ€™s going to see them anyway.</p>
</section>
<section id="appearance" class="level2">
<h2 class="anchored" data-anchor-id="appearance">Appearance</h2>
<p>The biggest change is obviously the look of the site. One of the main reasons I didnâ€™t want to switch to Quarto initially is because I didnâ€™t want it to look like all the othe Quarto sites. But, once I started digging into the HTML, I saw how I could modify the CSS to resemble my previous site.</p>
<p>The navigation bar at the top was the trickiest, but Iâ€™m very pleased with the results. I tried for a long time to get my name and title to across the top, but I could not figure it out. It bothered me a lot because it made the buttons not centered over the body of the site. But, my wife recommended I make it a different color. Basically, just lean into the navbar. And it worked. I <em>really</em> like how this turned out.</p>
<p><img src="https://joeystanley.com/blog/website-version-3/version2.png" class="img-fluid"></p>
<p><img src="https://joeystanley.com/blog/website-version-3/version3.png" class="img-fluid"></p>
<p>You may have noticed too that I removed the â€œResourcesâ€ link and replaced it with â€œIdiolect.â€ I havenâ€™t been updating my â€œResourcesâ€ page for a few years, so it was getting a little stale, and honestly a bit unwieldy. It <a href="../../resources">still exists</a>, but itâ€™s now joined the several other pages on my site that you kinda have to know about to get to because there are no obvious links to it. (Still trying to find a place for those links.) Plus, I like my idiolect page.</p>
<p>Iâ€™ve also moved all my socials to the top right corner. Since Quarto has a spot for those, I figured I might as well use that, rather than having them under my picture. That way theyâ€™re accessible from every webpage within the site.</p>
<p>I also updated my profile picture since my old one was from 2019.</p>
<p>Finally, I changed the hyperlink style back to something more standard. I used to have hyperlinks displayed in the same color as regular text, and then have a little red circle after it. I saw it on <a href="https://practicaltypography.com/web-and-email-addresses.html"><em>Butterickâ€™s Practical Typography</em></a> and liked it. I donâ€™t know how I feel about it anymore. Itâ€™s a simple change with CSS, and I even <a href="blog/how-i-implemented-the-links-in-this-site">blogged</a> about it when I first did it. But, I guess my preferences have changed.</p>
<p>What I could not figure out was a link and previous on my homepage to my latest blog post. Not a big deal I suppose.</p>
</section>
<section id="changes" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="changes">Changes</h2>
<p>Iâ€™ve tried to keep as much of the original structure of the site the same as I could. However, as I migrated, I realized that I could make things overall a bit more contained by changing the structure of associated files. However, some things did change, but I tried my best to make sure any external links to the site did not break. Hereâ€™s a list of the changes Iâ€™ve made.</p>
<div class="page-columns page-full"><p>The main change is that each blog is now in its own self-contained folder. The previous structure had all posts in a single folder and all images in another folder. This time, the images associated with a blog post are contained within that folder. So, instead of this:</p><div class="no-row-height column-margin column-container"><span class="">By the way, Iâ€™m stealing this way of visualizing file structure directly from <a href="https://github.com/tjmahr/quarto-blog/blob/main/posts/migrating-from-jekyll-to-quarto/index.qmd">TJ Mahrâ€™s Migrating-to-Quarto page.</a>.</span></div></div>
<pre><code>â”œâ”€â”€ğŸ“blog
|  â”œâ”€â”€ğŸ“„blog post 1.md
|  â”œâ”€â”€ğŸ“„blog post 2.md
â”œâ”€â”€ğŸ“images
|  â”œâ”€â”€ğŸŒ…image1.png
|  â”œâ”€â”€ğŸŒ…image2.png</code></pre>
<p>Itâ€™s now this:</p>
<pre><code>â”œâ”€â”€ğŸ“blog
|  â”œâ”€â”€ğŸ“blog post 1
|  |  â”œâ”€â”€  ğŸ“„index.qmd
|  |  â”œâ”€â”€  ğŸŒ…image1.png
|  â”œâ”€â”€ğŸ“blog post 2
|  |  â”œâ”€â”€  ğŸ“„index.qmd
|  |  â”œâ”€â”€  ğŸŒ…image2.png</code></pre>
<p>It shouldnâ€™t affect any urls to existing blog posts because the url <code>blog/blog post 1</code> in the old format would go to the <code>blog post 1.md</code> file and in the new one itâ€™ll go to the <code>blog post 1</code> directory, whichâ€™ll display <code>index.qmd</code> by default. I was concerned about changing the url because I know some people have cited my turorials in published work and I didnâ€™t want those urls to break. I think thisâ€™ll work <em>and</em> itâ€™ll keep the site better organized.</p>
</section>
<section id="the-process" class="level2">
<h2 class="anchored" data-anchor-id="the-process">The Process</h2>
<p>It took from September 10 to November 27 to transfer all my entire website. I set a reminder to do at least one page every day, and since there are over 100 webpages on this website, it took a while.</p>
<p>As far as specific things I did to transfer each page over, hereâ€™s what I did</p>
<ul>
<li>I created the file structure shown above and moved the file over to its new folder. I then renamed it from â€œ2023-12-02-title-of-blog-post.mdâ€ to â€œindex.qmdâ€, making sure to do the file extension too.</li>
<li>Within each post, I needed to update the header. I change from â€œtagsâ€ to â€œcategoriesâ€, from â€œredirect_fromâ€ to â€œaliases.â€ I add a date-modified if needed.</li>
<li>I then had to go through and make sure the whole post looked good. For the most part, there were very few changes I needed. The only things that needed manual work was when I added HTML code directly into the markdown file to get some specific CSS. So like, side notes, or custom â€œbuttonsâ€ for downloading files had to be updated.</li>
<li>I havenâ€™t figured out if I can do redirects, which is a bummer because I used those a lot.</li>
<li>As I went through, I added sidenotes to clarify, update, or just comment on what I said a few years ago.</li>
</ul>
<p>As mentioned above, for some of my code-based blog posts, like tutorials, I ended up rerunning the code. This resulted in small changes here and there, but nothing that should hurt anyone.</p>
<p>There are a few changes Iâ€™d like to do still, like rename blog post folders to something shorter and more consistent, which would mean Iâ€™ll have to carefully add aliases to the old names and make sure they all work.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>I really like the new look of the new site. I have a whole laundry list of things Iâ€™d like to do still, like cleaning up old files and whatnot. I also want to add retroactive blog posts about every conference I went to and every paper I presented, so I can always have a home for each one. I also have over a dozen ideas for future blog posts.</p>


</section>

 ]]></description>
  <category>Meta</category>
  <guid>https://joeystanley.com/blog/website-version-3/index.html</guid>
  <pubDate>Sun, 03 Dec 2023 04:12:00 GMT</pubDate>
</item>
<item>
  <title>NWAV51</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/nwav51/index.html</link>
  <description><![CDATA[ 




<p>This weekend, some students that I advise in different capacities presented their research at NWAV51 in New York! I am co-author on them, but itâ€™s about 95% their work. For reasons I wonâ€™t get into here, I was not able to attend the conference myself, so these three students presented by themselves!</p>
<section id="thursdays-presentation-on-ukrainian-language-ideolgies" class="level2">
<h2 class="anchored" data-anchor-id="thursdays-presentation-on-ukrainian-language-ideolgies">Thursdayâ€™s Presentation on Ukrainian Language Ideolgies</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the slides <a href="../../downloads/231013-NWAV_Ukraine.pdf">here</a>!</p>
</div>
</div>
<p>Kateryna Kravchenko presented her research, â€œAn analysis of Ukrainiansâ€™ language attitudes and ideology: A conflict-catalyzed identity shift.â€ Katya has been tracking Ukrainian language ideologies since the Russian invasion of Ukraine in February 2022 and has noticed that many Ukrainians are vowing to never use Russian again, even though it is their first language. It appears to start with social media and then move to other domains after that. She has conducted interviews with Ukrainians who have had to flee the country since February 2022 and has some really fascinating first-hand insights into what weâ€™re calling a â€œconflict-catalyzed identity shift.â€</p>
</section>
<section id="fridays-presentation-on-southern-utah-english" class="level2">
<h2 class="anchored" data-anchor-id="fridays-presentation-on-southern-utah-english">Fridayâ€™s Presentation on â€œSouthernâ€ Utah English</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the slides <a href="../../downloads/231014-NWAV_SouthernUtah.pdf">here</a>!</p>
</div>
</div>
<p>Chad Huckvale has been working on perceptual dialectology research in Utah, and has been focused on this idea that people describe parts of Utah as sounding â€œSouthern,â€ even though Utah English and Southern American English have little in common. In his presentation, â€œPerceptions of â€˜Southernâ€™ Utah English,â€ he presents results from two experiments on this topic. First, he did a class draw-a-map task and found that, unsurprisingly, people labeled the urban area along the Wasatch Front as â€œurbanâ€ (and related words) and everywhere else as â€œruralâ€ (and related words). In his second experiment, people listened to speech samples and were asked where in Utah they thougt they were from. (The twist is that only a few of the speakers were actually from Utah!) People placed speakers with features of Southern American English in the rural parts of the state. Thereâ€™s a lot more in Chadâ€™s MA thesis, but this was</p>
</section>
<section id="fridays-presentation-on-tourism-and-its-effect-on-language" class="level2">
<h2 class="anchored" data-anchor-id="fridays-presentation-on-tourism-and-its-effect-on-language">Fridayâ€™s presentation on tourism and its effect on language</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the slides <a href="../../downloads/231014-NWAV_Tourism.pdf">here</a>!</p>
</div>
</div>
<p>Finally, Zoe Elredge just graduated with her BA, but sheâ€™s been working hard on perceptions of Park City English. In her presentation, â€œExploring the Effects of Cross-Cultural Variation and Tourism in Utah English,â€ she presents just some of the results of a very rich data collection she has gathered. The results are messy, but it seems like Parkite English is perceived as less professional and less laidback. That seems contradictory, but it kinda fits the stereotype of being a â€œMountain Surfer Dudesâ€ as one participant put it: superficial and posh. With Park City being a ritsy, touristy area, perhaps people are less willing to invest in friendships. Again, the results are messy, and Zoe is still digging to see what it can say and I look forward to see what she finds.</p>


</section>

 ]]></description>
  <category>Conferences</category>
  <category>Presentations</category>
  <category>Research</category>
  <guid>https://joeystanley.com/blog/nwav51/index.html</guid>
  <pubDate>Sat, 14 Oct 2023 03:30:00 GMT</pubDate>
</item>
<item>
  <title>The stories behind the languages Iâ€™ve studied</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/stories-behind-the-languages-ive-studied/index.html</link>
  <description><![CDATA[ 




<p>Thereâ€™s a trend on linguistics Twitter right now where people are sharing the ages that they started studying/learning whatever languages they know. As I thought about the ones I know, I realized that thereâ€™s a story behind each one, and like many linguists, I have a list of languages and a few-word summary of their fluency at the bottom of my CV. But the stories are much more than Iâ€™d like to explain on my CV or in a tweet. So, here are some of those stories behind the languages Iâ€™ve studied.</p>
<section id="english" class="level2">
<h2 class="anchored" data-anchor-id="english">English</h2>
<p>My first and, for a long time, only language. Read more about my idiolect <a href="../../pages/idiolect">here</a>.</p>
</section>
<section id="modern-greek" class="level2">
<h2 class="anchored" data-anchor-id="modern-greek">(Modern) Greek</h2>
<p>In fourth grade, I was in a â€œgiftedâ€ program or whatever and we had a unit on Greek. I remember nothing.</p>
</section>
<section id="swahili" class="level2">
<h2 class="anchored" data-anchor-id="swahili">Swahili</h2>
<p>In fifth grade, that same gifted program had a Swahili unit. Literally the only thing I remember is the titular line from the song â€œHead, Shoulders, Knees, and Toesâ€, which is <em>kichwa, mabega, magoti na migu</em>. Google Translate has <em>toes</em> as <em>vidole</em>, so I donâ€™t know what <em>migu</em> is.</p>
<p>Unrelated to that, early in grad school, probably around summer 2015 or so, I thought Iâ€™d try auditing Swahili. I sat in on one class and decided I probably didnâ€™t have the time to commit.</p>
</section>
<section id="portuguese" class="level2">
<h2 class="anchored" data-anchor-id="portuguese">Portuguese</h2>
<p>When I was 19, I started my two-year stint as a Mormon missionary in Brazil. I took some private lessons for a couple months summer 2007 from a Brazilian woman from church. When I moved there in October, I was put into an intensive language training course, which was about 9 weeks, after which I was thrust into the streets pretty much and fully immersed in the language.</p>
<p>It took a while for me to attain fluency, but I made it there eventually. I made a <em>ton</em> of flashcards and learned lots of words. People would joke that if anyone needed to teach a lawyer, theyâ€™d have to call me because Iâ€™m the only one that has the vocabulary! My pronunciation wasnâ€™t bad either: I could convince people that I was from Brazilâ€”granted, I told them I was from AmapÃ¡, a remote, rural state way up in the Amazon. No one knew anyone from there, so they were often like, â€œOh, so <em>thatâ€™s</em> what the accent sounds like!â€ As I explain <a href="../../blog/ten-years-of-linguistics">here</a>, I was in a college town for a while and inadvertently bought <a href="https://www.editoracontexto.com.br/produto/fonetica-e-fonologia-do-portugues-roteiro-de-estudos-e-guia-de-exercicios-nova/1496828">a phonetics and phonology textbook</a> and learned some basic linguistics concepts from there. About a month before I was finished, I bought a <a href="https://editoranacional.com.br/livros-buscar-detalhe/?id=472">big olâ€™ grammar book</a>, one that was intended for Brazilian university students studying Portuguese, and read the whole thing. Perhaps because of that book and my general attitude towards language learning at the time, I still have somewhat prescriptivist attitudes in Portuguese, and I really wish I hadnâ€™t adhered so strongly to the standard language ideology because I know I heard a <em>lot</em> of variation while living there.</p>
<p>Since being back in the US, Iâ€™ve had relatively little opportunity to use my Portuguese. I took a grammar and a literature course as an undergrad. In grad school, I attended a conversation group. I also was briefly part of a Brazil-based research team that analyzed monkey vocalizations and I had one heck of a time trying to explain statistics in Portuguese. Mormon missionaries donâ€™t exactly need that kind of vocabulary, so that was a lot of new words.</p>
<p>How is my Portuguese now? Pretty rusty. Probably not terrible and I could survive. Iâ€™ve forgotten a lot of the nuance on how to say certain things. I listen to podcasts occasionally and I donâ€™t understand everything, which is a little disheartening. But, again, as a missionary there are a <em>lot</em> of semantic domains that you donâ€™t ever need to talk about, so it makes sense. Maybe I just need to start busting out the vocab cards again.</p>
</section>
<section id="guarani" class="level2">
<h2 class="anchored" data-anchor-id="guarani">Guarani</h2>
<p>After living in Brazil for about nine months (this was June-ish of 2009, right after I turned 20), I was transferred to Campo Grande where I encountered Guarani for the first time. I thought it was interesting and I thought Iâ€™d try to learn it. A friend had what was basically a â€œteach yourself Guaraniâ€ book that was written in Spanishâ€”so I had to quickly figure out a bit of basic Spanish to read it. My dad also sent me a copy of the Book of Mormon in Guarani and basically said, â€œEh, since youâ€™re learning another language anyway, might as well try this one too.â€ So over the next few months, here and there, I learned a bit of grammar and vocabulary. This was my first time looking at a non-Indo-European language and it was fascinating to me. By the end of my time in Brazil, I had somehow managed figured out quite a bit of grammar.</p>
<p>When I got back to BYU, I found some old books on Guarani and used them to learn more of the grammar I hadnâ€™t figured out via translation. In Fall 2011, I also sat in on a grammar course that was intended for missionaries who had served in Paraguay speaking Guarani. I didnâ€™t do well because I really was out of my league and because I had also signed up for Mandarin that same semester. Iâ€™ve occasionally pecked at it and even have an <a href="../../blog/interactive-guarani-dictionary">interactive Guarani dictionary</a>. I even submitted an abstract to LSA on templatic morphology, but it was (rightfully) rejected. I saw that theyâ€™ve recently added a Duolingo course in Guarani, taught in Spanish, so thereâ€™s more opportunity to practice. One day, Iâ€™ll get back to studying it.</p>
</section>
<section id="kichwa" class="level2">
<h2 class="anchored" data-anchor-id="kichwa">Kichwa</h2>
<p>After my intro to linguistics course, I went on a language documentation study abroad to Amazonian Ecuador in Juneâ€“July 2011. There, I started to learn Ecuadorian (Lowland, Pastaza, etc) Kichwa. I never really got to the point of being fluent, but I had two semestersâ€™ worth of coursework done, so I had, at one point, a bit of vocabulary and a decent grasp of lots of basic grammar. Nowadays, I remember virtually nothing, but when I see my colleague Janis Nuckolls talk about her research, some things come back.</p>
</section>
<section id="spanish" class="level2">
<h2 class="anchored" data-anchor-id="spanish">Spanish</h2>
<p>At some point while in Brazil, I started to study Spanish on my own. I had to know something because that Guarani book I had was written in Spanish. Iâ€™ve never taken formal classes though, so I donâ€™t know much. Knowing Portuguese is helpful and I tell people that my Spanish is basically Portuguese with a Spanish accent. I also have a really hard time understanding spoken Spanish, though when I was in Ecuador, I noticed that Ecuadorian Spanish was much easier. My one success story was the one time I was in Sunday School while in Ecuador and the teacher called on me to answer a question, and not only did I understand the question, but I also produced a coherent answer.</p>
</section>
<section id="mandarin" class="level2">
<h2 class="anchored" data-anchor-id="mandarin">Mandarin</h2>
<p>While in Ecuador, a fellow study abroader had studied Chinese. I had two roommates who spoke Mandarin at the time too. And I was interested in learning more about tone. So I signed up for Mandarin and ended up taking two semesters of it. I enjoyed it. Except for the writing. I donâ€™t think we advanced very far at all because everything we learned to say we had to be able to read and write too, and learning characters was a slow process. I think by the end, I knew just shy of 500 characters. What little grammar I knew though I felt pretty comfortable. Literally the only thing I remember today is æˆ‘æœ‰å…©å€‹æœƒèªªä¸­æ–‡çš„å®¤å‹, â€œI have two roommates who can speak Chinese.â€ Except I had to look up the characters on Google Translate. Knowing Pinyin at least has been helpful for reading Chinese names.</p>
</section>
<section id="kiche" class="level2">
<h2 class="anchored" data-anchor-id="kiche">Kâ€™icheâ€™</h2>
<p>During the Winter 2012 semester of BYU, they offered a introductory Kâ€™icheâ€™ course. I audited it and attended for a few weeks, but ultimately couldnâ€™t keep up with it and Mandarin in the same semester. (I wish had had continued, because it would have been helpful for studying Tzâ€™utijil later on!)</p>
</section>
<section id="tshiluba" class="level2">
<h2 class="anchored" data-anchor-id="tshiluba">Tshiluba</h2>
<p>Fall of 2012, I took a Field Methods course and our informant was a native speaker of <a href="https://en.wikipedia.org/wiki/Luba-Kasai_language">Tshiluba</a> (aka Luba-Kasai), a Bantu language spoken in the DRC. I really enjoyed that course and spent the majority of my time documenting the TAM system.</p>
</section>
<section id="bolivian-quechua" class="level2">
<h2 class="anchored" data-anchor-id="bolivian-quechua">Bolivian Quechua</h2>
<p>When I started graduate school at the Univeristy of Georgia, they had just gotten a, in my advisor Chad Howeâ€™s words, a â€œcrap-tonâ€ of money to help their Quechua program. I was in the second cohort of students to take Quechua there. I took two semesters from Chad Howe. I then continued to third- and fourth-semester courses, which were taught by a native speaker, remotely from Bolivia. (Keep in mind, this was 2015â€“2016, long before remote learning became mainstream!) The instructor didnâ€™t speak any English though and, as you may recall, I donâ€™t really speak Spanish that well, so much of the class was facilitated by a TA who was a Romance Languages PhD student and year ahead of me in school. (Hi, Bethany!) I was one of a couple students in Quechua 201 and the only student in Quechua 202. Towards the end, I was starting to achieve some semblance of fluency, and I could speak somewhat off the cuff and express most of what I wanted to, haltingly, and with lots of mistakes. I do have one line on my CV about Quechua morphology, a conference presentation from LCUGA in 2016.</p>
</section>
<section id="tzutujil" class="level2">
<h2 class="anchored" data-anchor-id="tzutujil">Tzâ€™utujil</h2>
<p>During my first year of grad school, I took field methods again, and our informant spoken Tzâ€™utijil. Like I did with Tshiluba, I focused on verbal morphology, but this time it was more about valency. I had quite a lot of fun with it and wrote a â€œgrammarâ€ of something like 60 pages. Pretty fun.</p>
</section>
<section id="dutch" class="level2">
<h2 class="anchored" data-anchor-id="dutch">Dutch</h2>
<p>In 2019, I started to study Dutch because I had been accepted to a conference in the Netherlands and I wanted to not be <em>that</em> kind of American that just expects everyone to speak English. I did what I could to study, but in a few months, while dissertating, I couldnâ€™t learn that much. While in Utrecht and Amersfoort, I did learn enough to ask people if they spoke Englishâ€”which they almost always replied, â€œYes, of course.â€ However, I had really gotten into breadmaking around then and I ended up going to a corner bakery a little bit away from the touristy downtown area and when I asked the baker if she spoke English, she said, somewhat apologetically, â€œeen beetjeâ€ (â€˜a little bitâ€™). That was my one chance to actually use Dutch!</p>
<p>Since then, Iâ€™ve continued studying Dutch. No real reasonâ€”I donâ€™t have plans to go back to the Netherlandsâ€”but itâ€™s fun to have something to work on. Iâ€™m using Duolingo, but Iâ€™m also reading grammar books, studying a ton of vocabulary, and listening to podcasts. I follow a few Dutch-speaking folks on Twitter and can often understand most of their tweets now. Right now, Iâ€™d say itâ€™s the language Iâ€™ve learned the most, other than English and Portuguese.</p>
</section>
<section id="korean" class="level2">
<h2 class="anchored" data-anchor-id="korean">Korean</h2>
<p>Towards the end of grad school, I needed a 8000-level course, so I took a Korean Linguistics course, which was under the auspices of a â€œLesser-Taught Languagesâ€ course. Most of the students were Korean majors or minors, and the only other two grad students were themselves Korean. I didnâ€™t do that well in the course because I had never studied Korean at all. And my lesser-than-ideal performance shows because I remember virtually nothing from it.</p>
</section>
<section id="honorable-mentions" class="level2">
<h2 class="anchored" data-anchor-id="honorable-mentions">Honorable Mentions</h2>
<p>Languages I studied for a <em>very</em> brief time.</p>
<ul>
<li>Haitian Creole: For a brief week or so in about 2012, my dad thought he was going to be doing business in Haiti, so he asked me to try and learn some Haitian Creole to help him interpret. It didnâ€™t pan out.</li>
<li>German: In 2019, I applied for a job in Switzerland so I started to try and learn German. I as starting Dutch at the same time, and I soon found out I didnâ€™t get the job, so I didnâ€™t get very far.</li>
<li>Ukrainian: In 2022, I started to advise a student on the sociolinguistics of Ukrainian. I thought Iâ€™d try and learn some Ukrainian to help with that.</li>
</ul>
<p><br> Language Iâ€™d like to study in the future.</p>
<ul>
<li>Aymara: Aymara books are near Guarani books in the library, and I have an uncle-in-law who learned it while serving as a missionary in Bolivia.</li>
<li>Korean: My wife and I agreed that once weâ€™re both done with our current Duolingo courses (Dutch for me, Russian for her), weâ€™d learn Korean together. Weâ€™ve watched a few Korean shows on Netflix and Korean culture is becoming more and more prevalent in the US right now anyway, so it might be handy to know.</li>
<li>Norwegian: My great-great-grandfather was the end of an at least 40-generation-long line of Norwegians, specifically from the southern tip of the country. I can trace my ancestry to folks born in the 700s AD, and even the ones born in the 1200s were born only about 30 miles from where my great-great-grandfather was born. Anyway, itâ€™d be interesting to learn Norwegian and visit the area.</li>
</ul>
</section>
<section id="end" class="level2">
<h2 class="anchored" data-anchor-id="end">End</h2>
<p>Anyway, Iâ€™ve heard people say that the more languages you know, the harder it is to define <em>fluent</em>. Thatâ€™s certainly the case for me.</p>


</section>

 ]]></description>
  <category>Personal</category>
  <guid>https://joeystanley.com/blog/stories-behind-the-languages-ive-studied/index.html</guid>
  <pubDate>Sat, 27 May 2023 21:00:00 GMT</pubDate>
</item>
<item>
  <title>My cot-caught distribution</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/my-cot-caught-distribution/index.html</link>
  <description><![CDATA[ 




<p>In appendix C of my <a href="../../blog/dissertation">dissertation</a>, I listed 838 words that contain low vowels, classified as /É‘/ or /É”/ according to my idiolect. I think it may be a useful resource for those who have the <em>cot-caught</em> merger, so I thought Iâ€™d pull it out and make it more available.</p>
<p>The words that are included here are all those that came up in the course of the 54 sociolinguistic interviews I did in Washington State as part of my dissertation work. This means that there are some quirky ones included like <em>Sinterklaas</em> and <em>Jawas</em>. By nature of the naturalistic data, certain common words may be missing.</p>
<p>Please note that, again, this reflects <em>my</em> idiolect, and may not be reflective of othersâ€™ speech, other varieties of English, or historical distributions. For more information about the phonetic realization my two vowels and some phonological peculiarities, please see my description of my <a href="../../pages/idiolect">idiolect</a>.</p>
<p>If you find this page useful, please cite it as Appendix C of my dissertation:</p>
<blockquote class="blockquote">
<p>Stanley, Joseph A. (2020). <em>Vowel Dynamics of the Elsewhere Shift: A Sociophonetic Analysis of English in Cowlitz County, Washington</em>. Ph.D.&nbsp;Dissertation, University of Georgia, Athens, GA.</p>
</blockquote>
<section id="lot-cot-É‘-bot-etc." class="level2">
<h2 class="anchored" data-anchor-id="lot-cot-É‘-bot-etc."><sc>lot</sc>, <em>cot</em>, /É‘/, <sc>bot</sc>, etc.</h2>
<p>The following 550ish words are all those that were classified as part of the <sc>lot</sc> lexical set, which includes many words in the <sc>palm</sc> set (though not <em>palm</em> itself because of that pesky /l/!). Personal names and other identifying words have been removed.</p>
<p><em>accelerometer</em>, <em>accommodate</em>, <em>accommodation</em>, <em>accomplish</em>, <em>accomplished</em>, <em>adopt</em>, <em>adopted</em>, <em>adopting</em>, <em>agronomous</em>, <em>ah</em>, <em>aloha</em>, <em>Aotearoa</em>, <em>apostrophe</em>, <em>approximately</em>, <em>aquatic</em>, <em>assada</em>, <em>astronomical</em>, <em>atomic</em>, <em>atrocities</em>,</p>
<p><em>battery-operated</em>, <em>biography</em>, <em>biological</em>, <em>blah</em>, <em>blobs</em>, <em>block</em>, <em>blockage</em>, <em>blocked</em>, <em>blocking</em>, <em>blocks</em>, <em>blossomed</em>, <em>body</em>, <em>bomb</em>, <em>bomber</em>, <em>bombing</em>, <em>bombings</em>, <em>bombs</em>, <em>bombshell</em>, <em>bon</em>, <em>bond</em>, <em>bonfire</em>, <em>bonfires</em>, <em>Bonnie</em>, <em>Bonnieâ€™s</em>, <em>bother</em>, <em>bothered</em>, <em>bothering</em>, <em>bothers</em>, <em>bottle</em>, <em>bottles</em>, <em>bottom</em>, <em>bottoms</em>, <em>box</em>, <em>boxes</em>, <em>boxing</em>,</p>
<p><em>Chicago</em>, <em>chocks</em>, <em>chop</em>, <em>chopped</em>, <em>chopping</em>, <em>chops</em>, <em>chronically</em>, <em>cilantro</em>, <em>clock</em>, <em>clockâ€™s</em>, <em>clocked</em>, <em>clocks</em>, <em>closet</em>, <em>closeted</em>, <em>cocker</em>, <em>cockney</em>, <em>cocktails</em>, <em>cod</em>, <em>cog</em>, <em>cogs</em>, <em>cognitive</em>, <em>colonoscopy</em>, <em>com</em>, <em>combat</em>, <em>combination</em>, <em>combos</em>, <em>comedies</em>, <em>comedy</em>, <em>comical</em>, <em>comment</em>, <em>comments</em>, <em>commerce</em>, <em>commodity</em>, <em>common</em>, <em>commonly</em>, <em>comp</em>, <em>compact</em>, <em>compensate</em>, <em>compensating</em>, <em>competent</em>, <em>competition</em>, <em>competitions</em>, <em>complement</em>, <em>complex</em>, <em>complicate</em>, <em>complicated</em>, <em>complications</em>, <em>compound</em>, <em>comstock</em>, <em>con</em>, <em>concentrate</em>, <em>concentrating</em>, <em>concept</em>, <em>concepts</em>, <em>concert</em>, <em>concerts</em>, <em>concrete</em>, <em>condo</em>, <em>conduct</em>, <em>conference</em>, <em>conferences</em>, <em>confidence</em>, <em>confident</em>, <em>confirmation</em>, <em>conflict</em>, <em>conglomerate</em>, <em>congregates</em>, <em>congress</em>, <em>Conner</em>, <em>Connie</em>, <em>conquer</em>, <em>cons</em>, <em>conscience</em>, <em>conscious</em>, <em>consequence</em>, <em>consequences</em>, <em>constable</em>, <em>constant</em>, <em>constantly</em>, <em>constitution</em>, <em>contact</em>, <em>contacted</em>, <em>content</em>, <em>contest</em>, <em>contests</em>, <em>continental</em>, <em>contraband</em>, <em>contract</em>, <em>contracted</em>, <em>contractor</em>, <em>contractors</em>, <em>contracts</em>, <em>contrast</em>, <em>controversy</em>, <em>conversation</em>, <em>converse</em>, <em>convert</em>, <em>cooperating</em>, <em>cop</em>, <em>copper</em>, <em>cops</em>, <em>copy</em>, <em>copying</em>, <em>Cossack</em>, <em>costume</em>, <em>cot</em>, <em>cots</em>, <em>counter-clockwise</em>, <em>Cozumel</em>, <em>crop</em>, <em>crops</em>,</p>
<p><em>deposit</em>, <em>dichotomy</em>, <em>dock</em>, <em>doctor</em>, <em>doctorâ€™s</em>, <em>doctorate</em>, <em>doctors</em>, <em>doctrine</em>, <em>documented</em>, <em>documents</em>, <em>dodge</em>, <em>dodgeball</em>, <em>dodged</em>, <em>Don</em>, <em>Donald</em>, <em>dot</em>, <em>drama</em>, <em>drop</em>, <em>drop-out</em>, <em>dropoff</em>, <em>dropouts</em>, <em>dropped</em>, <em>dropping</em>, <em>drops</em>,</p>
<p><em>ebonics</em>, <em>economic</em>, <em>economics</em>, <em>economy</em>, <em>electronic</em>, <em>electronics</em>, <em>ensemble</em>, <em>esophagus</em>, <em>Exxon</em>,</p>
<p><em>father</em>, <em>father-in-law</em>, <em>father-in-lawâ€™s</em>, <em>fatherâ€™s</em>, <em>fiance</em>, <em>fianceâ€™s</em>, <em>Firefox</em>, <em>flock</em>, <em>flocks</em>, <em>flops</em>, <em>fondest</em>, <em>fondue</em>, <em>forgot</em>, <em>forgotten</em>, <em>fox</em>,</p>
<p><em>galoshes</em>, <em>garage</em>, <em>garages</em>, <em>geography</em>, <em>geometry</em>, <em>god</em>, <em>godâ€™s</em>, <em>goddess</em>, <em>godfather</em>, <em>godparents</em>, <em>gosh</em>, <em>gospel</em>, <em>gossip</em>, <em>got</em>, <em>gotcha</em>, <em>gotta</em>, <em>gotten</em>, <em>grandfather</em>, <em>grandma</em>, <em>grandmaâ€™s</em>, <em>grandpa</em>, <em>grandpaâ€™s</em>, <em>great-grandfatherâ€™s</em>, <em>Guam</em>,</p>
<p><em>ha</em>, <em>hobbies</em>, <em>hobby</em>, <em>hockey</em>, <em>homogenized</em>, <em>Honda</em>, <em>honest</em>, <em>honestly</em>, <em>honesty</em>, <em>honor</em>, <em>honorable</em>, <em>hopped</em>, <em>hopper</em>, <em>hops</em>, <em>hospice</em>, <em>hospital</em>, <em>hospitals</em>, <em>hostage</em>, <em>hot</em>, <em>hotter</em>, <em>hottest</em>, <em>hypothesis</em>,</p>
<p><em>impossible</em>, <em>impoverished</em>, <em>improper</em>, <em>Iran</em>, <em>ironic</em>, <em>ironically</em>,</p>
<p><em>Java</em>, <em>Jawa</em>, <em>Jawas</em>, <em>job</em>, <em>job-wise</em>, <em>jobs</em>, <em>jock</em>, <em>jockey</em>, <em>jockeying</em>, <em>jockeys</em>, <em>jocks</em>, <em>Joplin</em>,</p>
<p><em>Kawasaki</em>, <em>knob</em>, <em>knock</em>, <em>knocked</em>, <em>knocking</em>, <em>knocks</em>,</p>
<p><em>la</em>, <em>Lafayette</em>, <em>lava</em>, <em>Lhasa</em>, <em>llama</em>, <em>llamas</em>, <em>lobby</em>, <em>lobster</em>, <em>lock</em>, <em>locked</em>, <em>locking</em>, <em>locks</em>, <em>lodge</em>, <em>logic</em>, <em>lot</em>, <em>lots</em>, <em>lotta</em>, <em>lotteries</em>,</p>
<p><em>ma</em>, <em>Mazama</em>, <em>Mazamas</em>, <em>McDonald</em>, <em>McDonaldâ€™s</em>, <em>McDonalds</em>, <em>microprocessor</em>, <em>microprocessors</em>, <em>mill-dominated</em>, <em>mock</em>, <em>model</em>, <em>modeling</em>, <em>models</em>, <em>moderate</em>, <em>modern</em>, <em>modest</em>, <em>modify</em>, <em>modular</em>, <em>mom</em>, <em>momâ€™s</em>, <em>moms</em>, <em>monetary</em>, <em>Monica</em>, <em>monocle</em>, <em>monopoly</em>, <em>monotone</em>, <em>monsterâ€™s</em>, <em>Monterrey</em>, <em>Montgomery</em>, <em>Montiville</em>, <em>monument</em>, <em>mop</em>, <em>Morocco</em>, <em>motto</em>,</p>
<p><em>nah</em>, <em>Nazi</em>, <em>Nazis</em>, <em>neon</em>, <em>nodding</em>, <em>non-athletes</em>, <em>non-profit</em>, <em>non-profits</em>, <em>non-stop</em>, <em>novel</em>, <em>novelist</em>,</p>
<p><em>oâ€™clock</em>, <em>obligated</em>, <em>obsolete</em>, <em>obstacles</em>, <em>obvious</em>, <em>obviously</em>, <em>occupies</em>, <em>October</em>, <em>odd</em>, <em>odd-shaped</em>, <em>oddly</em>, <em>odds</em>, <em>Ohana</em>, <em>omelette</em>, <em>omelettes</em>, <em>op</em>, <em>opera</em>, <em>operate</em>, <em>operating</em>, <em>operation</em>, <em>operations</em>, <em>operator</em>, <em>operators</em>, <em>opportunities</em>, <em>opportunity</em>, <em>opposite</em>, <em>option</em>, <em>optional</em>, <em>options</em>, <em>orthodontist</em>, <em>ostracized</em>, <em>Ostrander</em>, <em>ostriches</em>, <em>otters</em>, <em>oxy</em>, <em>oxy-fuel</em>, <em>oxygen</em>,</p>
<p><em>pa</em>, <em>pasta</em>, <em>pecan</em>, <em>pecans</em>, <em>periodontist</em>, <em>phenomenal</em>, <em>philanthropic</em>, <em>philosophies</em>, <em>philosophy</em>, <em>phonologically</em>, <em>phosphorus</em>, <em>photographer</em>, <em>photography</em>, <em>Photoshop</em>, <em>plopped</em>, <em>Pocahontas</em>, <em>pocket</em>, <em>pockets</em>, <em>pod</em>, <em>podcast</em>, <em>pond</em>, <em>ponds</em>, <em>Pontiac</em>, <em>pop</em>, <em>popped</em>, <em>pops</em>, <em>popular</em>, <em>population</em>, <em>posh</em>, <em>positing</em>, <em>positive</em>, <em>possible</em>, <em>possibly</em>, <em>pot</em>, <em>potholes</em>, <em>potluck</em>, <em>potlucks</em>, <em>Potter</em>, <em>potty</em>, <em>pottying</em>, <em>poverty</em>, <em>predominantly</em>, <em>probably</em>, <em>problem</em>, <em>problem-solvers</em>, <em>problems</em>, <em>process</em>, <em>processed</em>, <em>processes</em>, <em>processing</em>, <em>proclamation</em>, <em>product</em>, <em>products</em>, <em>progress</em>, <em>project</em>, <em>projects</em>, <em>prom</em>, <em>prominent</em>, <em>prop</em>, <em>proper</em>, <em>properly</em>, <em>properties</em>, <em>property</em>, <em>props</em>, <em>prosecuted</em>, <em>proselyte</em>, <em>prospects</em>, <em>prostate</em>, <em>psychologically</em>,</p>
<p><em>quads</em>,</p>
<p><em>recognizance</em>, <em>reconnaissance</em>, <em>regatta</em>, <em>remodel</em>, <em>remodeled</em>, <em>remodeling</em>, <em>remodels</em>, <em>repository</em>, <em>reprocess</em>, <em>respond</em>, <em>responded</em>, <em>response</em>, <em>responses</em>, <em>responsible</em>, <em>robin</em>, <em>robinâ€™s</em>, <em>rock</em>, <em>rockâ€™s</em>, <em>Rockefeller</em>, <em>rocker</em>, <em>rockers</em>, <em>rocket</em>, <em>rockets</em>, <em>rocking</em>, <em>rocks</em>, <em>rocky</em>, <em>rod</em>, <em>rods</em>, <em>rotted</em>, <em>rotten</em>,</p>
<p><em>Saigon</em>, <em>Scotland</em>, <em>self-conscious</em>, <em>shock</em>, <em>shocked</em>, <em>shop</em>, <em>shopped</em>, <em>shopping</em>, <em>shops</em>, <em>shot</em>, <em>shotguns</em>, <em>shots</em>, <em>Sinterklaas</em>, <em>skaâ€™s</em>, <em>sloppy</em>, <em>snobbies</em>, <em>snobby</em>, <em>snot</em>, <em>sobbed</em>, <em>soccer</em>, <em>soccerâ€™s</em>, <em>sock</em>, <em>socket</em>, <em>socks</em>, <em>sponsor</em>, <em>sponsoring</em>, <em>spot</em>, <em>spots</em>, <em>spotted</em>, <em>spotter</em>, <em>spotters</em>, <em>squash</em>, <em>squat</em>, <em>squatter</em>, <em>squatters</em>, <em>stock</em>, <em>stocking</em>, <em>stockings</em>, <em>stomping</em>, <em>stop</em>, <em>stopped</em>, <em>stopping</em>, <em>stops</em>,</p>
<p><em>taco</em>, <em>telethon</em>, <em>teriyaki</em>, <em>throttle</em>, <em>toddler</em>, <em>top</em>, <em>topic</em>, <em>topics</em>, <em>topless</em>, <em>Toppenish</em>, <em>toppled</em>, <em>tops</em>, <em>trigonometry</em>, <em>tropical</em>, <em>trot</em>, <em>Tsugawaâ€™s</em>, <em>tsunami</em>,</p>
<p><em>Uganda</em>, <em>unblock</em>, <em>uncommon</em>, <em>Vietnam</em>,</p>
<p><em>whatnot</em>, <em>Wisconsin</em>,</p>
<p><em>Yamaha</em>,</p>
<p><em>zombie</em></p>
</section>
<section id="thought-caught-É”-bought-etc." class="level2">
<h2 class="anchored" data-anchor-id="thought-caught-É”-bought-etc."><sc>thought</sc>, <em>caught</em>, /É”/, <sc>bought</sc>, etc.</h2>
<p>Meanwhile, the following 280ish words are all those that were classified as part of the <sc>thought</sc> lexical set, which includes most (or probably all) words in the <sc>cloth</sc> set. Again, personal names and other identifying words have been removed.</p>
<p><em>across</em>, <em>along</em>, <em>alongside</em>, <em>applesauce</em>, <em>Auburn</em>, <em>auction</em>, <em>auctions</em>, <em>audio</em>, <em>audioâ€™s</em>, <em>audits</em>, <em>aught</em>, <em>August</em>, <em>Austin</em>, <em>Austria</em>, <em>Austrian</em>, <em>authorâ€™s</em>, <em>authorized</em>, <em>autism</em>, <em>auto</em>, <em>auto-related</em>, <em>autobiography</em>, <em>automatic</em>, <em>automatically</em>, <em>automobiles</em>, <em>autopsy</em>, <em>awe</em>, <em>awesome</em>, <em>awful</em>, <em>awkward</em>, <em>awkwardness</em>,</p>
<p><em>belong</em>, <em>belonged</em>, <em>belongings</em>, <em>beyond</em>, <em>blog</em>, <em>blogger</em>, <em>bloggers</em>, <em>blogging</em>, <em>blogs</em>, <em>blond</em>, <em>bonko</em>, <em>bonkos</em>, <em>boss</em>, <em>bosses</em>, <em>Boston</em>, <em>bought</em>, <em>bra</em>, <em>bras</em>, <em>broad</em>, <em>broadcast</em>, <em>broadcasting</em>, <em>broadway</em>, <em>brothels</em>, <em>brought</em>,</p>
<p><em>câ€™mon</em>, <em>calm</em>, <em>caught</em>, <em>cause</em>, <em>caused</em>, <em>causes</em>, <em>causing</em>, <em>cautious</em>, <em>chainsaw</em>, <em>chalked</em>, <em>chocolate</em>, <em>chocolates</em>, <em>clause</em>, <em>clog</em>, <em>clogged</em>, <em>clogging</em>, <em>cloth</em>, <em>coffee</em>, <em>Cong</em>, <em>cost</em>, <em>Costco</em>, <em>costs</em>, <em>cross</em>, <em>cross-wired</em>, <em>crossed</em>, <em>crosses</em>, <em>crossing</em>, <em>crosswise</em>, <em>crossword</em>, <em>cutoff</em>,</p>
<p><em>daughter</em>, <em>daughter-in-law</em>, <em>daughter-in-laws</em>, <em>daughterâ€™s</em>, <em>daughters</em>, <em>daughters-in-law</em>, <em>dawn</em>, <em>dawned</em>, <em>dishwater</em>, <em>dog</em>, <em>dogâ€™s</em>, <em>doggie</em>, <em>dogging</em>, <em>doggone</em>, <em>dogs</em>, <em>dong</em>, <em>donkeys</em>, <em>draw</em>, <em>drawed</em>, <em>drawing</em>, <em>drawn</em>, <em>draws</em>,</p>
<p><em>elongated</em>, <em>exhaust</em>,</p>
<p><em>fog</em>, <em>fought</em>, <em>frogs</em>, <em>froth</em>,</p>
<p><em>gloss</em>, <em>gone</em>, <em>goner</em>, <em>gong</em>, <em>goth</em>, <em>goths</em>, <em>granddaughter</em>, <em>granddaughters</em>,</p>
<p><em>haunted</em>, <em>haunts</em>, <em>hawed</em>, <em>hawk</em>, <em>hog</em>, <em>Hogwarts</em>,</p>
<p><em>jaw</em>, <em>jigsaw</em>, <em>jog</em>, <em>jogged</em>, <em>jogging</em>, <em>Johnston</em>, <em>Johnstonâ€™s</em>,</p>
<p><em>Las Vegas</em>, <em>laundry</em>, <em>law</em>, <em>lawn</em>, <em>lawnmower</em>, <em>lawns</em>, <em>laws</em>, <em>lifelong</em>, <em>log</em>, <em>logged</em>, <em>logger</em>, <em>loggers</em>, <em>logging</em>, <em>logjammed</em>, <em>logs</em>, <em>long</em>, <em>Long-Bell</em>, <em>Long-Bellâ€™s</em>, <em>long-span</em>, <em>long-standing</em>, <em>long-term</em>, <em>longer</em>, <em>longest</em>, <em>longjohns</em>, <em>longshore</em>, <em>longshoreman</em>, <em>longshoremanâ€™s</em>, <em>Longview</em>, <em>Longview-ite</em>, <em>Longviewâ€™s</em>, <em>loss</em>, <em>losses</em>, <em>lost</em>,</p>
<p><em>mama</em>, <em>Montana</em>, <em>moss</em>, <em>mossy</em>, <em>naughty</em>,</p>
<p><em>off-duty</em>, <em>offer</em>, <em>offered</em>, <em>offerings</em>, <em>offers</em>, <em>offhand</em>, <em>office</em>, <em>officer</em>, <em>officers</em>, <em>offices</em>, <em>often</em>, <em>Ogden</em>, <em>online</em>, <em>on</em>, <em>onset</em>, <em>onto</em>,</p>
<p><em>palm</em>, <em>pause</em>, <em>paused</em>, <em>pausing</em>, <em>paw</em>, <em>pawn</em>, <em>paws</em>, <em>pong</em>, <em>profit</em>, <em>profitable</em>, <em>prolonging</em>, <em>promise</em>, <em>promised</em>, <em>promising</em>, <em>prompt</em>, <em>prophecy</em>, <em>prophet</em>,</p>
<p><em>quantities</em>,</p>
<p><em>raw</em>, <em>restaurant</em>, <em>restaurants</em>,</p>
<p><em>sauce</em>, <em>saucers</em>, <em>sauces</em>, <em>sausage</em>, <em>Sauvie</em>, <em>saw</em>, <em>sawing</em>, <em>sawmill</em>, <em>saws</em>, <em>Schwannâ€™s</em>, <em>scoff</em>, <em>slaughtering</em>, <em>sloshes</em>, <em>soft</em>, <em>softball</em>, <em>software</em>, <em>somber</em>, <em>sombering</em>, <em>song</em>, <em>songs</em>, <em>sophomore</em>, <em>spawning</em>, <em>squaw</em>, <em>stalker</em>, <em>stalking</em>, <em>straw</em>, <em>strawberries</em>, <em>strawberry</em>, <em>strong</em>, <em>stronger</em>, <em>strongest</em>, <em>swans</em>, <em>swath</em>,</p>
<p><em>talk</em>, <em>talkative</em>, <em>talked</em>, <em>talker</em>, <em>talkie</em>, <em>talking</em>, <em>talks</em>, <em>taught</em>, <em>thaw</em>, <em>thought</em>, <em>thoughts</em>, <em>tomboy</em>, <em>Tonga</em>, <em>tossed</em>, <em>traumatized</em>,</p>
<p><em>underwater</em>, <em>upon</em>, <em>Utah</em>,</p>
<p><em>vaudeville</em>,</p>
<p><em>waffle</em>, <em>waffles</em>, <em>walk</em>, <em>walked</em>, <em>walking</em>, <em>walks</em>, <em>walkway</em>, <em>wand</em>, <em>wandering</em>, <em>wash</em>, <em>washboardy</em>, <em>Washburn</em>, <em>washed</em>, <em>washer</em>, <em>Washington</em>, <em>watch</em>, <em>watched</em>, <em>watches</em>, <em>watching</em>, <em>water</em>, <em>watering</em>, <em>waters</em>, <em>wrong</em></p>


</section>

 ]]></description>
  <category>Dissertation</category>
  <category>Lexical Sets</category>
  <category>Personal</category>
  <guid>https://joeystanley.com/blog/my-cot-caught-distribution/index.html</guid>
  <pubDate>Tue, 23 May 2023 20:00:00 GMT</pubDate>
</item>
<item>
  <title>SoSy</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/sosy5/index.html</link>
  <description><![CDATA[ 




<p>Today, Iâ€™m in Champaign, Illinois at the 5th Sociolinguistics Symposium (SoSy) at the University of Illinois Urbana-Champaign. Iâ€™m with a student of mine, Katya Kravchenko, and weâ€™re here presenting her research project, â€œSurzhyk: Attitudes and Usage among Ukrainian People.â€ You can view the slides <a href="../../downloads/230302-SoSy_Surzhyk.pdf">here</a>.</p>
<p>Throughout my sociolinguistics course last semester, Katya regularly kept us updated on fascinating things going on with language attitudes and ideologies among Ukrainians since the Russian invasion of Ukraine in February 2022. I think pretty much every Ukrainian speaks Russian, but not all speak Ukrainian. Even President Zelenskyy isnâ€™t a native Ukrainian speaker and reportedly hired a tutor to help him achieve full command of the language.</p>
<p>Attitudes towards Russian have changed dramatically in the past year though. Before, TV shows would put Ukrainians subtitles if someone speaks Russian. Now, they remove the Russian audio entirely and dub it over with Ukrainian. (This what happened on the Ukrainian version of the show, â€œThe Bachelorâ€.) Sometimes, thereâ€™s a disclaimer at the start of the show saying apologetically that it was filmed before February 2022 and that they apologize for the Russian. Thereâ€™s a grassroots effort (I wish I had the website, but I canâ€™t find it now) to replace Russian borrowings into Ukrainian with pure Ukrainian words. This is done either by coining neologisms, or by going back to and older form of Ukrainian and finding words that, for whatever reason, didnâ€™t make their way into modern Ukrainian. Basically, many Ukrainians are vowing to never speak Russian again.</p>
<p>For native bilinguals, itâ€™s not too much of a problem. However, for those who arenâ€™t fluent in Ukrainian this can be a tricky thing!</p>
<p>In comes Surzhyk. Surzhyk is a mix of Ukrainian and Russian, akin to Spanglish. Thereâ€™s not a lot of linguistic research on it, but itâ€™s rather stigmatized. In the past year though, Katya is finding that peopleâ€™s view of Surzhyk is becoming more positive. She interviewed 15 Ukrainians who were living in Ukraine in February 2022 and since fled to Utah. One part of the interview asked them about their usage patterns. Like any Fergesonian Low language, itâ€™s seen as too casual for formal settings. But, when it comes to attitudes, itâ€™s seen as a bridge to help Russian speakers learn Ukrainian. Speaking Surzhyk instead of Russian signals a <em>lot</em> about someoneâ€™s position in the war. A year and a month ago, speaking one languageâ€”whether it be Ukrainian or Russianâ€”was better than mixing the two. Today, speaking Surzhyk is seen as better than full Russian.</p>
<p>This is 99% Katyaâ€™s research, but it has been fun to hop on board and work with her on this. Itâ€™s not about vowels, statistics, or American English, and I donâ€™t speak a word of Russian, Ukrainian, or Surzhyk. But it has been a fun stretch for me.</p>



 ]]></description>
  <category>Conferences</category>
  <category>Presentations</category>
  <category>Research</category>
  <category>Students</category>
  <guid>https://joeystanley.com/blog/sosy5/index.html</guid>
  <pubDate>Thu, 02 Mar 2023 14:00:00 GMT</pubDate>
</item>
<item>
  <title>10 Years of wanting to be an academic</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/ten-years-of-conferences/index.html</link>
  <description><![CDATA[ 




<p>Last week, I was at the LSA/ADS conferences in Denver, and it occurred to me that ten years ago this week is when I decided I wanted to be an academic.</p>
<div class="page-columns page-full"><p>In the summer of 2011, I went on a study abroad to Ecuador with my now-colleague Janis Nuckolls. It was a fantastic experience and really got me excited about linguistics. Afterwards, me and two other students started meeting with her as a research group. Over the next year we met weekly as we worked on the phonology of Kichwa ideophones, research that would eventually lead to <a href="https://www.journals.uchicago.edu/doi/10.1086/684425">our 2016 publication in IJAL</a>.</p><div class="no-row-height column-margin column-container"><span class="">That paper may forever be my most cited publication, which is weird because itâ€™s not at all what I do for research now!</span></div></div>
<p>We got the point where Janis was ready to submit the research to a conference. So, we wrote up the abstract and submitted it to the SSILA conference, which meets concurrently with LSA, ADS, and a few other sister societies. And we got in!</p>
<p>At first, I wasnâ€™t planning on going. I was engaged and the conference was less than two weeks after my wedding. I decided last minute that I really should go though. My wife helped me pick out some conference clothes (I still wear the green shirt I got then as a homage to my first conference!), I managed to get some funds from the department, and after a red-eye flight that included layovers in Denver and Philadelphia, I made it to Boston.</p>
<p>Our presentation was in the very first session on that Thursday, and I remember being pretty nervous as I read my section. I didnâ€™t look up from my script once. But because the talk was over with soon after arriving to the conference, I was able to spend the the next two days wandering around attending whatever talks looked interesting.</p>
<p>Iâ€™m pretty sure I ended up spending most of my time at the ADS sessions. I was still an undergrad, but I had already applied to some graduate schools with the intent of studying sociolinguistics, so I actually recognized some of the names there and I was able to put faces to names. According to my program book from that year, here are a few things I saw:</p>
<ul>
<li>Joseph Hill presented, in ASL, about the influence of African American English on African American Sign Language.</li>
<li>Nicole Rosen presented on the difference between Latter-day Saints and non-Latter-day Saints in Alberta.</li>
<li>Dan Villarreal (and my now-colleague, Grant Eckstein) presented on intonation patterns of Latter-day Saints compared to non-Latter-day Saints when reading scripture.</li>
<li>Bill Kretzschmar presented on computational approaches to dialect mapping. (Little did I know Iâ€™d be his RA for four years!)</li>
<li>Lisa Davidson and Daniel Erker presented on hiatus resolution in American English.</li>
<li>Livia Oushiro and Ronald Mendes presented on nasal /e/ in Brazilian Portuguese</li>
<li>Patricia Cukor-Avila on Texansâ€™ perceptions of regional variation</li>
<li>David Durian on what we now call the LBMS in Ohio.</li>
</ul>
<p>Itâ€™s really interesting to look through the booklet and see what talks I didnâ€™t consider but would definitely see today. Itâ€™s also interesting to see where people I now know were ten years ago.</p>
<p>Anyway, by the end of the conference, I had caught the bug. I knew that <em>that</em> is where I wanted to be. Those were my people. In fact, it was at the next LSA/ADS I went to, which was two years later in Portland, that I got the idea for my dissertation topic. The story for that will have to wait for another blog post.</p>
<p><br></p>



 ]]></description>
  <category>Personal</category>
  <guid>https://joeystanley.com/blog/ten-years-of-conferences/index.html</guid>
  <pubDate>Thu, 12 Jan 2023 14:00:00 GMT</pubDate>
</item>
<item>
  <title>LSA and ADS 2023</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/ads-and-lsa-2023/index.html</link>
  <description><![CDATA[ 




<p>This week Iâ€™m in Denver at annual meetings of the Linguistic Society of America and the American Dialect Society. I gave two talks, which you can download here:</p>
<section id="lsa-talk-on-mountain-in-utah" class="level2">
<h2 class="anchored" data-anchor-id="lsa-talk-on-mountain-in-utah">LSA talk on <em>mountain</em> in Utah</h2>
<p>My first talk is called â€œUtahns sound Utahn when they avoid sounding Utahn.â€ Basically, I find that Utahns say <em>moun</em>[tÊ°É¨n] more than other people do because they avoid the stigma assigned to the glottal stop in the local realization, <em>moun</em>[Ê”É¨n], and that has since spread to the nationwide standard <em>moun</em>[Ê”nÌ©]. Iâ€™ve been very eager to talk about these ideas for a while so I hope you find them as interesting as I do.</p>
<ul>
<li><a href="../../downloads/230106-LSA_mountain.pptx">Here</a> is the actual powerpoint file. In the notes for each slide youâ€™ll see the actual script I read from. And since the audio is embedded into the file, if you enter presentation mode and mouse over a quote, youâ€™ll hear the actual audio.</li>
<li>In case you donâ€™t need all that and you just want a PDF, <a href="../../downloads/230106-LSA_mountain.pdf">hereâ€™s</a> that instead.</li>
</ul>
<p>If you want to read a little more about this topic, please see my <a href="../../blog/idaho-montana-wyoming-and-utah-english-survey-results">blog post</a> from a few months ago with some preliminary results.</p>
</section>
<section id="ads-talk-on-idaho-english" class="level2">
<h2 class="anchored" data-anchor-id="ads-talk-on-idaho-english">ADS talk on Idaho English</h2>
<p>My other talk, â€œIs Idaho English really â€˜the epitome of Average Englishâ€™?â€, was in collaboration with KaTrina Jackson, who unfortunately couldnâ€™t be there to help present. The quote in the title comes from Dennis Prestonâ€™s 1989 book where he found that people didnâ€™t think anything of Idaho English. We examine data on Idaho English and show that it lacks stigmatized linguistic features from Utah, but also innovative features like the LBMS. It does have features that are floating under the radar though. In the end we, conclude that Idaho English does appear to be the epitome of average English.</p>
<ul>
<li><a href="../../downloads/230106-ADS_Idaho_notes.pdf">Hereâ€™s</a> a version that has the slides and the full script that I read from, in case you want to get all the nitty-gritty detail.</li>
<li><a href="../../downloads/230106-ADS_Idaho.pdf">Here</a> is a PDF of the slides themselves, in case you just want that instead.</li>
</ul>
<p>Please see my <a href="../../blog/idaho-montana-wyoming-and-utah-english-survey-results">blog post</a> from a few months ago which goes into a little more detail than what I had time to talk about here.</p>


</section>

 ]]></description>
  <category>Conferences</category>
  <category>Presentations</category>
  <category>Research</category>
  <category>Students</category>
  <category>Utah</category>
  <category>West</category>
  <guid>https://joeystanley.com/blog/ads-and-lsa-2023/index.html</guid>
  <pubDate>Fri, 06 Jan 2023 12:30:00 GMT</pubDate>
</item>
<item>
  <title>New publication in Linguistics Vanguard</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/new-publication-in-linguistics-vanguard/index.html</link>
  <description><![CDATA[ 




<p>Iâ€™m happy to announce that <a href="https://doi.org/10.1515/lingvan-2022-0065">a paper of mine has been published</a> in <em>Linguistics Vanguard</em>. Itâ€™s called â€œInterpreting the order of operations in sociophonetic analysisâ€ and itâ€™s a direct follow-up to a <a href="https://repository.upenn.edu/pwpl/vol28/iss2/17/">paper</a> I wrote for the <em>Penn Working Papers in Linguistics</em> a couple months ago. While the <em>PWPL</em> paper showed that Order of Operations (OoO) matters, that we should be talking about it more, and that we should do our best to interpret othersâ€™ OoOs, it didnâ€™t give any help as to <em>how</em> to interpret them. The main contribution for this follow-up paper then is to 1) arm researchers with knowledge of how to interpret order of operations and 2) justify the order I recommended in the <em>PWPL</em> paper.</p>
<section id="summary" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>To reiterate <a href="../../blog/new-publication-in-pwpl">what I said</a> when the <em>PWPL</em> paper came out, the idea for this paper got started when I was in the throes of data analysis and I noticed that reordering some of the processing steps resulted in different changes. I did a systematic study of OoO, presented it at <a href="../../blog/nwav49">NWAV49 in 2021</a>, and published those results in <em>PWPL</em>. But it occurred to me that even if we all become diligent and report the OoO we used in our papers, we donâ€™t really have the knowledge of how weâ€™re supposed to interpret those orders. As I put it in the paper,</p>
<blockquote class="blockquote">
<p>[I]t does little good if researchers are not familiar with how the order affects the overall results. A detailed methods section may explain that normalization happened before outliers were removed, but it is not currently clear what effect that order had on the results. How should a reader evaluate the results of one study that normalized the data before removing outliers against another study that transposed those two steps? This paper addresses this gap and explores in more detail the effect that some orderings are likely to have on the results of a study.</p>
</blockquote>
<p>Perhaps phrase another way, what specifically <em>is</em> the effect of normalizing before removing outliers compared to removing outliers before normalizing? Do formants go up, down, or something more complicated? As I mention in footnote 1, this knowledge can be used as â€œcheat codesâ€ to manipulate your data the way you want. Hopefully reviewers can spot this kind of hacking!</p>
<p>Anyway, so when I analyzed the same data 5040 times but with different orders of operation, I ended up with 5040 hypothetical analyses of the same dataset. Obviously, it didnâ€™t make sense to consider every single one. So instead, I concentrated my efforts on 1) finding orders that produced identical results and 2) seeing what happens when I swapped two steps in the recommended OoO I have in the <em>PWPL</em> paper.</p>
<p>Hereâ€™s that recommended order (Figure 1):</p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="https://joeystanley.com/blog/new-publication-in-linguistics-vanguard/recommended_OoO.png" class="img-fluid figure-img" style="width:25.0%"></p>
<figcaption class="figure-caption margin-caption">My recommended Order of Operations. Sorry the figure is so tall. And yes, I use PowerPoint for all my non-data visualizations :)</figcaption>
</figure>
</div>
<p>Many of the orders produced identical results. This was mostly the result of various subsetting functions removing different groups of unwanted data, such as unstressed vowels, presonorants, stopwords, and vowel trajectories. This makes sense because, as I say in the paper,</p>
<blockquote class="blockquote">
<p>The set of observations that are excluded in these steps is fixed: regardless of the normalization procedure, whether outliers have been removed, or how the vowels are classified, the exact same set of observations will be excluded each time.</p>
</blockquote>
<p>These functions are all similar in that they remove data that is not needed or wanted for the current analysis, but is otherwise good. This similarity is visualized by clumping them together within a single block. I argue that because this is good data, it should only be removed at the very end of the pipeline, even after normalization.</p>
<p>So then I go and explore each pair of steps in my recommended order. Allophones should be classified before removing outliers because it just makes sense to do so. Also, failing to do so will make Pillai scores go up because you artificially draw two vowel classes together. Outliers should be removed before normalization because you donâ€™t want outliers to mess up the normalization.</p>
<p>The trickiest part of the paper to understand is section 6 and Figure 4. I use it to show the interaction between normalization and subsetting. I recommend normalizing first. If you subset first and then normalize, the data is altered in kind of a weird way, especially if youâ€™re doing Lobanov normalization. In the end I conclude that itâ€™s better to normalize first with this justification:</p>
<blockquote class="blockquote">
<p>One may argue that subsetting should happen before normalization so that comparisons across studies are more meaningful. It is true that a study that collects interview data will exclude many more tokens than another study that only elicits wordlist data. An argument can be made that by subsetting before normalization, what remains from the interview study more closely matches what is even collected in the wordlist study, and therefore the effect of normalization is more comparable between the two. However, a follow-up study of the interview data that happens to focus on something that was previously excluded, like vowel trajectories, will end up with a different input into the normalization step than the first study. There will be a difference between the normalized data in the first study and the normalized data in the second study. In other words, a single token of [Ã¦] will have different normalized F1â€“F2 measurements between the two studies. This makes no sense since the token has not changed whatsoever.</p>
</blockquote>
<p>However, I acknowledge that if speakers have markedly different sample sizes, normalization will affect them in different ways. I think this is more indicative of an imperfect normalization procedure than anything else. We just havenâ€™t yet found a method that perfectly models the human ear. There is room to explore normalization procedures that perform better or worse when speakersâ€™ datasets are not particularly comparable.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Anyway, I encourage you to read the paper. I enjoyed writing it. And now that Iâ€™ve closed up that loose end, maybe I can now go back to doing actual sociolinguistic research!</p>


</section>

 ]]></description>
  <category>Methods</category>
  <category>Research</category>
  <category>Publications</category>
  <category>Vowel Overlap</category>
  <guid>https://joeystanley.com/blog/new-publication-in-linguistics-vanguard/index.html</guid>
  <pubDate>Wed, 14 Dec 2022 15:12:00 GMT</pubDate>
</item>
<item>
  <title>Prevelar raising paper published in American Speech</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/prevelar-raising-american-speech/index.html</link>
  <description><![CDATA[ 




<p>Iâ€™m thrilled to announce that a paper of mine has been <a href="https://read.dukeupress.edu/american-speech/article/97/3/374/174069/Regional-Patterns-in-Prevelar-Raising">published in <em>American Speech</em></a>! Itâ€™s called â€œRegional patterns in prevelar raising.â€ This one has been in the works for quite some time, so itâ€™s very exciting to see it finally published.</p>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>Some people pronounce words like <em>bag</em>, <em>flag</em>, and <em>dragon</em> with a raised vowel, so that <em>bag</em> rhymes with <em>vague</em>. There are also some people who pronounce words like <em>beg</em>, <em>peg</em>, and <em>leggings</em> with that same raised vowel. People have studied this in a few places, most notably Wisconsin and the Pacific Northwest, but not really much anywhere else. Iâ€™m from St.&nbsp;Louis and Iâ€™ve got <sc>beg</sc>-raising pretty strong. So, where else do you get prevelar raising? Whenever I have a question like that, I just ask my 7000 closest friends what they do, as one does :)</p>
<p>I set up a survey that asks people to indicate how they pronounce something like 70 prevelar words. I distributed it on Reddit to get good geographic coverage. Using fancy GIS skills (thanks, Jack Grieve for helping me with that!), I was able to produce some pretty cool maps showing where you get raising. As it turns out, the regions where people reported <sc>bag</sc>-raising lines up with where <sc>bag</sc>-raising has been reported in the ANAE based on acoustic data, which is good because it means the data I have is at least somewhat reliable. For <sc>beg</sc>-raising though, I found that itâ€™s much more widespread. Pretty much everywhere except the South and Michigan youâ€™ll find people who have it, and youâ€™re more likely to find it in places like Ohio, Indiana, the Upper Rockies, and Canadian Praries.</p>
<p>Anyway, I had a lot of fun with this one. Thereâ€™s less work on prevelar raising at the moment compared to like five years ago when I first had the idea for the project. But thatâ€™s okay. It was fun to learn how to make cool maps.</p>
</section>
<section id="timeline" class="level2">
<h2 class="anchored" data-anchor-id="timeline">Timeline</h2>
<p>I take careful notes of when my projects hit major milestones. I figued Iâ€™d share those with you here:</p>
<ul>
<li>November 2017: I had the idea for the study. I was teaching a phonetics and phonology class and noticed that I have <sc>beg</sc>-raising in all but about six words, and that most of my exceptions have a sonorant following the /É¡/: <em>integrity</em>, <em>interregnum</em>, etc. On November 10, I sent out a pilot study to my friends on Facebook. I got about 350 people to take it, which was pretty cool. In my notes I said I was hesitant to do a blog post about it because â€œthese are legit results that I could publish.â€</li>
<li>April 2018: I presented this preliminary data at an informal â€œTinyTalksâ€ event to the linguistics grad students at UGA. I started making the full version of the survey and began filling out IRB forms. Approval was soon granted.</li>
<li>Aprilâ€“May 2018: I distributed the survey on Reddit and collected 7000 responses in two weeks. I made a plan to submit an abstract about phonological factors to NWAV and submit an abstract on regional factors to ADS.</li>
<li>Summer 2018. I submitted both abstracts as planned. Iâ€™m amazed at myself that the precise plans I made in the early days of the project all happened to a tee.</li>
<li>October 2018â€“January 2019: I presented at <a href="../../blog/nwav47">NWAV47</a> and <a href="../../blog/ads-and-lsa-2019">ADS2019</a> as planned. I wrote up preliminary findings and submitted a manuscript to our <a href="https://ling.franklin.uga.edu/wp2019-Stanley">UGA Working Papers in Linguistics</a>. I also wrote up the results in laypersonâ€™s terms in a <a href="../../blog/prevelar-raising-survey-results">blog post</a> to send to my participants.</li>
<li>September 13, 2019: Submitted the manuscript to <em>American Speech</em>. Not quite sure why it took me so long to finish the darn thing, but it might because it was my first Real Paperâ„¢. I was motivated to get this done so that I could include it in job applications.</li>
<li>December 4, 2019: Got an R&amp;R from <em>American Speech</em>.</li>
<li>2020: I put off working on this for a full year. I had my <a href="../../blog/dissertation">dissertation defense</a>, job interviews, a campus visit, dissertation revisions, an contract job with BYU during covid lockdown, graduation, moving to Utah, <a href="../../blog/I-got-a-job">starting a new job at BYU</a> in June, and teaching three new preps over the next six months. In November 2020 I set a goal to get this returned by the end of the year.</li>
<li>December 29, 2020: Resubmitted to <em>American Speech</em>.</li>
<li>April 8, 2021: Accept with revisions! Yay!</li>
<li>June 8, 2021: Returned the manuscript. I was told by <em>American Speech</em> that thereâ€™s a bit of a backlog, so itâ€™d come out in 2022.</li>
<li>August 26, 2022: Got proofs from <em>American Speech</em>.</li>
<li>October 19, 2022: Got the physical copy in the mail!</li>
<li>November 2, 2022: I noticed it was published online!</li>
</ul>
<p>So from the start of the idea until publication was just about five years. I donâ€™t really work on prevelar raising anymore, and this was a side project I wanted to get done quickly in grad school. Itâ€™s just interesting that a project I started so long ago and presented first as a grad student was used as a writing sample for job applications, and now itâ€™ll go in my tenure portfolio! Iâ€™ve had a few papers that I started after this one come out already, but I guess Iâ€™m particularly excited about this because it was my first manuscript submitted to a peer-reviewed journal.</p>
</section>
<section id="misc-topics" class="level2">
<h2 class="anchored" data-anchor-id="misc-topics">Misc topics</h2>
<section id="unofficial-erratum" class="level3">
<h3 class="anchored" data-anchor-id="unofficial-erratum">Unofficial erratum</h3>
<p>Figure 9 was a very tricky one to do and I created probably dozens of versions of the plot trying to find the right one. Online, youâ€™ll see the one I settled on, which does a pretty cool thing with color where I map two different variables to color.</p>
<p><img src="https://joeystanley.com/blog/prevelar-raising-american-speech/stanley2022_figure9_color.png" class="img-fluid"></p>
<p>This is basically impossible to print in black and white though, so I was asked to make a print-friendly one. The compromise that either I or the editors came up with was to do diagonal slashes in the regions.</p>
<p><img src="https://joeystanley.com/blog/prevelar-raising-american-speech/stanley2022_figure9_bw.png" class="img-fluid"></p>
<p>Unfortunately, it looks like the Figure 9 in my physical copy is just a black-and-white version of the online map, rather than the one specifically for print. This is especially confusing because the print version specifically mentions the slashes even though theyâ€™re not there. Oh well. More people will read the online version anyway.</p>
<p>[Update: Pretty soon after writing this, I got more physical copies in the mail. I suspected it was to correct this Figure 9 and sure enough it was. So, if you got an extra copy of that issue of <em>American Speech</em>, you can blame my darn complicated plot. I hope it didnâ€™t cost the ADS too much moneyâ€¦]</p>
</section>
<section id="boustrophedonic-plots" class="level3">
<h3 class="anchored" data-anchor-id="boustrophedonic-plots">Boustrophedonic plots</h3>
<p>A while ago, I tweeted what would become one of my most viewed tweets:</p>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
Okay, I'm trying something out. I have this histogram with one very tall bar and many shorter ones. So to save space, I made that tall bar follow the edge of the plotting area boustrophedonicallyâ€”my favorite word!â€”but I'm not sure if I like it. Thoughts? <a href="https://twitter.com/hashtag/dataviz?src=hash&amp;ref_src=twsrc%5Etfw">#dataviz</a> <a href="https://t.co/9b9QYqQJLg">pic.twitter.com/9b9QYqQJLg</a>
</p>
â€” Joey Stanley (<span class="citation" data-cites="joey_stan">@joey_stan</span>) <a href="https://twitter.com/joey_stan/status/1339467980820910080?ref_src=twsrc%5Etfw">December 17, 2020</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>I even wrote <a href="../../blog/boustrophedonically">a blog post</a> about the suggestions people gave about alternative plots.</p>
<p>Iâ€™ll let you in on a little secret: I was working on this paper when I came up with the idea for that plot! The data shows the distribution of <sc>beg</sc>-raising across my entire sample. I wanted to show that there were lots of people without it, but also show that there is lots of variation among those who do have it.</p>
<p>Unfortunately, the plot didnâ€™t make it into the manuscript. I just couldnâ€™t do it. Figure 10 is my compromise:</p>
<p><img src="https://joeystanley.com/blog/prevelar-raising-american-speech/stanley2022_figure10.png" class="img-fluid"></p>
<p>So, not as fun, but prehaps more normal. Do I regret not including the boustrophedonic plot? Yeah, maybe a little.</p>


</section>
</section>

 ]]></description>
  <category>Publications</category>
  <category>Research</category>
  <guid>https://joeystanley.com/blog/prevelar-raising-american-speech/index.html</guid>
  <pubDate>Wed, 02 Nov 2022 14:45:00 GMT</pubDate>
</item>
<item>
  <title>NWAV50</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/nwav50/index.html</link>
  <description><![CDATA[ 




<p>Today I gave a talk that Betsy Sneller and I have been working on called â€œHow Sample Size Impacts Pillai Scores â€“ and What Sociophoneticians Should Do About Itâ€ at the 50th New Ways of Analyzing Variation conference in San Jose! This is an updateto what we presented at <a href="../../blog/asa2021">ASA2021</a>.</p>
<p>We have three things you can download.</p>
<ol type="1">
<li><p>First is <a href="../../downloads/221014-NWAV50_pillai.pptx">the actual powerpoint file</a>. In the notes of each slide though you can see the actual script I read, so you can read every word that was said during the talk.</p></li>
<li><p>Next, if thatâ€™s too much for you, you can download just <a href="../../downloads/221014-NWAV50_pillai.pdf">a PDF of the talk</a>. In case you want this ligherweight version of the slides.</p></li>
<li><p><del>Finally, here is the current manuscript that is under review with the <em>Journal of the Acoustical Society of America</em>. The final product will likely change somewhat, but most of the information is there.</del> [Edit (December 14, 2022): <a href="../../downloads/221202-Pillai-preprint.pdf">Here</a> is the accepted version.]</p></li>
</ol>
<p>If you need to calculate Pillai scores in R, Iâ€™ve got a two-part tutorial for you (<a href="../../blog/a-tutorial-in-calculating-vowel-overlap">here</a> and <a href="../../blog/vowel-overlap-in-r-advanced-topics">here</a>). I also did a blog post (<a href="../../blog/pillai-scores-dont-change-after-normalization">here</a>) about how Pillai scores donâ€™t seem to change after normalization.</p>



 ]]></description>
  <category>Conferences</category>
  <category>Methods</category>
  <category>Phonetics</category>
  <category>Presentations</category>
  <category>Research</category>
  <category>Simulations</category>
  <category>Statistics</category>
  <category>Vowel Overlap</category>
  <guid>https://joeystanley.com/blog/nwav50/index.html</guid>
  <pubDate>Fri, 14 Oct 2022 03:30:00 GMT</pubDate>
</item>
<item>
  <title>Idaho, Montana, Wyoming, and Utah English Survey Results</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/idaho-montana-wyoming-and-utah-english-survey-results/index.html</link>
  <description><![CDATA[ 




<p>Between April and July, I distributed a survey to people in Idaho, Montana, Wyoming, and Utah, asking them to record themselves reading a bunch of words and answering some open-ended questions about language. The results from this study will be published in more academic venues, but for now I wanted to explain in non-academic terms what the basic, preliminary results are from that study.</p>
<p>If you havenâ€™t taken the survey yet and you want to, you can do so by clicking <a href="https://byu.az1.qualtrics.com/jfe/form/SV_1UeqqeZFuNxD1e6">here</a>.</p>
<section id="overview-of-the-study" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="overview-of-the-study">Overview of the study</h2>
<p>I set up a study to analyze pronunciation in Idaho, Montana, Wyoming, and Utah. Of the four states, Utah has been reseached the most by linguists. There have been very occasional studies on word choice and grammar in the other states over the last century, but the number of studies on actual pronunciation can be counted on one hand: two in Idaho, two in Montana, and zero in Wyoming. So, this study aims to give a basic first look at whatâ€™s going on.</p>
<p>I decided to have people record audio from their own devices. Yes, this is going to make some things inconsistent across recordings because people will use different microphones. Again, this is a first pass at whatâ€™s going on. Besides, itâ€™s a lot easier (and more covid-friendly) to collect data remotely than it is to travel to people in-person.</p>
<p>What do I look for? I decided to focus my study around things known to be interesting in Utah. I know itâ€™s not the best method since thereâ€™s no reason to expect Utah English pronunciation to be found in other states. But, Iâ€™m basically going in blind, and I had to start somewhere. Iâ€™ll list those linguistic variables below.</p>
<p>As a way to collect additional data, I decided to have people answer some open-ended questions as well. For example, I asked people whether they think their state has an accent. I could have asked them type the response, but I think the responses were more detailed and genuine when spoken rather than typed out. The side benefit of this is I get a chance to hear how people talk when theyâ€™re not reading a rigid list of words.</p>
<p>To distribute the survey, I went to Reddit. I found every subreddit dedicated to a city, region, or university based in the four states. For example, I posted in bigger ones like <a href="https://www.reddit.com/r/wyoming/comments/vef5yj/wyoming_dialect_survey/">r/Wyoming</a>, but also smaller ones like <a href="https://www.reddit.com/r/Butte/comments/uxj1yu/montana_dialect_survey/">r/Butte</a>, <a href="https://www.reddit.com/r/northidaho/comments/tw42r2/idaho_accent_survey/">r/NorthIdaho</a>, and <a href="https://www.reddit.com/r/UVU/comments/vp0yoq/utah_dialect_survey/">r/UVU</a>. I posted in something like 60 subreddits over the course of a couple months. 324 people completed the survey.</p>
<div class="page-columns page-full"><p>From there, I analyzed the data using pretty typical techniques for current sociolinguistic work. For some things (like consonants), I just listened and transcribed what I heard.  For other things (like vowels), Iâ€™m in the processs of extracting acoustic measurements from the audio and some statistics and stuff to crunch the numbers.</p><div class="no-row-height column-margin column-container"><span class="">Down the road, Iâ€™d like to do a more sophisticated analysis of the consonants, but Iâ€™m not sure if the recording quality is good enough in this audio.</span></div></div>
<p>Hopefully that gives you an decent big-picture view of whatâ€™s going on with this study.</p>
</section>
<section id="linguistic-variables" class="level2">
<h2 class="anchored" data-anchor-id="linguistic-variables">Linguistic Variables</h2>
<p>In the survey, I asked people to read aloud a list of 200 words. Each of those words was specifically targetting one more of the following linguistic variables. Iâ€™ll briefly mention them here as an overview, but Iâ€™ll give more detail in the sections below.</p>
<p>Things having to do with consonants:</p>
<ul>
<li>The word <em>mountain</em> and similar words (<em>Latin</em>, <em>gluten</em>, <em>rotten</em>, etc.). How is that <em>t</em> pronounced and how is the second syllable pronounced?</li>
<li>Inserting a <em>t</em> sound in words like <em>else</em>, <em>Chelsea</em>, <em>Nelson</em>, and <em>also</em>.</li>
<li>How are <em>ng</em>â€™s pronounced at the ends of words? Thereâ€™s â€œ<em>g</em>-droppingâ€, but there are others who add an extra sound at the end.</li>
<li>How do people pronounce <em>thr</em> as in <em>three</em>, <em>through</em>, or <em>throw</em>?</li>
</ul>
<p>Unfortunately, while I did collect a lot of data on vowels, I just havenâ€™t had the time to analyze them yet.</p>
</section>
<section id="what-results-do-i-have-so-far" class="level2">
<h2 class="anchored" data-anchor-id="what-results-do-i-have-so-far">What results do I have so far?</h2>
<p>I collected far more data than I ever could have hoped for! Thatâ€™s good news for me and my research agenda. The bad news is itâ€™s going to take some time to get all the results. Here are some of the things Iâ€™ve looked at (briefly) so far.</p>
<ul>
<li>What are the ways that people pronounce the linguistic variables listed above?</li>
<li>What differences are there across the four states?</li>
</ul>
<p>Of course there are many, many other questions I can of this data that I just havenâ€™t gotten to yet. Here are a few:</p>
<ul>
<li>How are the pronunciation differences listed above different across genders, ethnicities, ages, or other demographic info?</li>
<li>Are there regional differences within states? Many participants said that they think so, and I think theyâ€™re probably right. But I donâ€™t have quite enough data to say for sure, and I havenâ€™t done that analysis yet.</li>
<li>Do people from urban areas sound different from people in rural areas? Again, lots of people said there is. I just havenâ€™t done the actual linguistic analysis to support this. I asked participants whether they wanted to live in an urban or rual place. I think that <em>aspiration</em> may have a bigger effect than the actual place you grew up. Weâ€™ll see.</li>
<li>Do Mormons have an accent? Is that distinct from non-practicing Mormons, ex-Mormons, and non-members? I donâ€™t know. I asked about it and I have data on peopleâ€™s affiliation with the Church of Jesus Christ of Latter-day Saints. I suspect that Iâ€™ll find very slight differences, but weâ€™ll see.</li>
<li>If people said they had some connection to the Church, I asked some additional questions about â€œRelief Society Voice,â€ â€œMissionary Voice,â€ and â€œGeneral Authorty Voice.â€ I got some great comments. So the question is, are those real? I wonâ€™t be able to answer this question directly with this data, but I certainly have a lot of comments to draw from when designing my next study!</li>
</ul>
<p>So, I apologize if the question you want me to answer hasnâ€™t been addressed. Hopefully I can get to some of these soon!</p>
<p>Without further ado, letâ€™s get into the results!</p>
</section>
<section id="mountain" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="mountain">Mountain</h2>
<p>When asked whether their own state has an accent, by far the most common thing people mentioned was how people say the word <em>mountain</em> and similar words (<em>fountain</em>, <em>gluten</em>, <em>satin</em>, etc.). Over half the Utahns mentioned this, and a handful of people in other states did too.</p>
<p>So how <em>do</em> people say the word <em>mountain</em>?</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="">Iâ€™m going to color code each variant to visually help you keep track of the variants I discuss here.</span></div></div>
<section id="variant-1-mounn" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="variant-1-mounn">Variant 1: <span style="color:#7570b3;">mounâ€™n</span></h3>
<div class="page-columns page-full"><p>Despite what most people think, the most common way of saying this word (and words like it) across North American English is like this:</p><div class="no-row-height column-margin column-container"><span class="">Iâ€™ll refer to people using fake names that Iâ€™ve randomly assigned. I did not collect real names from anyone.</span></div></div>
<center style="font-size: 85%;">
<audio src="mountain_standard_PhonicMT002-Alexia.mp3" controls="" preload="">
</audio>
<br> <i>threaten</i>, <i>fountain</i>, <i>mitten</i>, <i>gluten</i>, <i>kitten</i>, <i>satin</i>, <i>button</i>, <i>cotton</i>, <i>Latin</i> <br> (Alexia, White, female, 2002, Kalispell, MT)
</center>
<p><br></p>
<p>This has whatâ€™s called a â€œglottal stopâ€, which is that sort of catch in the back of your throat, instead of a typical <em>t</em> sound that you might get in a word like <em>top</em>. After that glottal stop, people go straight into the <em>n</em> sound. So itâ€™s â€œ<span style="color:#7570b3;">mounâ€™n</span>â€. There is no vowel sound in that second syllable. For the Utahns reading this, I know it sounds crazy to hear that that this is the most common way of saying this word, but it is standard American English pronunciation. Youâ€™ll hear it in the news, on the radio, in movies, and in songs.</p>
</section>
<section id="variant-2-mounin" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="variant-2-mounin">Variant 2: <span style="color:#d95f02;">mounâ€™in</span></h3>
<p>For those with good ears though, you might have picked up on a slightly different way of saying <em>mountain</em>.</p>
<center style="font-size: 85%;">
<audio src="mountain_utah_PhonicUT066-Makenzie.mp3" controls="" preload="">
</audio>
<br> <i>Scranton</i>, <i>mountain</i>, <i>button</i>, <i>titan</i>, <i>sentence</i>, <i>threaten</i>, <i>kitten</i>, <i>Latin</i>, <i>certain</i>, <i>gluten</i>, <i>cotton</i>, <i>potent</i>, <i>Clinton</i>, <i>satin</i>, <i>fountain</i>, <i>mitten</i> <br> (Makenzie, White, female, 1999, Tooele, UT)
</center>
<p><br></p>
<p>What we have here is that same glottal stop that we had in the standard variant (<span style="color:#7570b3;">mounâ€™n</span>). But this time, instead of going straight to the <em>n</em> sound, thereâ€™s still a vowel there. If we wanted to spell this out, it might be something like â€œ<span style="color:#d95f02;">mounâ€™in</span>â€.</p>
<div class="page-columns page-full"><p>As it turns out, this variant is somewhat common in Utah. Several studies have anaylzed it and have found that it occurs roughly 15% of the time. Itâ€™s not unique to Utah, but it is more common there than in most other areas.</p><div class="no-row-height column-margin column-container"><span class="">In <em>Encanto</em>, Luisa says this variant in the song â€œUnder the Surfaceâ€ in the line â€œI move mountains, I move churchesâ€¦â€. I donâ€™t think Iâ€™ve ever heard it in the media anywhere else.</span></div></div>
</section>
<section id="tangent-commentary-on-mounn-and-mounin" class="level3">
<h3 class="anchored" data-anchor-id="tangent-commentary-on-mounn-and-mounin">Tangent: Commentary on <span style="color:#7570b3;">mounâ€™n</span> and <span style="color:#d95f02;">mounâ€™in</span></h3>
<p>The interesting thing is that even though this pronunciation of <span style="color:#d95f02;">mounâ€™in</span> is not particularly common, itâ€™s <em>very much</em> on the mind of Utahns. Ask any random Utahn about Utah English and youâ€™ve got decent odds that theyâ€™ll say something about <em>mountain</em>. As a grad student, I traveled to Utah to collect some audio and people said, â€œOh, so you want me to say <em>mountain</em>, right?â€</p>
<p>In the comments people left on the survey, particularly when people talked about whether their state has an accent, itâ€™s clear that this pronunciation is stigmatized. People make fun of it and think itâ€™s bad in some way. However, whatâ€™s interesting to me is that the stigma is associated with not just this <span style="color:#d95f02;">mounâ€™in</span> variant, but itâ€™s also associated with the General American standard, <span style="color:#7570b3;">mounâ€™n</span>. In fact, most of the participants for this study, when discussing <em>mountain</em>, mentioned <span style="color:#7570b3;">mounâ€™n</span> instead of <span style="color:#d95f02;">mounâ€™in</span>. For example, â€œCatherineâ€ here apparently feels like <span style="color:#7570b3;">mounâ€™n</span> is a Utah thing and has consciously avoided using it.</p>
<center style="font-size: 85%;">
<audio src="PhonicUT042-Catherine_no longer say mountain.mp3" controls="" preload="">
</audio>
<br> I know Iâ€™ve corrected some of my Utah accent since Iâ€™ve been gone for about twenty years. Uh, I no longer say <span style="color:#7570b3;">mounâ€™n</span>. <br> (Catherine, White, female, 1978, Farmington, UT)
</center>
<p><br></p>
<p>So, what seems to be happening is that the stigma associated with the glottal stop in <span style="color:#d95f02;">mounâ€™in</span> has spread to the glottal stop in <span style="color:#7570b3;">mounâ€™n</span>â€”even though thatâ€™s how most people say it. I donâ€™t know if Iâ€™ve ever seen another case where the mainstream, General American pronunciation is stigmatized. For a linguistic nerd like me, this is super fascinating.</p>
</section>
<section id="variant-3-mountain" class="level3">
<h3 class="anchored" data-anchor-id="variant-3-mountain">Variant 3: <span style="color:#1b9e77;">mountain</span></h3>
<p>So, for people like Catherine who donâ€™t like the glottal stop, what do they do? They say the <em>t</em> in <em>moutain</em> very clearly. I call this the <em>hyperarticulated</em> variant, <span style="color:#1b9e77;">mountain</span>. Hereâ€™s how Catherine said <em>mountain</em> and similar words in the wordlist:</p>
<center style="font-size: 85%;">
<audio src="mountain_hypercorrect_PhonicUT042-Catherine.mp3" controls="" preload="">
</audio>
<br> <i>Scranton</i>, <i>mountain</i>, <i>button</i>, <i>titan</i>, <i>sentence</i>, <i>threaten</i>, <i>kitten</i>, <i>Latin</i>, <i>certain</i>, <i>gluten</i>, <i>cotton</i>, <i>potent</i>, <i>Clinton</i>, <i>satin</i>, <i>fountain</i>, <i>mitten</i> <br> (Catherine, White, female, 1978, Farmington, UT)
</center>
<p><br></p>
<p>Based on peopleâ€™s comments, it seems like many Utahns are under the impression that <em>this</em> is how most North Americans say <em>mountain</em> most of the time. I donâ€™t know how else to say thisâ€¦ but thatâ€™s simply not accurate! Yes, it is true that most people say <em>mountain</em> with a nice strong <em>t</em> sometimes, particularly when trying to speak clearly or if theyâ€™re in a formal situation. But, most of the time, most North Americans say <em>mountain</em> as <span style="color:#7570b3;">mounâ€™n</span>. Hereâ€™s a chart show the distribution of variants across the four states I collected data from:</p>
<p><img src="https://joeystanley.com/blog/idaho-montana-wyoming-and-utah-english-survey-results/mountain_by_state.jpg" class="img-fluid"></p>
<p>The data shows that all three variants are used in all four states. However, youâ€™ll notice that Idaho, Montana, and Wyoming have similar-looking patterns. Pay attention in particular to the height of the purple bars, representing <span style="color:#7570b3;">mounâ€™n</span>. People from those three states typically pronounced <em>mountain</em> and similar words in the standard American English way, with a glottal stop and no vowel sound in the second syllable. Youâ€™ll also hear <span style="color:#d95f02;">mounâ€™in</span> in those three states, though not very often. Research has shown that this variant is not limited to Utah and can be found across the United States, so this is to be expected.</p>
<p>What strikes me though is that the hyperarticulated variant, <span style="color:#1b9e77;">mountain</span>, is the most common in Utah. Visually, itâ€™s the tallest bar in the Utah panel of the plot above. It seems like the stigma associated with the glottal stop in the other two variants has gotten to people. In Idaho, Montana, and Wyoming, you donâ€™t get this variant nearly as much; it seems like saying <em>mountain</em> with a nice clear <em>t</em> is a Utah thing. So, in a bit of irony, in an effort to avoid sounding like a Utahn (by saying <span style="color:#d95f02;">mounâ€™in</span>), Utahns actually sound like Utahns (by overusing the hyperarticulated <span style="color:#1b9e77;">mountain</span>). Isnâ€™t that wild?</p>
</section>
<section id="mountain-in-idaho" class="level3">
<h3 class="anchored" data-anchor-id="mountain-in-idaho">Mountain in Idaho</h3>
<p>Focusing on Idaho for a moment, I did hear several people comment on <em>mountain</em> when they were asked whether Idaho has an accent. Perhaps this stigma has made its way from Utah northward into Idaho. To test this, I split the Idahoans into three groups: southeast (Pocatello, Blackfoot, Idaho Falls, Rigby, Rexburg, etc.), southwest (Boise metro area, Twin Falls, etc.), and north (Coeur dâ€™Alene, Lewiston, Moscow, etc.). Hereâ€™s a plot showing the distribution of variants by region, compared to Utah:</p>
<p><img src="https://joeystanley.com/blog/idaho-montana-wyoming-and-utah-english-survey-results/mountain_by_region.jpg" class="img-fluid"></p>
<p>As it turns out, the closer you get to Utah, the more hyperarticulated <span style="color:#1b9e77;">mountain</span> you get. In fact, the plot just looks more and more like Utahâ€™s plot. In other words, Utahns say <span style="color:#1b9e77;">mountain</span> the most, then southeast Idahoans, then southwest Idahoans, and then northern Idahoans. So are there regional accents in Idaho? Hereâ€™s one small piece of evidence that there are!</p>
<p>So, next time you hear someone talking about <em>mountain</em> in Utah, you can tell them that most people say <span style="color:#7570b3;">mounâ€™n</span> and itâ€™s only in Utah (and areas close to Utah) that you get people saying that distinct <em>t</em> in <span style="color:#1b9e77;">mountain</span> outside of formal contexts.</p>
</section>
</section>
<section id="t-insertion" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="t-insertion"><em>t</em>-insertion</h2>
<p>Something that I think has largely flown under the radar is the fact that, in some parts of the Mountain West, people put a <em>t</em> sound between <em>l</em> and <em>s</em> sounds, as in <em>faltse</em>, <em>eltse</em>, <em>saltsa</em>, <em>Cheltsea</em>, <em>Oltsen</em>, and <em>Neltson</em>. Weâ€™ll call this <em>t</em>-insertion. I have a <a href="../../blog/kohler-tapes-update">collection of tapes</a> from rural Utahns born in the 1910s and 1920s and it seems to be quite common among those people. Is it as common today?</p>
<div class="page-columns page-full"><p>As it turns out, no. Of the 2,476 words Iâ€™ve listened to so far, just 51 of them (2.1%) had <em>t</em>-insertion. Another 76 words (3.1%) sounded like there could have been a <em>t</em> but I wasnâ€™t sure  so I decided to classify them as â€œmaybe.â€ Still, that means that about 95% of the data didnâ€™t have any indication of <em>t</em>-insertion at all.</p><div class="no-row-height column-margin column-container"><span class="">Iâ€™ll have to do a more detailed phonetic analysis later.</span></div></div>
<p>Thatâ€™s not to say it didnâ€™t happen at all. In fact, a couple people did it quite a bit. Here are a few examples (words with asterisks indicate <em>t</em> insertion):</p>
<center style="font-size: 85%;">
<audio src="FALSE_PhonicUT027-Michael.mp3" controls="" preload="">
</audio>
<br> <i>Olsen</i>, <i>pul(t)se</i>, <i>Wilson</i>, <i>Nel(t)son</i>, <i>compul(t)sive</i>, <i>holster</i> <br> (Michael, White, male, 1961, Coleville, UT)
</center>
<p><br></p>
<center style="font-size: 85%;">
<audio src="FALSE_PhonicID074-Lorenzo.mp3" controls="" preload="">
</audio>
<br> <i>Olsen</i>, <i>fal(t)se</i>, <i>pul(t)se</i>, <i>salsa</i>, <i>Wil(t)son</i>, <i>Nel(t)son</i>, <i>compul(t)sive</i>, <i>Chel(t)sea</i>, <i>holster</i> <br> (Lorenzo, White, male, 1991, Idaho Falls, ID)
</center>
<p><br></p>
<center style="font-size: 85%;">
<audio src="FALSE_PhonicUT052-Pamela.mp3" controls="" preload="">
</audio>
<br> <i>Olsen</i>, <i>fal(t)se</i>, <i>pul(t)se</i>, <i>salsa</i>, <i>Wil(t)son</i>, <i>Nelson</i>, <i>compulsive</i>, <i>Chelsea</i>, <i>holster</i> <br> (Pamela, White, female, 1971, Salt Lake City, UT)
</center>
<p><br></p>
<p>This <em>t</em>-insertion appears to be the most common (or perhaps the least rare) in Utah, showing up in about 10% of the words there. In the other states, itâ€™s marginal at best.</p>
</section>
<section id="ing" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="ing">-ing</h2>
<div class="page-columns page-full"><p>The most common way of pronouncing <em>ing</em> at the ends of words (as in <em>bowling</em>, <em>talking</em>, and <em>sitting</em>) is with that sort of <em>ng</em> sound said towards the back of the mouth.  It the result of an <em>n</em> and a <em>g</em> sound combining into one sound. Of 1,949 words Iâ€™ve listened to so far, I heard this way of pronouncing <em>ing</em> in 58.3% of them. Hereâ€™s a clip of one of the many people who used this variant 100% of the time.</p><div class="no-row-height column-margin column-container"><span class="">Linguists call this sound a â€œvelar nasalâ€ and use the symbol [Å‹] to represent it.</span></div></div>
<center style="font-size: 85%;">
<audio src="NG_ng_PhonicMT015-Neil.mp3" controls="" preload="">
</audio>
<br> <i>polling</i>, <i>scaling</i>, <i>spelling</i>, <i>bowling</i>, <i>drilling</i>, <i>mulling</i>, <i>feeling</i>, <i>stealing</i>, <i>pulling</i>, <i>fooling</i>, <i>willing</i>, <i>sailing</i>, <i>chilling</i>, <i>kneeling</i>, <i>smelling</i>, <i>pooling</i>, <i>lulling</i>, <i>spooling</i>, <i>ceiling</i>, <i>wailing</i> <br> (Neil, White, male, 1978, Helena, MT)
</center>
<p><br></p>
<p>Most people are aware of another way that <em>ing</em> is pronounced. People sometimes call it â€œ<em>g</em>-droppingâ€ The term â€œ<em>g</em>-droppingâ€ is a bit of a misnomer because youâ€™re not actually dropping any sounds. Youâ€™re just changing the single sound that happens to be spelled with two letters, <em>ng</em>, into a different sound that happens to be spelled with one letter, <em>n</em>.]{.aside} and spell it with an apostrophe: <em>huntinâ€™</em>, <em>fishinâ€™</em>, <em>swimminâ€™</em>. As you might expect, this variant was used some of the timeâ€”I heard this one 123 times (6.2%) so far. That may seem a bit low, but keep in mind that people tend to speak pretty carefully in this kind of wordlist task and this variant is often perceived as being informal sounding. It was mostly heard in folks from Idaho and Wyoming and hardly ever used by the Utahns or Montanans Iâ€™ve listened to so far. Here are clips of two people who used this variant almost 100% of the time:</p>
<center style="font-size: 85%;">
<audio src="NG_in_PhonicID026-Lillian.mp3" controls="" preload="">
</audio>
<br> <i>polling</i>, <i>scaling</i>, <i>spelling</i>, <i>shelling</i>, <i>bowling</i>, <i>drilling</i>, <i>mulling</i>, <i>feeling</i>, <i>stealing</i>, <i>pulling</i>, <i>fooling</i>, <i>willing</i>, <i>sailing</i>, <i>chilling</i>, <i>kneeling</i>, <i>smelling</i>, <i>pooling</i>, <i>lulling</i>, <i>spooling</i>, <i>ceiling</i>, <i>wailing</i> <br> (Lillian, White, female, 2003, St.&nbsp;Anthony, ID)
</center>
<p><br></p>
<center style="font-size: 85%;">
<audio src="NG_in_PhonicWY006-Brayden.mp3" controls="" preload="">
</audio>
<br> <i>polling</i>, <i>spelling</i>, <i>shelling</i>, <i>bowling</i>, <i>drilling</i>, <i>mulling</i>, <i>feeling</i>, <i>stealing</i>, <i>pulling</i>, <i>fooling</i>, <i>willing</i>, <i>sailing</i>, <i>chilling</i>, <i>kneeling</i>, <i>smelling</i>, <i>pooling</i>, <i>lulling</i>, <i>spooling</i>, <i>ceiling</i>, <i>wailing</i> <br> (Brayden, White, male, 2002, Thermopolis, WY)
</center>
<p><br></p>
<p>You may think that the standard <em>ng</em> and the <em>g</em>-dropped version are the only ways that <em>ing</em> can be pronounced. But you may have also noticed that I have yet to account for about a third of the data still. It may surprise you then that I heard at least <strong>five</strong> other pronunciations of <em>ing</em>. Intrigued? Read on.</p>
<section id="adding-a-g-or-a-k" class="level3">
<h3 class="anchored" data-anchor-id="adding-a-g-or-a-k">Adding a <em>g</em> or a <em>k</em></h3>
<p>A handful of people pronounced <em>ing</em> with either a <em>g</em> or a <em>k</em> sound at the end. When people mock this accent, they sometimes spell it as <em>talkingk</em>. Whatâ€™s going on is that the combined <em>ng</em> sound isnâ€™t fully combined, and the <em>g</em> is still pronounced very lightly. This was actually the secondmost common variant and I heard it 284 (14.3%) times. Of the 201 people Iâ€™ve listened to so far, 93 of them (46.3%) used it at least once, so itâ€™s not like itâ€™s only said by a few people. It was heard about the same amount in each state, except for Idaho which had it slightly less.</p>
<p>Hereâ€™s Matthew, who uses this pronunciation most of the time. You may notice a few words though where he uses a different variant. (Asterisks indicate words with the pronunciation weâ€™re focusing on.)</p>
<center style="font-size: 85%;">
<audio src="NG_g_PhonicWY026-Matthew.mp3" controls="" preload="">
</audio>
<br> <i>polling</i>, <i>scaling</i>, <i>spelling</i>, <i>shelling<em></em></i><em>, <i>bowling</i></em>, <i>drilling<em></em></i><em>, <i>mulling</i></em>, <i>feeling<em></em></i><em>, <i>stealing</i></em>, <i>pulling<em></em></i><em>, <i>fooling</i></em>, <i>willing</i>, <i>sailing<em></em></i><em>, <i>chilling</i></em>, <i>kneeling<em></em></i><em>, <i>smelling</i></em>, <i>pooling<em></em></i><em>, <i>lulling</i></em>, <i>spooling<em></em></i><em>, <i>ceiling</i></em>, <i>wailing*</i> <br> (Matthew, White, male, 1996, Idaho Falls, ID)
</center>
<p><br></p>
<p>And hereâ€™s Parker who also uses this variant most of the time. His <em>g</em> is is a little bit lighter than Matthewâ€™s.</p>
<center style="font-size: 85%;">
<audio src="NG_g_PhonicID066-Parker.mp3" controls="" preload="">
</audio>
<br> <i>polling<em></em></i><em>, <i>scaling</i></em>, <i>spelling<em></em></i><em>, <i>shelling</i></em>, <i>bowling<em></em></i><em>, <i>drilling</i></em>, <i>mulling</i>, <i>feeling</i>, <i>stealing</i>, <i>pulling</i>, <i>fooling<em></em></i><em>, <i>willing</i></em>, <i>sailing</i>, <i>chilling<em></em></i><em>, <i>kneeling</i>, <i>smelling</i></em>, <i>pooling<em></em></i><em>, <i>lulling</i></em>, <i>spooling<em></em></i><em>, <i>ceiling</i>, <i>wailing</i></em> <br> (Parker, White, male, 1999, Cheyenne, WY)
</center>
<p><br></p>
<p>As you can see, overall, the <em>g</em> sound is pretty light.</p>
<p>Other people pronounce that extra consonant at the end more strongly so it sounds like a full-on <em>k</em>. Overall, I heard this one 137 times (6.9%). But, if we split it up by state, we see that itâ€™s definitely the most common in Utah: Utahns said it 12.8% of the time, Idahons 4.8%, Wyomingites 4.8%, and Montanans 2.2%. So itâ€™s actually used more in Utah than in the other three states combined. Overall, 46 different people used this variant, or 22.9% of the people Iâ€™ve listened to so far. The difference between the <em>g</em> and the <em>k</em> is admittedly slight but the main difference is whether thereâ€™s a very slight <em>h</em> sound after the consonant (<em>kÊ°</em> compared to <em>g</em>). Hereâ€™s Payton, for example, who uses a mixture of <em>k</em>, <em>g</em>, and other variants.</p>
<center style="font-size: 85%;">
<audio src="NG_k_PhonicUT026-Payton.mp3" controls="" preload="">
</audio>
<br> <i>tongue<em></em></i><em>, <i>sang</i></em>, <i>clothing</i>, <i>ceiling<em></em></i><em>, <i>thrashing</i></em>, <i>evening<em></em></i><em>, <i>hang</i></em>, <i>king<em></em></i><em>, <i>fang</i></em>, <i>sting</i>, <i>mourning<em></em></i><em>, <i>sing</i></em>, <i>morning<em></em></i><em>, <i>nothing</i></em>, <i>sung<em></em></i><em>, <i>song</i></em>, <i>bang<em></em></i><em>, <i>something</i></em>, <i>throbbing<em></em></i><em>, <i>sibling</i></em> <br> (Payton, White, non-binary, 2002, Grantsville, UT)
</center>
<p><br></p>
<p>And hereâ€™s Hayley, who has this <em>k</em> sound a little more consistently and a little stronger than Payton.</p>
<center style="font-size: 85%;">
<audio src="NG_k_PhonicID021-Hayley.mp3" controls="" preload="">
</audio>
<br> <i>polling<em></em></i><em>, <i>spelling</i></em>, <i>shelling<em></em></i><em>, <i>bowling</i></em>, <i>drilling<em></em></i><em>, <i>mulling</i></em>, <i>feeling<em></em></i><em>, <i>stealing</i></em>, <i>pulling<em></em></i><em>, <i>fooling</i></em>, <i>willing<em></em></i><em>, <i>sailing</i>, <i>chilling</i></em>, <i>kneeling</i>, <i>smelling<em></em></i><em>, <i>pooling</i></em>, <i>lulling<em></em></i><em>, <i>spooling</i>, <i>ceiling</i></em>, <i>wailing</i> <br> (Hayley, White, male, 1997, Nampa, ID)
</center>
<p><br></p>
<p>As a side note, this pronunciation is not unique to the Rocky Mountains at all. Itâ€™s quite common in England, around cities like Manchester and Liverpool. Itâ€™s also heard in New York City and is sometimes made fun of in phrases like â€œLong Guy-landâ€ (for â€œLong Islandâ€). You occasionally hear it in other people scattered across the USA too, including Shumita Basu, who hosts the <a href="https://podcasts.apple.com/us/podcast/apple-news-today/id1473872585">Apple News Today podcast</a>.</p>
</section>
<section id="een" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="een">EEN</h3>
<div class="page-columns page-full"><p>Another way that <em>ing</em> is pronounced is sort of a mix of the standard <em>ng</em> and â€œ<em>g</em>-dropping.â€ Whatâ€™s happening is you get the â€œeeâ€ vowel in <em>ing</em> combined with the regular <em>n</em> in â€œ<em>g</em>-dropping.â€ Itâ€™s as if the word <em>sailing</em> were pronounced as <em>salene</em> (that clear salty liquid used in hospitals). I call this one â€œeenâ€ because when people say it, it sounds like the word ends in <em>een</em> instead of <em>ing</em>. </p><div class="no-row-height column-margin column-container"><span class="">Thereâ€™s actually not a lot of research on this variant.</span></div></div>
<p>Overall, itâ€™s not particularly common. I heard it in just 3.2% of the words. But, it does appeaar to be the most common in Montana, where it occured in about 7% of the words. Hereâ€™s Hope, who doesnâ€™t do it 100% of the time, but is the person who I heard use it the most. In fact, you might even hear a few times when she adds an extra vowel at the end, sort of a â€œeenuhâ€ sound. I suppose this is just an especially exaggerated form of this variant.</p>
<center style="font-size: 85%;">
<audio src="NG_een_PhonicID060-Hope.mp3" controls="" preload="">
</audio>
<br> <i>polling<em></em></i><em>, <i>scaling</i>, <i>spelling</i></em>, <i>shelling<em></em></i><em>, <i>bowling</i></em>, <i>drilling<em></em></i><em>, <i>mulling</i></em>, <i>feeling<em></em></i><em>, <i>stealing</i></em>, <i>pulling<em></em></i><em>, <i>fooling</i></em>, <i>willing<em></em></i><em>, <i>sailing</i></em>, <i>chilling<em></em></i><em>, <i>kneeling</i></em>, <i>smelling<em></em></i><em>, <i>pooling</i></em>, <i>lulling<em></em></i><em>, <i>spooling</i></em>, <i>ceiling</i>, <i>wailing*</i> <br> (Hope, White, female, 1997, Idaho Falls, ID)
</center>
<p><br></p>
<p>And hereâ€™s Glen, and older man, who uses <em>een</em> sporadically, mixed with other variants.</p>
<center style="font-size: 85%;">
<audio src="NG_een_PhonicUT011-Glen.mp3" controls="" preload="">
</audio>
<br> <i>clothing<em></em></i><em>, <i>ceiling</i>, <i>thrashing</i>, <i>evening</i></em>, <i>king</i>, <i>sting</i>, <i>mourning</i>, <i>sing<em></em></i><em>, <i>morning</i></em>, <i>nothing<em></em></i><em>, <i>something</i>, <i>throbbing</i></em>, <i>sibling*</i> <br> (Glen, White, male, 1970, Salt Lake City, UT)
</center>
<p><br></p>
<p>My Californian mother-in-law says this a lot and I heard it a lot in Washington too. So, is this something unique to the Rocky Mountains? Itâ€™s probably not <em>exclusive</em> to the area, but my general impression is that itâ€™s more common than in other places.</p>
</section>
<section id="adding-other-sounds-at-the-end" class="level3">
<h3 class="anchored" data-anchor-id="adding-other-sounds-at-the-end">Adding other sounds at the end</h3>
<p>The last two variants I heard were ones that added other sounds at the end of the <em>ng</em>. The first one is where it sounds like thereâ€™s an <em>h</em> sound. Itâ€™s a little bit like the person exhales after saying the word. This was not particularly common, but I heard it 144 times (7.3%). Whatâ€™s interesting is that 52 different people said this at least once. A few people even used it more than they used the standard variant. Hereâ€™s one of those people saying it that way in all her <em>ing</em> words:</p>
<center style="font-size: 85%;">
<audio src="NG_h_PhonicID022-Teresa.mp3" controls="" preload="">
</audio>
<br> <i>polling</i>, <i>scaling</i>, <i>shelling</i>, <i>bowling</i>, <i>drilling</i>, <i>mulling</i>, <i>feeling</i>, <i>pulling</i>, <i>fooling</i>, <i>willing</i>, <i>sailing</i>, <i>chilling</i>, <i>smelling</i>, <i>pooling</i>, <i>lulling</i>, <i>spooling</i>, <i>ceiling</i>, <i>wailing</i> <br> (Teresa, White, female, 1968, Pocatello, ID)
</center>
<p><br></p>
<p>The other one I heard is that sometimes people put almost a vowel-like sound at the end. Again, it wasnâ€™t very common, only showing up in 25 (2.5%) of the words I heard. But 10 people said it at least once, and one person used it more than the standard variant. Hereâ€™s a clip of someone who uses it a lot, together with other variants mixed in:</p>
<center style="font-size: 85%;">
<audio src="NG_uh_PhonicID035-Albert.mp3" controls="" preload="">
</audio>
<br> <i>polling</i>, <i>scaling</i>, <i>spelling</i>, <i>shelling</i>, <i>bowling</i>, <i>drilling</i>, <i>mulling</i>, <i>feeling</i>, <i>stealing</i>, <i>pulling</i>, <i>fooling</i>, <i>willing</i>, <i>sailing</i>, <i>chilling</i>, <i>kneeling</i>, <i>smelling</i>, <i>pooling</i>, <i>lulling</i>, <i>spooling</i>, <i>ceiling</i>, <i>wailing</i> <br> (Albert, White, male, 1982, Idaho Falls, ID)
</center>
<p><br></p>
<p>For these last two, itâ€™s hard to tell whether their extra <em>h</em> or <em>uh</em> only happens after <em>ing</em> words, or if it happens more generally. Listening through the words, there are definitely people who add these sounds at the ends of other words too. Iâ€™ll have to do some more listening and digging to see if itâ€™s just something that that person does after all/most words or if it really is something to do with <em>ing</em> words in particular.</p>
</section>
<section id="regional-variation-on-ing" class="level3">
<h3 class="anchored" data-anchor-id="regional-variation-on-ing">Regional variation on ING</h3>
<p>Hereâ€™s an overall view of the variants across the states:</p>
<p><img src="https://joeystanley.com/blog/idaho-montana-wyoming-and-utah-english-survey-results/ing_variants_by_state.jpg" class="img-fluid"></p>
<p>Overall, somewhat similar to each other. Some of the less common variants are more common in some states but not others, but at this point itâ€™s hard to say whether itâ€™s representative of the whole state or just the influence of one person there.</p>
<p>Again, focusing on Idaho, there did seem to be some differences within the state. Iâ€™ll again show it compared to Utah:</p>
<p><img src="https://joeystanley.com/blog/idaho-montana-wyoming-and-utah-english-survey-results/ing_by_idaho_region.jpg" class="img-fluid"></p>
<p>Itâ€™s a bit messy just because there are so many variants, but what stands out to me is that soutwestern Idaho (the purple bar) has the least amount of standard variants <em>ing</em> compared to northern and southwest Idaho and even Utah. Utah has more of the <em>g</em> and <em>k</em> variants than any region in Idaho, but where you hear the most of the other variants is all in southwest Idaho. Again, itâ€™s hard to say whether this is indicative of something going on in the entire region or if itâ€™s just the influence of a couple people, but I thought that pattern was interesting.</p>
</section>
<section id="final-thoughts-on-ing" class="level3">
<h3 class="anchored" data-anchor-id="final-thoughts-on-ing">Final thoughts on ING</h3>
<p>What Iâ€™ve learned from this data is that there is <em>massive</em> variation in how <em>ing</em> words are pronounced. I did not anticipate hearing seven different variants. And even if there are that many, I didnâ€™t expect to find at least one person favoring each variant. I want to end with just a couple more clips. These are people that go the opposite of what Iâ€™ve played so far in this section. These are people that pronounce <em>ing</em> in lots of different ways, and donâ€™t just favor one variant.</p>
<p>Hereâ€™s Catherine. (The same one that we heard from in the section on <em>mountain</em> above.) She uses at least five different variants: a lot of <em>g</em> and <em>een</em>, with some <em>k</em>, <em>h</em>, and <em>ng</em>.</p>
<center style="font-size: 85%;">
<audio src="NG_various_PhonicUT042-Catherine.mp3" controls="" preload="">
</audio>
<br> <i>tongue(g)</i>, <i>sang(g)</i>, <i>clothing(ng)</i>, <i>ceiling(een)</i>, <i>thrashing(een)</i>, <i>evening(een)</i>, <i>hang(k)</i>, <i>king(g)</i>, <i>fang(g)</i>, <i>sting(g)</i>, <i>mourning(een)</i>, <i>morning(een)</i>, <i>nothing(ng)</i>, <i>sung(k)</i>, <i>song(k)</i>, <i>bang(h)</i>, <i>something(ng)</i>, <i>throbbing(een)</i>, <i>sibling(een)</i> <br> (Catherine, White, female, 1978, Farmington, UT)
</center>
<p><br></p>
<p>Most people used more than one variant of ING. What Iâ€™d like to do is try to figure out if there are any patterns to when they use what.</p>
</section>
</section>
<section id="thr" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="thr">THR</h2>
<div class="page-columns page-full"><p>This last one is one of my favorites because very few people have noticed it. Consider the sound you hear when an American says the <em>t</em> in words like <em>water</em> and <em>latter</em>. Most people describe it as a <em>d</em> sound, though itâ€™s not exactly the same as the <em>d</em> you get in like <em>dog</em>. Itâ€™s pretty much the same sound that you use for a Spanish <em>r</em> like in <em>pero</em>. Linguists call this sound a â€œtapâ€ or a â€œflap.â€ Despite what some people said on social media maybe a year ago, this is not a just California thingâ€”itâ€™s typical of any American or Canadian English speaker.</p><div class="no-row-height column-margin column-container"><span class="">You may notice the <em>d</em> in <em>ladder</em> or <em>feeding</em> is quicker and ligher than the <em>d</em> in <em>Adobe</em>.</span></div></div>
<p>So, what Iâ€™ve noticed is that people pronounce <em>r</em>â€™s as a flap when they occur after <em>th</em>, as in <em>three</em>, <em>throw</em>, and <em>threat</em>. If you donâ€™t believe me, here is a recording of someone doing that. In the wordlist she read, she pronounces taps 100% of the time.</p>
<center style="font-size: 85%;">
<audio src="UT026-Bonnie_THR_only.mp3" controls="" preload="">
</audio>
<br> <i>thrust</i>, <i>thrive</i>, <i>threaten</i>, <i>thrash</i>, <i>three</i>, <i>through</i>, <i>thrill</i>, <i>throne</i>, <i>throb</i>, <i>thread</i>, <i>throng</i> <br> (Bonnie, female, White, 1948, Wallsburg, UT)
</center>
<p><br></p>
<div class="page-columns page-full"><p>And in case you thought it was exclusive to older, rural people, hereâ€™s a clip from a younger person from suburban Utah County :</p><div class="no-row-height column-margin column-container"><span class="">You may notice she has other features in her speech like hyperarticulated <span style="color:#1b9e77;">mountain</span> and adding a <em>k</em> after <em>ing</em>.</span></div></div>
<center style="font-size: 85%;">
<audio src="THR_PhonicUT054-Deborah.mp3" controls="" preload="">
</audio>
<br> <i>thrill</i>, <i>thrashing</i>, <i>throat</i>, <i>throttle</i>, <i>threaten</i>, <i>thrive</i>, <i>thrust</i>, <i>throne</i>, <i>thrift</i>, <i>throw</i>, <i>thread</i>, <i>throbbing</i>, <i>through</i>, <i>three</i> <br> (Deborah, White, female, 1989, Highland, UT)
</center>
<p><br></p>
<p>Despite these examples where people do this a lot, pronouncing these words in this way is not particularly common. I heard it about 8.7% of the time. Hereâ€™s the breakdown by state.</p>
<p><img src="https://joeystanley.com/blog/idaho-montana-wyoming-and-utah-english-survey-results/thr_by_state.jpg" class="img-fluid"></p>
<div class="page-columns page-full"><p>So, while not super common anywhere, the flap is heard in all four states. It looks like Utah and Montana are pretty even at around 10% of the time. Meanwhile, Idaho and Wyoming are a little less at roughly 6% of the time.</p><div class="no-row-height column-margin column-container"><span class="">The difference between Utah and Wyoming was not statistically significant according to a chi-squared test (Ï‡Â² = 0.074, df = 1, <em>p</em> = 0.78), neither was difference between Idaho and Wyoming (Ï‡Â² = 0.057, df = 1, <em>p</em> = 0.81). Collapsing those two pairs of states down, the difference between them <em>was</em> significant (Ï‡Â² = 9.275, df = 1, <em>p</em> = 0.002). <br><br> Interestingly, I took some similar data I had from Washington and it turns out it patterned pretty close to Idaho and Wyoming.</span></div></div>
</section>
<section id="conclusions" class="level2">
<h2 class="anchored" data-anchor-id="conclusions">Conclusions</h2>
<p>Thatâ€™s it for now! Iâ€™m sorry I wasnâ€™t able to explore more linguistic features. In particular, Iâ€™d like to start analyzing some vowels, but acoustic analysis of vowels takes more time and I wanted to get some results out to you in a reasonable amount of time. I will continue to update this page as I get more results, so be sure to check back every few months for new findings.</p>
<p>If you participated in this study, thank you! I gathered way more data than I anticipated, which is always a delight. If you did not participate in the survey and would like to, you can try taking it <a href="https://byu.az1.qualtrics.com/jfe/form/SV_1UeqqeZFuNxD1e6">here</a>. Note that it costs money to keep the survey active because of the third-party plugin Iâ€™m using to collect audio, so the survey wonâ€™t be live for too much longer. Regardless, thanks for your interest in the project!</p>
<p><br> <br></p>


</section>

 ]]></description>
  <category>For the public</category>
  <category>Research</category>
  <category>Utah</category>
  <category>West</category>
  <guid>https://joeystanley.com/blog/idaho-montana-wyoming-and-utah-english-survey-results/index.html</guid>
  <pubDate>Thu, 22 Sep 2022 01:30:00 GMT</pubDate>
</item>
<item>
  <title>New publication in the Penn Working Papers in Linguistics</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/new-publication-in-pwpl/index.html</link>
  <description><![CDATA[ 




<p>Iâ€™ve just been informed that a manuscript I submitted to the <em>Penn Working Papers in Linguistics</em> has been published! Itâ€™s called â€œOrder of Operations in Sociophonetic Analysisâ€ and is available <a href="https://repository.upenn.edu/pwpl/vol28/iss2/17/">here</a>. In a nutshell, I discuss the various processing steps that are typical of a sociophonetic analysis an I show that changing the order that you run them can have a non-negligible impact on the overall results. I end the paper with a recommended order that we can use.</p>
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>I originally started this paper because I noticed, by accident, that I was getting different results after moving some code around. I was in the middle of an analysis (of the very dataset I use in the paper) and had already gotten some results, but I had to change a few things in the processing and ended up moving a chunk of code up a little bit so that it happened before another chunks. Lo and behold, the results changed. Nothing about the underlying data changed, and nothing about the functions I ran changedâ€”other than their order.</p>
<p>So this sent me down a bit of a rabbit hole. I identified seven processing steps that I did in my analysis pipeline. I then wrote some code that arranged those seven steps into all possible orderings, all 5,040 of them. I then took the exact same input dataset, and processed it 5,040 times, once for each permutation. With each resulting spreadsheet, I then calculated things like how shifted or overlapped peopleâ€™s vowels were. Again, to be clear, the underlying data was identical, and the functions I ran were identical. The only thing that changed was the order that I ran them.</p>
<p>Well, as you can read in the paper, the results were a little concerning. First, I got many unique values for each person. Not 5,040 unique values, because some pipeline result in identical outputs. But sometimes hundreds of unique values. Some of these were admittedly very similar, but others were quite drastic. In one case, I point out that if I use some pipelines, a particular individual may be interpreted as being a linguistic innovator since she had advanced measures of some of the shifts. But in other pipelines, she would be seen as linguistically conservative since those same measures returned less-advanced measures. Taking the entire group of 53 speakers collectively, some pipelines showed that about half had shifted vowels while other pipelines showed that nearly all of them did. So, just by changing the order that I run my code can have an impact on how my dataset is interpreted!</p>
</section>
<section id="takeaways" class="level2">
<h2 class="anchored" data-anchor-id="takeaways">Takeaways</h2>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Please note that this is a different order than what I suggest in my NWAV49 talk! The version shown here is what I currently stand by.</p>
</div>
</div>
<p>So, in addition to pointing out the problem, I do offer a potential solution by prescribing an order of operations. Hereâ€™s what that is:</p>
<ol type="1">
<li><p>Reclassify your data into allophones</p>
<p>This is important because subsequent steps really need to run by <em>allophone</em> rather than by <em>phoneme</em>. Iâ€™d even say that we should separate the data into allophones even for vowels weâ€™re not interested in (like allophones of /u/ even if weâ€™re only interested in front vowels) because it has implications for what data gets excluded which could affect the centering when you normalize.</p></li>
<li><p>Remove â€œbadâ€ data</p>
<p>This is when you remove outliers. Again, I argue that it should be done by allophone. I also recommend that stopwords and unstressed vowels be treated as their own separate category as well. But, Iâ€™m no married to that idea.</p></li>
<li><p>Normalize</p>
<p>Regardless of what normalization procedure you use, I think it is at this point in the pipeline that the procedure should happen. The normalization should include all good data (even if itâ€™s not pertinent to the study) and not include any bad data.</p></li>
<li><p>Remove â€œgoodâ€ but otherwise uninteresting data.</p>
<p>Finally, here is where you should subset your data to focus on just the stuff youâ€™re interested. So, get rid of vowels or allophones you donâ€™t want, stopwords, unstressed vowels, etc. Importantly though, it is only at this point in the pipeline that you should toss vowel trajectories! If you never extracted them in the first place, or just ignored those columns in FAVEâ€™s output, then youâ€™re excluding trajectory data as step 1 and that has an impact on your results!</p></li>
</ol>
<p>For now, these steps are based more on logic and theory (and I appreciate the input from Rich Ross and Thomas Kettig for helping me out with that)! I have a manuscript at the moment that dives more into these steps and provides some more quantitative justification for them. Stay tuned!</p>
</section>
<section id="my-soapbox" class="level2">
<h2 class="anchored" data-anchor-id="my-soapbox">My Soapbox</h2>
<p>Finally, towards the end, I do get a little preachy. First, I recommend that Order of Operations be explained in detail in methods sections so that we can evaluate them better. In fact, it was only after I submitted this paper that I found <a href="https://linkinghub.elsevier.com/retrieve/pii/S0095447021000711">Brand, Hay, Clark, Watson, &amp; SÃ³skuthyâ€™s (2021) paper</a> that does exactly what I want to see! Thatâ€™s exactly the kind of transparency that we need. Of course, at this point, itâ€™s hard to interpret what effect one order has upon the data as opposed to another order, though, again, stay tuned for my manuscript which does exactly that!</p>
<p>I then say that quantitative linguists should be more mindful of how the data is being processed. I basically subtweet some methods that Iâ€™m not particularly fond of (Lobanov transformations, ANAE â€œbenchmarksâ€) without calling them out specifically. I also subtweet a reviewer for a different paper who said to me that I shouldnâ€™t use New Technique X and should instead use Old Technique Y for comparability with previous studies, even though recent research has shown that Old Technique Y is flawed and New Technique X is better. Anyway, so if those paragraphs sound cryptic, now you know some background.</p>
<p>Finally, I encourage quantitatively-minded linguists to continue writing methods papers. Whether it be developing a new technique or comparing existing techniques against each other, all that stuff is good for the field.</p>
<p>Anyway, I took the opportunity in this non-peer-reviewed methods paper to stand on my soapbox a little bit and talk about some of my views on the current state of quantitative linguistics. And I stand by what I wrote in the paper.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>So thatâ€™s it! This was a fun one to write because it literally has nothing to do with language or how language works: itâ€™s purely methods. In fact, itâ€™s not even about one specific method. Itâ€™s about how we should run our R code! Very niche. But I hope it does some small part in improving quantitative linguistics papers.</p>
<p>PS: In my notes I refer to â€œOrder of Operationsâ€ as â€œOoOâ€. Iâ€™m 1000% okay with having <em>OoO</em> be a new abbreviation in peopleâ€™s code and in methods sections now. Who wants to be the first? :)</p>


</section>

 ]]></description>
  <category>Methods</category>
  <category>Research</category>
  <category>Publications</category>
  <category>Vowel Overlap</category>
  <guid>https://joeystanley.com/blog/new-publication-in-pwpl/index.html</guid>
  <pubDate>Tue, 20 Sep 2022 04:11:00 GMT</pubDate>
</item>
<item>
  <title>Using Phonic for Collecting Sociophonetic Data</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/using-phonic-for-sociophonetics/index.html</link>
  <description><![CDATA[ 




<p>A few months ago, I was looking for ways to collect audio within a Qualtrics survey and I stumbled upon <a href="https://community.qualtrics.com/XMcommunity/discussion/4517/i-wonder-how-can-i-record-interviewees-audio-response-in-qualtrics">this answer</a> which lead me to <a href="https://www.phonic.ai">Phonic.ai</a>. It looked good, so I decided to try it out for a new project. Iâ€™m happy to report that Iâ€™m overall very satisfied with how it all turned out. In this post, Iâ€™ll explain how to use Phonic, tell about some of my experiences with using it, and give you some tips.</p>
<p>Note that this page may update if I think of more things to add. And, in an ideal world, Iâ€™d post screenshots and do more of a walkthrough for you, but I just donâ€™t quite have the time for that right now. So, I hope this text-based post provides the information you need to get started using Phonic.</p>
<section id="project-background" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="project-background">Project Background</h2>
<div class="page-columns page-full"><p> To give you a sense of what I used Phonic for, I should provide a little bit of background on my project. I wanted to collect some audio remotely from perhaps 100 people. Since this is largely exploratory data, all I had people do was read some wordlists and respond to some open-ended questions. I had 200 words that I had them read, split up into four sets of 50. I also had about 5 open-ended questions (with an additional 3 or 4 more, depending on their demographic background).</p><div class="no-row-height column-margin column-container"><span class="">Iâ€™m deliberately being vague here because I donâ€™t want to spoil anonymity in upcoming abstracts and manuscript.</span></div></div>
<p>I ran the survey for about four months, actively recruiting on Reddit and other places the whole time. In the end, I ended up with data from a whopping 324 people, which is far more than I ever expected. Iâ€™m very excited about the project!</p>
<p>Some of you may know that Iâ€™ve been looking for a good way to collect audio remotely for a while. About five years ago I used Amazon Mechanical Turk to do so after reading about how the folks at Dartmouth used it to collect data across New England. It wasâ€”a bit of a nightmare for me. So I am very happy that Phonic is <em>much</em> more manageable.</p>
</section>
<section id="what-is-phonic" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="what-is-phonic">What is Phonic?</h2>
<p>According to its <a href="https://www.phonic.ai">homepage</a>, Phonic is a â€œresearch platform designed for voice and video.â€ Basically, itâ€™s a survey-building site that allows you to collect audio and video data. It also has a pretty nice interface that lets you interact with your data in useful ways, which Iâ€™ll describe later.</p>
<div class="page-columns page-full"><p>To be clear, you do have to pay to use Phonic.  The more you pay, the more people you can collect data from. When I started using Phonic in March 2022, they had different subscription tiers. The one that looked more appropriate to me was the academic tier, which was about $37 a month for 200 participants. That was a little more than I needed, but I definitely needed more than the 25-a-month available in the lower tier. Recently, they rolled out a different system where you buy tokens as needed. In theory, it comes out to be more economical.</p><div class="no-row-height column-margin column-container"><span class="">I suppose Qualtrics is a paid software too, but Iâ€™ve been able to get a free account through every institution Iâ€™ve been at, so it feels free to me.</span></div></div>
<p>Phonic is also a survey site in and of itself. What you can integrate with Qualtrics is, as far as I can tell, only a small portion of its full capabilities. However, I am more familiar with Qualtrics and I know that things like survey flow work well in it, so to me it was worth it to use Phonic embedded within a Qualtrics survey rather than go full native Phonic. This of course adds some increased complexity when it comes to processing your data because youâ€™ll need to merge two datasetsâ€”one from Phonic and one from Qualtricsâ€”but to me it was worth it.</p>
</section>
<section id="using-phonic-within-qualtrics" class="level2">
<h2 class="anchored" data-anchor-id="using-phonic-within-qualtrics">Using Phonic within Qualtrics</h2>
<p>I wonâ€™t walk you through how to integrate Phonic into Qualtrics questions because theyâ€™ve already got tutorials for that. I used the instructions on <a href="https://docs.phonic.ai/docs/integrate-with-qualtrics">this page</a> but it looks like theyâ€™ve recently made a video tutorial as well. I havenâ€™t watched it, but I presume it has all the information you need.</p>
<p>The gist is this. First, you need to create a skeleton survey in Phonic, with one question for each instance of audio collection you want to do in Qualtrics. I just made a really simple survey using the most basic audio collection type and put â€œWordlist 1â€ or something simple as the question text. Each survey you make is given a unique ID, and each question within that survey is also given a unique ID.</p>
<p>You then go over to your Qualtrics survey and create it like normal. Then, wherever you want to add audio collection to your survey, you open up the survey question in Qualtrics in the HTML view and add some invisible code at the bottom that links that question to a specific question using the survey ID and question ID generated in Phonic. You also need to put some HTML code in your survey header. Again, this is all explained in the documentation on Phonicâ€™s website.</p>
<p>Once itâ€™s all set up, Iâ€™ve found that it works like a charm. When I tested it out, I noticed that the audio appeared in Phonic very soon after it was submitted in Qualtrics. You should know though that there are a few combinations of browers ond hardware that arenâ€™t going to work, which they point out <a href="https://survey.phonic.ai/help">here</a>. For example, it wonâ€™t work on an iPhone in any browser except Safari, and it wonâ€™t work directly within Facebook Messenger.</p>
</section>
<section id="my-one-bad-experience-and-how-they-fixed-it" class="level2">
<h2 class="anchored" data-anchor-id="my-one-bad-experience-and-how-they-fixed-it">My one bad experience and how they fixed it</h2>
<p>I will say that I did have some troubles at the start of my data collection. I noticed that people were completing the survey, but the audio didnâ€™t go through. I was pretty upset about it too because maybe a dozen peopleâ€™s recordings didnâ€™t go through at all. For another dozen or so, only some of the recordings went through. Fortunately, I wasnâ€™t paying people, so no harm done I suppose, but it sure stinks losing data.</p>
<p>I wrote to Phonic about the issue, showing them clear evidence that these people had indeed completed the survey but that the audio wansâ€™t going through. It took them a few weeks, but they did eventually fix the issue. They even kept me up to date on the status of their progress too. I havenâ€™t had any problems since then. So, hats off to a good customer service experience and to them fixing an issue that would have deterred me from using Phonic in the future.</p>
</section>
<section id="how-the-phonic-interface-works" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="how-the-phonic-interface-works">How the Phonic interface works</h2>
<p>Okay, so with all that in mind, lets say youâ€™ve got a survey going and youâ€™re starting to collect some data. What do you get on your end? You actually get, quite a lot!</p>
<div class="page-columns page-full"><p>For one, it automatically transcribes your data!  Better yet, it did a pretty good job! Now, to be clear most of the folks I collected data from spoke something close to Standard American English, so take that for what itâ€™s worth. These transcriptions were <em>super</em> helpful when scanning through the data too. Itâ€™s so much faster to look through a rough transcription and get the gist of what theyâ€™re saying than it is to listen to the recording all the way through.</p><div class="no-row-height column-margin column-container"><span class="">I only collected spoken American English, so I have no idea how it works on other varieties or other languages.</span></div></div>
<p>So, with these transcriptions readily available, the Phonic interface lets you quickly navigate through your data. You can look at them by-person and see all the answers each person gave. You can also look at individual questions and see all the answers to each question.</p>
<p>For each response then, you get the transcription and the waveform together. When you play the audio, the word that is being said in the transcription gets highlighted, so itâ€™s easy to follow along. Furthermore, when you click on a word, itâ€™ll take you straight to that part of the audioâ€”a very cool feature. You can also click on the waveform and itâ€™ll start playing from there.</p>
<p>The Phonic interface is <em>very</em> handy. However, you lose access to all that as soon as your subscription runs out. So, take advantage of it while you can. I wish I could recreate the interface in Praat or Shiny or something, but it wouldnâ€™t quite be the same.</p>
</section>
<section id="managing-downloaded-data" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="managing-downloaded-data">Managing downloaded data</h2>
<p>So, interacting with your data online is nice, but as a sociophonetician, I needed to download the audio so I can do acoustic analysis on it. I also need to link it to the metadata I collect in Qualtrics. This is where you really have to flex your data management skills because itâ€™s not super straightforward to get all your data in one place.</p>
<section id="downloading-audio" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="downloading-audio">Downloading audio</h3>
<div class="page-columns page-full"><p>First off how is the audio quality? Not bad. Yes, you do get varying sound qualities because each person is recording from their own devices, and I encourage you to look at the literature on how that affects acoustic analysis. But, you do have the option to record and download in WAV format, which is handy. (The other option is mp3.) I suspect though that Phonic runs it through a denoising algorithm, but itâ€™s hard to tell what Phonic does and what is the consequence of peopleâ€™s computer/phone microphones.</p><div class="no-row-height column-margin column-container"><span class="">Edit: Sam Hellmuth pointed out to me on Twitter that the WAV files are in fact compressed and only go up to 8000Hz! Thanks for letting me know, Sam!</span></div></div>
<div class="page-columns page-full"><p>There are two ways to download audio, and Iâ€™ll admit that both are not great. The first is to manually go through and download each audio file. While slow and tedious, it has the benefit of you knowing exactly what it is youâ€™re downloading. The part that takes the longest is renaming each file since they all get downloaded as â€œresponse.wav.â€ I ended up writing a script in R to set up the file structure and generate a bunch of dummy files where the audio would end up. I then copied the name of the dummy file and pasted it as the name of the audio. Itâ€™s a little tedious to set up, but it worked well for me.</p><div class="no-row-height column-margin column-container"><span class="">Keeping in mind that I had eight or so audio clips from each person, it took me about 90 seconds to download all the audio, rename them, and put them in their right folders, for one person. I had 350 people to download, so it took me several days to download it all this way.</span></div></div>
<p>The second way to download audio is to do it in bulk. I did it this way at first, but after a while it stopped working. Iâ€™m not sure if it was because I was sitting on a lot of data, or because of some error on Phonicâ€™s end. Regardless, when it did work, it sent me an email with a link to a zip file. The problem is the audio files were all named with some unique ID and it was impossible to link that to the participant and question without referring to the metadata spreadsheet. So from there, I had to then set up an R script where I linked the code to the person and question and then renamed the files that way. Not a super straightforward task if youâ€™re not code-savvy. But my goodness was it much fasterâ€”when it worked.</p>
</section>
<section id="downloading-metadata" class="level3">
<h3 class="anchored" data-anchor-id="downloading-metadata">Downloading metadata</h3>
<p>All the other data you collect as part of your survey can be downloaded in two spreadsheets. If youâ€™ve worked with Qualtrics before, youâ€™ll be familiar with how you download the data. The spreadsheet contains survey metadata as well as responses from any of the othe questions you ask in Qualtics itself. In my case, I had a few demographic questions before the audio-recording portion started, so that information will of course be in the Qualtrics spreadsheet.</p>
<p>For the Phonic data, you get similar kind of spreadsheet. Like Qualtrics, it exports the spreadsheet as one row per participant, which means it has many many columns. For each question you get the transcription (see next section) and the unique ID associated with that audio file (see previous section). You also get a bunch of sentiment analysis data. I donâ€™t use it and Iâ€™m not sure how they generate those numbers, but itâ€™s there in case you need it.</p>
<p>The key piece of information you get in both spreadsheets is the column called â€œresponse_id.â€ This is crucial because itâ€™s the only piece of information that links the Qualtrics and Phonic datasets. (So, when you go to download the Phonic data, be sure to check the box that says to include it!) Using R or whatever other software you use, youâ€™ll need that column to link the data together database-style.</p>
</section>
<section id="downloading-transcriptions" class="level3">
<h3 class="anchored" data-anchor-id="downloading-transcriptions">Downloading transcriptions</h3>
<p>When I first saw that Phonic transcribes things automatically, I was very excited because it could save me a <em>lot</em> of time. Correcting rough transcriptions is usually much faster than creating fresh transcriptions from scratch. Fortunately, the transcriptions are indeed available as part of the metadata file.</p>
<p>To help with correcting the transcriptions and generating good TextGrids, I wrote an R script that compiles all the transcriptions into a more streamlined spreadsheet. I have that open when I work with the files in Praat. I then just find transcription that corresponds to the audio file Iâ€™m working on, paste it into Praat, and then correct when needed and add utterance-level boundaries to break it up (which generally makes MFA work better in the next step of the pipeline). For things like wordlists (or potentially a reading passage if you use one of those), itâ€™s probably better to pull up the original script and go from there since thatâ€™ll be closer to what people actually said than the automatic transcriptions.</p>
<p>Unfortunately, word-level ones are not available. In theory, Phonic has that data because it has to know when to higlight each word when youâ€™re playing the audio. But I wrote to them and they said that word-level detail is unavailable. Bummer.</p>
</section>
</section>
<section id="tips" class="level2">
<h2 class="anchored" data-anchor-id="tips">Tips</h2>
<p>So, with all that in mind, here are a few miscellaneous tips that didnâ€™t fit anywhere else.</p>
<p><strong>Download all your data before your plan runs out!</strong> As soon as your subscrioption is up, youâ€™re blocked from .your survey. You wonâ€™t be able to download your data or even access the handy Phonic interface. Depending on how your payment plan works, if you end up collecting more data than you have paid for, people will still be able to complete your survey and upload recordings, but you wonâ€™t have access to the audio.</p>
<p>Iâ€™m not sure if this is relevant anymore now that theyâ€™ve migrated to a token-based payment plan, but I had to write to them and <strong>specifically request the academic tier</strong>. I could sign up for the basic or more advanced tiers throught he website itself, but they wanted to ensure that I had a .edu email address before giving me the reduced rate for academics. Anyway, so if you run into a weird bug on the website where the academic tier is not available or whatever, write to them because thatâ€™s what I had to do.</p>
<p><strong>One token is one person</strong>. So, it doesnâ€™t matter whether your survey has one question or twenty, whether the audio files are short or long, or whether someone completes the survey or not. If they start to record something, that eats up one of your tokens. So, if you can integrate many questions into a single survey, do so because it wonâ€™t cost you any more money.</p>
<p>Relatedly, if youâ€™re testing your survey, each time you you through your own Qualtrics survey and record some test audio, <strong>that also counts as one token</strong>. I find that kind of annoying because itâ€™s really nice to be able to do some robust testing before releasing the survey into the wild. So, plan accordingly. I didnâ€™t need that many tests (maybe two or three) before being satisified with the results.</p>
<p>Phonic has other features that I didnâ€™t end up using that much. But, one that I discovered later than I should have is that you can <strong>upload any audio you want and itâ€™ll transcribe it for you</strong>. It can even handle multiple speakers! It counts as one token, so if youâ€™re paying by the token, this might not be as good of a deal. But if youâ€™re like me and paid for a certain number of tokens per month without rollover, it could be more useful. I didnâ€™t ever use all 200 of my monthly tokens, so at the end of my billing cycle, I lost a bunch. Meanwhile, Iâ€™m sitting on hundreds of recordings from other projects that need to be transcribed. If I had seen the feature sooner, on the last day of my billing cycle I would have uploaded as many of these recordings as I could. It would have been nice to have a couple dozen of those done.</p>
<p>You need to be careful when editing your Qualtrics questions once youâ€™ve put Phonic codes at the bottom of them. So, for example, if you find a typo and want to change the text of a question, unless you edit it in the HTML viewer, <strong>youâ€™ll immediately lose the hidden Phonic HTML code at the bottom</strong>. I learned the hard way that I accidentally did this when someone mentioned in one of their comments that the previous question didnâ€™t have a record button.</p>
<p>Speaking of editing, <strong>itâ€™s okay to add more questions to the Phonic survey itself</strong>. I did this twice without any loss of data. I did this because I decided to replace one of the questions in my survey with another one partway through data collection. I just added a new question in the Phonic survey, changed the code in the Qualtrics question, and I was ready to go. Of course, whatâ€™ll happen is that anyone who took the first version of the survey will have that question as blank, and anyone who takes the survey after the change will have the first question blank. But thatâ€™s fine.</p>
<p>Relatedly, <strong>you can even link different Qualtrics surveys to the same Phonic survey</strong>. I also did this because I wanted to create a pared down version of my main survey to send out to a general audience, sort of as a control group. So, I made a new Qualtrics survey, included only what I needed to, but then included the same Phonic IDs in the hidden HTML codes. The result is that I have all my data in one place on the Phonic website, regardless of what survey it came from.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>So, Phonic is cool and Iâ€™m a fan. Hopefully this collecting of rambling thoughts has informed you a little bit to help you decide if you want to use it or not. Please feel free to reach out to me about how I set up my survey or how I handled the data afterwards.</p>


</section>

 ]]></description>
  <category>How-to Guides</category>
  <category>Skills</category>
  <guid>https://joeystanley.com/blog/using-phonic-for-sociophonetics/index.html</guid>
  <pubDate>Tue, 19 Jul 2022 19:19:00 GMT</pubDate>
</item>
<item>
  <title>Animating Formant Trajectories</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/animating_formant_trajectories/index.html</link>
  <description><![CDATA[ 




<p>Last week, I <a href="../../blog/ads_and_lsa_2022">presented</a> some work that Lisa Johnson and I have been working on. We discussed ways that vowel formant trajectories can help us learn more about vowel mergers. What seemed to get the most attention though were the data visuals that I created for the talk.</p>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
Just when I thought I couldnâ€™t be more impressed with <a href="https://twitter.com/joey_stan?ref_src=twsrc%5Etfw"><span class="citation" data-cites="joey_stan">@joey_stan</span></a> â€™s data viz game, he pulls out these animated vowel trajectories! <a href="https://twitter.com/hashtag/LSA2022?src=hash&amp;ref_src=twsrc%5Etfw">#LSA2022</a> <a href="https://t.co/ZzKqvOWoR0">pic.twitter.com/ZzKqvOWoR0</a>
</p>
â€” Nicole Holliday (<span class="citation" data-cites="mixedlinguist">@mixedlinguist</span>) <a href="https://twitter.com/mixedlinguist/status/1479539882771066885?ref_src=twsrc%5Etfw">January 7, 2022</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>Hereâ€™s what that image looks like up close:</p>
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/plot23_anim_final.gif" class="img-fluid"></p>
<div class="page-columns page-full"><p>My friend Andrew Bray recommended I do a tutorial on how to do them:</p><div class="no-row-height column-margin column-container"><span class="">Thanks for the idea, Andrew!</span></div></div>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
After <a href="https://twitter.com/joey_stan?ref_src=twsrc%5Etfw"><span class="citation" data-cites="joey_stan">@joey_stan</span></a> teaches us all how to do it, trajectory gifs need to become the norm. <a href="https://twitter.com/hashtag/LSA2022?src=hash&amp;ref_src=twsrc%5Etfw">#LSA2022</a>
</p>
â€” Andrew Bray (<span class="citation" data-cites="arbray01">@arbray01</span>) <a href="https://twitter.com/arbray01/status/1479541193168072712?ref_src=twsrc%5Etfw">January 7, 2022</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>I havenâ€™t done a cool tutorial for a while and I thought it might make for a good one. So, in this blog post, Iâ€™ll show you my step-by-step process for how I made that animation. Itâ€™s a little long because Iâ€™ve tried to explain the reasoning for <em>why</em> I did what I did. I guess it just shows how much work goes into a nice visual I suppose. Anyway, hopefully you can make it too with your own data!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggthemes)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gganimate)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(mgcv)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(itsadug)</span></code></pre></div>
</div>
<section id="load-the-data" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="load-the-data">Load the data</h2>
<p>Iâ€™ll start by loading the data that I used in the presentation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">heber <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lsa2022.csv"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>()</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8,409 Ã— 9
# Groups:   token_id [807]
   token_id    speaker word  allophone percent F1_norm F2_norm   yob start_event
   &lt;chr&gt;       &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt;       &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt;      
 1 UT008-Janiâ€¦ UT008-â€¦ kneel ZEAL          0     0.464   2.82   1958 TRUE       
 2 UT008-Janiâ€¦ UT008-â€¦ kneel ZEAL          0.1   0.434   2.88   1958 FALSE      
 3 UT008-Janiâ€¦ UT008-â€¦ kneel ZEAL          0.2   0.478   2.81   1958 FALSE      
 4 UT008-Janiâ€¦ UT008-â€¦ kneel ZEAL          0.3   0.524   2.27   1958 FALSE      
 5 UT008-Janiâ€¦ UT008-â€¦ kneel ZEAL          0.6   0.619   1.11   1958 FALSE      
 6 UT008-Janiâ€¦ UT008-â€¦ kneel ZEAL          0.8   0.387   0.960  1958 FALSE      
 7 UT008-Janiâ€¦ UT008-â€¦ kneel ZEAL          0.9   0.392   1.04   1958 FALSE      
 8 UT008-Janiâ€¦ UT008-â€¦ kneel ZEAL          1     0.631   1.30   1958 FALSE      
 9 UT008-Janiâ€¦ UT008-â€¦ built GUILT         0.1   0.430   2.39   1958 TRUE       
10 UT008-Janiâ€¦ UT008-â€¦ built GUILT         0.2   0.455   2.36   1958 FALSE      
# â„¹ 8,399 more rows</code></pre>
</div>
</div>
<div class="page-columns page-full"><p>This data has already been processed a little bit. Formants were extracted using FastTrack, and from there I did a bit of cleaning and normalization and whatnot. For simplicity in this blog post, Iâ€™ll only work with the allophones  ZEAL and GUILT (which are /il/ and /Éªl/, respectively). To make it possible to run the GAMM, Iâ€™ll then convert charactater vectors to factors, and Iâ€™ll add the <code>start_event</code> column. For more information on prepping for GAMMs, see SÃ³skuthy (2017).</p><div class="no-row-height column-margin column-container"><span class="">See <a href="../../posts/extending-wells-lexical-sets-to-prelateral-vowels">this blog post</a> where I introduce these Wells-inspired labels for prelateral vowels.</span></div></div>
</section>
<section id="fit-the-gamms" class="level2">
<h2 class="anchored" data-anchor-id="fit-the-gamms">Fit the GAMMs</h2>
<p>Now itâ€™s time to actually fit the GAMMs. This one is, relatively speaking, not too complicated. First, the dependent variable is the normalized F1 measurements. As predictors, I have <code>allophone</code> as a fixed effect which allows the model to have each allophoneâ€™s predicted measurements be at different heights (in normalized Hz). I then have <code>percent</code> as a smooth by <code>allophone</code>, which allows the model to fit a curve from the onset to the offset of the vowel, independently for each allophone. I also have a smooth for birth year (<code>yob</code>) by <code>allophone</code>, which allows the model to fit a curvey from the earliest birth year to the latest birth year, independently for each allophone. The next line (with the <code>ti()</code> function), is the juicy one: itâ€™s the interaction between <code>percent</code> and birth year (<code>yob</code>), which allows the curved line fit from the onset to the offset of the vowel to vary freely as it progresses across birth years. The last two rows include speaker and word as random smooths, by allophone.</p>
<p>Iâ€™ll fit the exact same model twice: once for F1 and again for F2. To avoid repetitive code and potential human error, Iâ€™ll use <code>update</code> to change the dependent variable of the model.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-4_4b50907cc07ad432b84b5d510efc0815">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">f1_gamm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bam</span>(F1_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb4-2">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">s</span>(percent, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> allophone) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb4-3">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">s</span>(yob, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> allophone) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb4-4">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ti</span>(percent, yob, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> allophone) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">s</span>(speaker, percent, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bs =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fs"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">m=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># I removed xt = "cr",</span></span>
<span id="cb4-6">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">s</span>(word,    percent, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bs =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fs"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">m=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), </span>
<span id="cb4-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> heber, </span>
<span id="cb4-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">discrete =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb4-9"></span>
<span id="cb4-10">f2_gamm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">update</span>(f1_gamm, F2_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> .)</span></code></pre></div>
</div>
<p>To avoid autocorrelation in the data, Iâ€™ll get the rho values from each model and rerun them with this rho parameter. See SÃ³skuthy (2017) for more information.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-5_9552f110da9966e5e53b66eddd394f0b">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">f1_gamm_rho <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">start_value_rho</span>(f1_gamm)</span>
<span id="cb5-2">f2_gamm_rho <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">start_value_rho</span>(f2_gamm)</span>
<span id="cb5-3"></span>
<span id="cb5-4">f1_gamm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">update</span>(f1_gamm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rho =</span> f1_gamm_rho, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AR.start =</span> heber<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>start_event)</span>
<span id="cb5-5">f2_gamm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">update</span>(f2_gamm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rho =</span> f2_gamm_rho, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AR.start =</span> heber<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>start_event)</span></code></pre></div>
</div>
<p>Okay, now that weâ€™ve got some GAMMs fit to the data, we can extract predicted measurements. Hereâ€™s where where use the <code>itsadug</code> package. Iâ€™ll get predicted measurements for both ZEAL and GUILT, for every year from 1920 to 2000, andâ€”hereâ€™s the kickerâ€”at a <em>thousand</em> equidistant points within the vowel. Actually, 1001 to avoid fencepost errors reasons, and after chopping off the first and last 10% of the vowel to avoid consonantal effects. Iâ€™ve found that kind of fidelity is what makes for some <em>really</em> smooth-looking plots. It also makes so that it takes a several minutes to extract predicted measurements.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-6_b3d262b23e19a5d8cdd4bbdbeec3ac6b">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">f1_preds <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_predictions</span>(f1_gamm,</span>
<span id="cb6-2">                            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cond =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(</span>
<span id="cb6-3">                              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>),</span>
<span id="cb6-4">                              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yob =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span>,</span>
<span id="cb6-5">                              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">percent =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1001</span>)),</span>
<span id="cb6-6">                            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rm.ranef =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>,</span>
<span id="cb6-7">                            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">print.summary =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb6-8">f2_preds <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_predictions</span>(f2_gamm,</span>
<span id="cb6-9">                            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cond =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(</span>
<span id="cb6-10">                              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>),</span>
<span id="cb6-11">                              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yob =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span>,</span>
<span id="cb6-12">                              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">percent =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1001</span>)),</span>
<span id="cb6-13">                            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rm.ranef =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>,</span>
<span id="cb6-14">                            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">print.summary =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
</div>
<p>At this point, weâ€™re ready to combine the two datasets and do a little bit of light processing.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">preds <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bind_rows</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">F1</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> f1_preds, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">F2</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> f2_preds, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.id =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"formant"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb7-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>rm.ranef, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>speaker, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>word) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb7-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hz_norm =</span> fit)</span>
<span id="cb7-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(preds)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  formant allophone percent  yob   hz_norm         CI
1      F1      ZEAL  0.1000 1920 0.4013465 0.05088054
2      F1     GUILT  0.1000 1920 0.4853472 0.05443935
3      F1      ZEAL  0.1008 1920 0.4012991 0.05085728
4      F1     GUILT  0.1008 1920 0.4856286 0.05441697
5      F1      ZEAL  0.1016 1920 0.4012518 0.05083414
6      F1     GUILT  0.1016 1920 0.4859101 0.05439473</code></pre>
</div>
</div>
<p>We now have 324,324 rows. The reason itâ€™s so huge is because there are 1001 predicted formant measurements, for each year from 1920 to 2000, for each formant, for each allophone. Thatâ€™s a lot of data.</p>
</section>
<section id="basic-plots" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="basic-plots">Basic plots</h2>
<div class="page-columns page-full"><p>Okay, now weâ€™re ready for some visuals. As a sanity check, letâ€™s plot this data in the F1-F2 space. That means Iâ€™ll quickly have to reshape the data so that F1 and F2 are in separate columns. Iâ€™ll use the predicted measurements from 1920 for this plot.</p><div class="no-row-height column-margin column-container"><span class="">See <a href="../../blog/reshaping-vowel-formant-data-with-tidyr">this blog post</a> on all about using <code>pivot_wider</code> on vowel data.</span></div></div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb9-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb9-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb9-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(hz_norm_F2, hz_norm_F1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb9-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> joeyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">joey_arrow</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb9-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb9-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb9-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Okay, looks decent enough. Letâ€™s plot that same data but in a way that imitates a spectrogram. Iâ€™ll facet it by formant so that F1 and F2 have equal space in the plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb10-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb10-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb10-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb10-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Okay, now that weâ€™ve got the basic gist of the plot, weâ€™re ready to make it a nicer!</p>
</section>
<section id="sprucing-up-the-plots" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sprucing-up-the-plots">Sprucing up the plots</h2>
<p>If youâ€™ve seen my vowel plots, you know that I like to make things a little bit fancier than what basic ggplot2 does for you. Some things are driven by principles of data visualization, some are aesthetics, and some are just for personal taste.</p>
<ul>
<li>Iâ€™ll reverse the order of F1 and F2 so that F2 is on top, better imitating a spectrogram. I do that using <code>fct_rev</code> within <code>mutate</code> as a pre-processing stage, before the actual <code>ggplot</code> call.</li>
<li>Iâ€™ll change the colors so that theyâ€™re a little nicer and colorblind friendly using the <code>scale_color_ptol</code> function in the <code>ggthemes</code> package. This uses Paul Tolâ€™s color schemes, which you can read more about <a href="https://personal.sron.nl/~pault/">here</a>.</li>
<li>Iâ€™ll also add a title and make the <em>y</em>-axis label a little less code-y with <code>labs</code>.<br>
</li>
<li>Iâ€™ll change the <em>x</em>-axis ticks so that they line up with values that are more meaningful (what is halfway between 0.5 and 0.25?) with <code>scale_y_continuous</code>.</li>
</ul>
<div class="no-row-height column-margin column-container"><span class="">Pretty sure the first time I saw these themes was in <a href="https://jofrhwld.github.io/papers/edinbr_gamm/#(38)">this presentation</a> that Joe Fruehwald gave.</span></div><div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="">From here on out Iâ€™ll only put comments in the code where code has changed. Or to divide major sections of code.</span></div></div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb11-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb11-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_ptol</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb11-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb11-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb11-10">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb11-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Already, that version of the plot looks a lot crisper than the earlier one.</p>
<section id="adding-confidence-intervals" class="level3">
<h3 class="anchored" data-anchor-id="adding-confidence-intervals">Adding confidence intervals</h3>
<p>From this point on, Iâ€™ll do a little more of a step-by-step walk-through of the plot so that you can see what each part does and why I did it that way.</p>
<p>Once crucial element for our plot is that we want to see the confidence intervals. Weâ€™ll do that with <code>geom_ribbon</code> and use the <code>CI</code> column in our data to help determine the width.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb12-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb12-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb12-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb12-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb12-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb12-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_ptol</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb12-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb12-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb12-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb12-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Okay, so thatâ€™s not pretty. Letâ€™s make it lighter. Iâ€™ll set the color of these bands intervals to be <code>"gray75"</code> which is kinda like a shade of gray three-quarters of the way from black to white. I always forget this when I make plots, but this is done with the <code>fill</code> argument rather than the <code>color</code> argument.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb13-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb13-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb13-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb13-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb13-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb13-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb13-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_ptol</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb13-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb13-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb13-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb13-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>OKay that almost works, but when the two overlap the red on is on top. So, Iâ€™ll set the alpha level (= transparency) to be 0.5 so that we can see overlapping areas a little better.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb14-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb14-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb14-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_ptol</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb14-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There we go, now we can see the bands. The problem I have now is that I donâ€™t really want the edges of the ribbons to be coloredâ€”Iâ€™d rather they just be gray. If you look at the code, the <code>color = allophone</code> argument is in the main <code>ggplot</code> function, which means itâ€™ll apply to all layers in the plot where relevant (here, <code>geom_ribbon</code> and <code>geom_path</code>). Instead, I only want it to apply to one layer, <code>geom_path</code>. So Iâ€™ll just move it to that function instead.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb15-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb15-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb15-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_ptol</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb15-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Well great, what happened here? The ribbons are now really faded or something. As it turns out, when <code>geom_ribbon</code> was inheriting the <code>color = allophone</code> argument, that was what kept the two ribbons distinct from each other. Now, thereâ€™s nothing in the <code>geom_ribbon</code> function or its inherited aesthetics from <code>ggplot</code> that is distinguishing ZEAL from GUILT. I donâ€™t want to put color back in. So instead, Iâ€™ll put <code>group = allophone</code>. Thatâ€™ll tell it to group things by allophone. Iâ€™ll go ahead and put that in the main <code>ggplot</code> call because it wonâ€™t affect <code>geom_path</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb16-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb16-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb16-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb16-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb16-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb16-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb16-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_ptol</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb16-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb16-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb16-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb16-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Okay, so now weâ€™ve got some decent-looking ribbons.</p>
</section>
<section id="indicate-significance" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="indicate-significance">Indicate significance</h3>
<p>In my LSA presentation I had several things in the plot to help indicate where the confidence intervals overlapped. Letâ€™s take a look at that real quick.</p>
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/lsa2022_still.jpg" class="img-fluid"></p>
<p>So, there are several things going on here.</p>
<ul>
<li>Where the confidence intervals overlap, the color of the line turns to a darker gray.</li>
<li>If you look closely, the size of the gray line is thinner than the colored lines.</li>
<li>A dotted vertical black line indicates the crossing point.</li>
</ul>
<p>So, what we need to do is figure out not only where along the duration of the vowel the confidence intervals overlap, but we also need to figure out that crossing point. The first task is pretty straightforward. The second is a bit more complicated. The third is surprisingly tricky. Letâ€™s start with the first.</p>
<section id="finding-where-confidence-intervals-overlap" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="finding-where-confidence-intervals-overlap"><strong>Finding where confidence intervals overlap</strong></h4>
<p>To begin, letâ€™s look at the structure of our data as is so we know what weâ€™re working with.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb17-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb17-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  formant allophone percent  yob   hz_norm         CI
1      F1      ZEAL  0.1000 1920 0.4013465 0.05088054
2      F1     GUILT  0.1000 1920 0.4853472 0.05443935
3      F1      ZEAL  0.1008 1920 0.4012991 0.05085728
4      F1     GUILT  0.1008 1920 0.4856286 0.05441697
5      F1      ZEAL  0.1016 1920 0.4012518 0.05083414
6      F1     GUILT  0.1016 1920 0.4859101 0.05439473</code></pre>
</div>
</div>
<p>Weâ€™ve got F1 and F2 predictions in the same column (<code>hz_norm</code>). Since we need F1 and F2 to talk to each other to see if they overlap, the first step that weâ€™ll need to do is to reshape the data so that F1 and F2 are in separate columns. This puts the predicted F1 and F2 measurements from any vowel token from any percent on the same row. Weâ€™ll do that the same way that we did it previously. We really want the predicted formant values <em>and</em> the confidence intervals so be sure to put both <code>hz_norm</code> and <code>CI</code> in the <code>values_from</code> argument of <code>pivot_wider</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb19-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb19-3">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb19-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb19-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,002 Ã— 7
   formant percent   yob hz_norm_ZEAL hz_norm_GUILT CI_ZEAL CI_GUILT
   &lt;chr&gt;     &lt;dbl&gt; &lt;int&gt;        &lt;dbl&gt;         &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
 1 F1        0.1    1920        0.401         0.485  0.0509   0.0544
 2 F1        0.101  1920        0.401         0.486  0.0509   0.0544
 3 F1        0.102  1920        0.401         0.486  0.0508   0.0544
 4 F1        0.102  1920        0.401         0.486  0.0508   0.0544
 5 F1        0.103  1920        0.401         0.486  0.0508   0.0544
 6 F1        0.104  1920        0.401         0.487  0.0508   0.0543
 7 F1        0.105  1920        0.401         0.487  0.0507   0.0543
 8 F1        0.106  1920        0.401         0.487  0.0507   0.0543
 9 F1        0.106  1920        0.401         0.488  0.0507   0.0543
10 F1        0.107  1920        0.401         0.488  0.0507   0.0542
# â„¹ 1,992 more rows</code></pre>
</div>
</div>
<p>At this point, itâ€™s pretty straightforward math: if the predicted line for ZEAL <em>plus</em> its confidence interval is lower than the predicted line for GUILT <em>minus</em> its confidence interval, than the difference is significant.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb21-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb21-3">  </span>
<span id="cb21-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb21-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb21-6"></span>
<span id="cb21-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb21-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb21-9">  </span>
<span id="cb21-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,002 Ã— 8
   formant percent   yob hz_norm_ZEAL hz_norm_GUILT CI_ZEAL CI_GUILT
   &lt;chr&gt;     &lt;dbl&gt; &lt;int&gt;        &lt;dbl&gt;         &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
 1 F1        0.1    1920        0.401         0.485  0.0509   0.0544
 2 F1        0.101  1920        0.401         0.486  0.0509   0.0544
 3 F1        0.102  1920        0.401         0.486  0.0508   0.0544
 4 F1        0.102  1920        0.401         0.486  0.0508   0.0544
 5 F1        0.103  1920        0.401         0.486  0.0508   0.0544
 6 F1        0.104  1920        0.401         0.487  0.0508   0.0543
 7 F1        0.105  1920        0.401         0.487  0.0507   0.0543
 8 F1        0.106  1920        0.401         0.487  0.0507   0.0543
 9 F1        0.106  1920        0.401         0.488  0.0507   0.0543
10 F1        0.107  1920        0.401         0.488  0.0507   0.0542
# â„¹ 1,992 more rows
# â„¹ 1 more variable: is_significant &lt;lgl&gt;</code></pre>
</div>
</div>
<div class="page-columns page-full"><p>At this point, we can now just revert the shape, and weâ€™re ready to plot.  Reverting the shape with <code>pivot_longer</code> isnâ€™t trivial, because it uses some regex and a special trick with <code>".value"</code> that lets you split the resulting column into two. I encourage you to look at a previous blog post of mine about reshaping data.</p><div class="no-row-height column-margin column-container"><span class="">I again encourage you to look at <a href="../../blog/reshaping-vowel-formant-data-with-tidyr">this blog post</a> on all about using <code>pivot_wider</code> on vowel data.</span></div></div>
<p>Iâ€™ll incorporate this new information by changing the color of the lines to map to the <code>is_significant</code> column. Iâ€™ll also add the size aesthetic and map it to <code>is_significant</code> too. Finally, Iâ€™ll control the size by adding <code>scale_size_manual</code>. Iâ€™ll purposely exaggerate the difference so we can make sure theyâ€™re doing what we want.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb23-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb23-3">  </span>
<span id="cb23-4">  </span>
<span id="cb23-5">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb23-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb23-7"></span>
<span id="cb23-8">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb23-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb23-10">  </span>
<span id="cb23-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb23-12">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb23-13">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb23-14">  </span>
<span id="cb23-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb23-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> is_significant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb23-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_ptol</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb23-24">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Well shoot. Whatâ€™s wrong with this plot? I see two things. First, while the significance was accurately detected for F1, it was not for F2 for some reason. The second problem is that weâ€™ve got color for significance rather than by allophone. Letâ€™s fix both of these, starting with the first.</p>
</section>
<section id="a-more-robust-method" class="level4">
<h4 class="anchored" data-anchor-id="a-more-robust-method"><strong>A more robust method</strong></h4>
<p>The code we did for detecting significance was this. Keep in mind that this is just one chunk of our pipeline that Iâ€™ve separated for illustrative purposes and itâ€™s not going to run by itself.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb24-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span></code></pre></div>
</div>
<p>The problem is that this works only if ZEAL is lower than GUILT. Based on the plots, itâ€™s clear that it is, but only for F1. How can we make the calculation more general so that it detects overlaps without us predetermining which one is supposed to be higher?</p>
<p>There are probably a lot of solutions out there, but hereâ€™s the solution I came up with. Given each formant, we need to programatically determine which allophone is higher. We could do it as something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT)</span></code></pre></div>
</div>
<p>This would create a new column called <code>ZEAL_is_higher</code>. If ZEAL is indeed higher, the value in that column for that row is <code>TRUE</code>. Otherwise, itâ€™s <code>FALSE</code>. We can now use this information to calculate the confidence interval a little more robustly. Iâ€™ve chosen to use <code>case_when</code> instead of <code>if_else</code>: I find the extra typing worth it for the clarity that it offers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb26-2">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb26-3">                                  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span></code></pre></div>
</div>
<p>So what this does is it first determines if ZEAL is higher than GUILT. If it is, then itâ€™ll see if the confidence interval of ZEAL is <em>higher</em> than the confidence interval of GUILT. If itâ€™s lower, itâ€™ll see if itâ€™s <em>lower</em>.</p>
<p>For this to work, weâ€™ll need to do this independently for each formant. And for good measure, we should do it independently for each birth year and each percent as well.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb27-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb27-3">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb27-4">                                  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span></code></pre></div>
</div>
<p>If we incorporate this into our pipeline, we should have made an improvement to our plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb28-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb28-3">  </span>
<span id="cb28-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb28-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb28-6"></span>
<span id="cb28-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb28-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb28-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb28-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb28-11">                                    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb28-12">  </span>
<span id="cb28-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb28-14">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb28-15">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb28-16">  </span>
<span id="cb28-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb28-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> is_significant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb28-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_ptol</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb28-26">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb28-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Success! The plot is still bad, but it at least has correctly detected regions of significance for both F1 ad F2. Now we need to figure out how to fix the colors.</p>
</section>
<section id="add-gray-for-non-significance" class="level4">
<h4 class="anchored" data-anchor-id="add-gray-for-non-significance"><strong>Add gray for non-significance</strong></h4>
<p>The core of the problem is that we are actually mapping two pieces of information to a single aesthetic: allophone and significance. This is something that is normally not done in ggplot2. So, weâ€™re going to go about it in a bit of a hacky way. Basically, what we need to do is expand our <code>case_when</code> function above to three levels: â€œZEALâ€, â€œGUILTâ€, and â€œnot significant.â€ Fortunately, this is pretty straightforward to do. Hereâ€™s what the code looks like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>,</span>
<span id="cb29-2">                                      <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(allophone)),</span>
<span id="cb29-3">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>)))</span></code></pre></div>
</div>
<p>What it does is it creates a new column, <code>allophone_plus_sig</code>. For each row in the spreadsheet, if itâ€™s not significant, or rather if <code>is_significant</code> is <code>FALSE</code>, then the value in the new <code>allophone_plus_sig</code> column is set to â€œnot significantâ€. Otherwise, itâ€™ll just take the value from the <code>allophone</code> column, which, in our case, is <code>"ZEAL"</code> or <code>"GUILT"</code>. The reason why <code>allophone</code> is wrapped in <code>as.character()</code> is because <code>case_when</code> requires all output values to be of the same type, and since <code>"not significant"</code> is a string, specifically a character vector, I have to turn <code>allophone</code>, a factor, into a character vector. Donâ€™t worry too much about it. But, I guess what I need to do is then turn that three-way <code>allophone_plus_sig</code> back into a factor, which allows me to control the ordering.</p>
<p>Okay, so now weâ€™re ready to incorporate that back into the pipeline. Because weâ€™re using information about the <code>allophone</code> column, it has to happen <em>after</em> our retransformation back into the original format. Hereâ€™s the completed pipeline, and plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb30-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb30-3">  </span>
<span id="cb30-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb30-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb30-6"></span>
<span id="cb30-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb30-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb30-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb30-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb30-11">                                    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb30-12">  </span>
<span id="cb30-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb30-14">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb30-15">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb30-16">  </span>
<span id="cb30-17">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add three-way significance + allophone</span></span>
<span id="cb30-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>,</span>
<span id="cb30-19">                                        <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(allophone)),</span>
<span id="cb30-20">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb30-21">  </span>
<span id="cb30-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb30-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb30-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb30-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb30-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb30-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb30-28">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_ptol</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb30-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb30-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb30-31">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb30-32">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Hooray! It looks like it works. Now what weâ€™ll do is set the colors ourselves. Because Iâ€™m adding gray to the mix, I canâ€™t use <code>scale_color_ptol</code> anymore and Iâ€™ll have to use <code>scale_color_discrete</code> and tell it the colors I want manually. Iâ€™ll use <code>ptol_pal()</code> to access those same blue and red colors though and then Iâ€™ll add gray as a third option.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb31-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb31-3">  </span>
<span id="cb31-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb31-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb31-6"></span>
<span id="cb31-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb31-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb31-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb31-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb31-11">                                    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb31-12">  </span>
<span id="cb31-13">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Revert the shape</span></span>
<span id="cb31-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb31-15">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb31-16">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb31-17">  </span>
<span id="cb31-18">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add three-way significance + allophone</span></span>
<span id="cb31-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>,</span>
<span id="cb31-20">                                        <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(allophone)),</span>
<span id="cb31-21">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb31-22">  </span>
<span id="cb31-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb31-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb31-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb31-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb31-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb31-28">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb31-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb31-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb31-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb31-32">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb31-33">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Hey, weâ€™re looking pretty good! The plot is really starting to come together!</p>
</section>
<section id="finding-transition-points" class="level4">
<h4 class="anchored" data-anchor-id="finding-transition-points"><strong>Finding transition points</strong></h4>
<p>The last thing we need to do for indicating significance is finding the transition points and adding that black vertical dotted line. For some reason this is a harder task than I feel like it should be. Itâ€™s easy to spot visually, but not quite as easy for the computer to do it. Maybe Iâ€™m doing it wrong, but hereâ€™s how I do it.</p>
<p>As a reminder, hereâ€™s what our current dataset looks like just before it gets plotted.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb32-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb32-3">  </span>
<span id="cb32-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb32-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb32-6"></span>
<span id="cb32-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb32-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb32-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb32-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb32-11">                                    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb32-12">  </span>
<span id="cb32-13">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Revert the shape</span></span>
<span id="cb32-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb32-15">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb32-16">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb32-17">  </span>
<span id="cb32-18">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add three-way significance + allophone</span></span>
<span id="cb32-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>,</span>
<span id="cb32-20">                                        <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(allophone)),</span>
<span id="cb32-21">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb32-22">  </span>
<span id="cb32-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb32-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4,004 Ã— 9
# Groups:   formant, yob, percent [2,002]
   formant percent   yob ZEAL_is_higher is_significant allophone hz_norm     CI
   &lt;fct&gt;     &lt;dbl&gt; &lt;int&gt; &lt;lgl&gt;          &lt;lgl&gt;          &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;
 1 F1        0.1    1920 FALSE          FALSE          ZEAL        0.401 0.0509
 2 F1        0.1    1920 FALSE          FALSE          GUILT       0.485 0.0544
 3 F1        0.101  1920 FALSE          FALSE          ZEAL        0.401 0.0509
 4 F1        0.101  1920 FALSE          FALSE          GUILT       0.486 0.0544
 5 F1        0.102  1920 FALSE          FALSE          ZEAL        0.401 0.0508
 6 F1        0.102  1920 FALSE          FALSE          GUILT       0.486 0.0544
 7 F1        0.102  1920 FALSE          FALSE          ZEAL        0.401 0.0508
 8 F1        0.102  1920 FALSE          FALSE          GUILT       0.486 0.0544
 9 F1        0.103  1920 FALSE          FALSE          ZEAL        0.401 0.0508
10 F1        0.103  1920 FALSE          FALSE          GUILT       0.486 0.0544
# â„¹ 3,994 more rows
# â„¹ 1 more variable: allophone_plus_sig &lt;fct&gt;</code></pre>
</div>
</div>
<p>The key is that <code>is_significant</code> column. At some point, all those <code>FALSE</code> values will switch to <code>TRUE</code>. We need to add some new column that indicates where that switch happens. The problem is that tidyverse functionsâ€”which this workflow is heavily entrenched inâ€”generally run one row at a time. Itâ€™s difficult get some function to interact with some other row without flat out writing a <code>for</code> loop. Iâ€™d rather keep all my data processing in a single pipeline if possible, so weâ€™ll have to think of some way to do this.</p>
<p>The secret, Iâ€™ve found is with the <code>lag</code> or <code>lead</code> functions. To illustrate what they do, letâ€™s take a single, arbitrary list of colors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1">colors <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colors =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"yellow"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"green"</span>))</span>
<span id="cb34-2">colors</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã— 1
  colors
  &lt;chr&gt; 
1 red   
2 yellow
3 blue  
4 green </code></pre>
</div>
</div>
<p>What <code>lag</code> does is it takes that list, shifts all the elements of that list down by one, and puts an NA at the beginning. Basically, it returns what the next element of the list is. <code>lead</code> does the opposite and shifts all the elements up by one slot. For more information on <code>lead</code> and <code>lag</code>, see the documentation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1">colors <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb36-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prev_color =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lag</span>(colors),</span>
<span id="cb36-3">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">next_color =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lead</span>(colors))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã— 3
  colors prev_color next_color
  &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;     
1 red    &lt;NA&gt;       yellow    
2 yellow red        blue      
3 blue   yellow     green     
4 green  blue       &lt;NA&gt;      </code></pre>
</div>
</div>
<p>So, this can be very useful for us. We want to look at that <code>is_significant</code> column and find rows where the <em>next</em> row is not the same as the current row. So we want to find places where <code>lead(is_significant)</code> is not the same as <code>is_significant</code>.</p>
<p>So, the key piece of code we need is this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">switch =</span> is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lead</span>(is_significant))</span></code></pre></div>
</div>
<p>Now, we have to be careful about how this is done. Because we have data from lots of years and both formants all pooled together, we want to make sure that they donâ€™t mess each other up. So, weâ€™ll add a <code>group_by</code> function to make sure that the code runs independently for each formant and each year of birth. Otherwise, we might have cases where the offset of one year is compared against the onset of another year, and thatâ€™s not what we want. For good measure Iâ€™ll also make sure the data is sorted by <code>percent</code> just in case things got out of order at some point.</p>
<p>So the code we need to insert now is this block:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb39-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb39-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">switch =</span> is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lead</span>(is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb39-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() </span></code></pre></div>
</div>
<p>Iâ€™ll go ahead and insert that right after we find the significance. Hereâ€™s the full data processing pipeline now:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-3">  </span>
<span id="cb40-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb40-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-6"></span>
<span id="cb40-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb40-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb40-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb40-11">                                    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-12">  </span>
<span id="cb40-13">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Find where the switches happen</span></span>
<span id="cb40-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">switch =</span> is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lead</span>(is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-18">  </span>
<span id="cb40-19">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Revert the shape</span></span>
<span id="cb40-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb40-21">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb40-22">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-23">  </span>
<span id="cb40-24"></span>
<span id="cb40-25">  </span>
<span id="cb40-26">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add three-way significance + allophone</span></span>
<span id="cb40-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>,</span>
<span id="cb40-28">                                        <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(allophone)),</span>
<span id="cb40-29">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-30">  </span>
<span id="cb40-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb40-32">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4,004 Ã— 10
   formant percent   yob ZEAL_is_higher is_significant switch allophone hz_norm
   &lt;fct&gt;     &lt;dbl&gt; &lt;int&gt; &lt;lgl&gt;          &lt;lgl&gt;          &lt;lgl&gt;  &lt;chr&gt;       &lt;dbl&gt;
 1 F1        0.1    1920 FALSE          FALSE          FALSE  ZEAL        0.401
 2 F1        0.1    1920 FALSE          FALSE          FALSE  GUILT       0.485
 3 F1        0.101  1920 FALSE          FALSE          FALSE  ZEAL        0.401
 4 F1        0.101  1920 FALSE          FALSE          FALSE  GUILT       0.486
 5 F1        0.102  1920 FALSE          FALSE          FALSE  ZEAL        0.401
 6 F1        0.102  1920 FALSE          FALSE          FALSE  GUILT       0.486
 7 F1        0.102  1920 FALSE          FALSE          FALSE  ZEAL        0.401
 8 F1        0.102  1920 FALSE          FALSE          FALSE  GUILT       0.486
 9 F1        0.103  1920 FALSE          FALSE          FALSE  ZEAL        0.401
10 F1        0.103  1920 FALSE          FALSE          FALSE  GUILT       0.486
# â„¹ 3,994 more rows
# â„¹ 2 more variables: CI &lt;dbl&gt;, allophone_plus_sig &lt;fct&gt;</code></pre>
</div>
</div>
<p>We now have a new <code>switch</code> column that is true only if the next timepointâ€™s significance is different from the current timepoint.</p>
<p>We can now incorporate that into the plot. Iâ€™ll add the vertical line with <code>geom_vline</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-3">  </span>
<span id="cb42-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb42-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-6"></span>
<span id="cb42-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb42-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb42-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb42-11">                                    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-12">  </span>
<span id="cb42-13">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Find where the switches happen</span></span>
<span id="cb42-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">switch =</span> is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lead</span>(is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-18">  </span>
<span id="cb42-19">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Revert the shape</span></span>
<span id="cb42-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb42-21">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb42-22">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-23">  </span>
<span id="cb42-24"></span>
<span id="cb42-25">  </span>
<span id="cb42-26">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add three-way significance + allophone</span></span>
<span id="cb42-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>,</span>
<span id="cb42-28">                                        <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(allophone)),</span>
<span id="cb42-29">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-30">  </span>
<span id="cb42-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb42-32">  </span>
<span id="cb42-33">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Plot</span></span>
<span id="cb42-34">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-35">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-36">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-37">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-38">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-39">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb42-40">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb42-41">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-42">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb42-43">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-44">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Okay! Weâ€™re looking pretty good now. Weâ€™ve got a nice looking plot.</p>
</section>
</section>
<section id="labels-on-the-plots" class="level3">
<h3 class="anchored" data-anchor-id="labels-on-the-plots">Labels on the plots</h3>
<p>But weâ€™re not done! Not even with the static plotâ€”and we havenâ€™t even gotten to the animations yet! As a reminder, hereâ€™s a plot I used in my LSA talk:</p>
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/lsa2022_still.jpg" class="img-fluid"></p>
<p>The only difference now is that we have a legend still. That legend has been bothering me this whole time and we need to get rid of it. The size is something that probably doesnâ€™t need to be in the legend, and we can do a better job at indicating which color is which vowel. I try to avoid legends if at all possible and instead opt to annotate the plot directly.</p>
<p>As a first step, we can get rid of the legend by adding <code>theme(legend.position = "none")</code> at the end of our plotting code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1">preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-3">  </span>
<span id="cb43-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb43-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-6"></span>
<span id="cb43-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb43-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb43-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb43-11">                                    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-12">  </span>
<span id="cb43-13">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Find where the switches happen</span></span>
<span id="cb43-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">switch =</span> is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lead</span>(is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-18">  </span>
<span id="cb43-19">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Revert the shape</span></span>
<span id="cb43-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb43-21">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb43-22">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-23">  </span>
<span id="cb43-24"></span>
<span id="cb43-25">  </span>
<span id="cb43-26">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add three-way significance + allophone</span></span>
<span id="cb43-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>,</span>
<span id="cb43-28">                                        <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(allophone)),</span>
<span id="cb43-29">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-30">  </span>
<span id="cb43-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-32">  </span>
<span id="cb43-33">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Plot</span></span>
<span id="cb43-34">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb43-35">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb43-36">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb43-37">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb43-38">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb43-39">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb43-40">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb43-41">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb43-42">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb43-43">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb43-44">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb43-45">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>That at least takes care of removing the legend. But now we need to figure out how to annotate the plot.</p>
<p>A simple solution is to manually put some labels in. That works well if thereâ€™s only one plot you need to do. But since you may want to plot many vowel pairs, it gets cumbersome to have to do that every time. Plus, weâ€™ll be animating these, which means the lines could move around and we donâ€™t want to have to reposition the label every time. A better solution would be to programatically generate plot labels.</p>
<p>So what weâ€™ll need to do is take our existing data and generate a new dataset that contains the information for where we want to put the labels. So letâ€™s save the plotting data without actually plotting it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1">plotting_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(yob <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-3">  </span>
<span id="cb44-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb44-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-6"></span>
<span id="cb44-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb44-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb44-10">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb44-11">                                    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-12">  </span>
<span id="cb44-13">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Find where the switches happen</span></span>
<span id="cb44-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">switch =</span> is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lead</span>(is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-18">  </span>
<span id="cb44-19">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Revert the shape</span></span>
<span id="cb44-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb44-21">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb44-22">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-23">  </span>
<span id="cb44-24"></span>
<span id="cb44-25">  </span>
<span id="cb44-26">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add three-way significance + allophone</span></span>
<span id="cb44-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>,</span>
<span id="cb44-28">                                        <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(allophone)),</span>
<span id="cb44-29">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb44-30">  </span>
<span id="cb44-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant))</span></code></pre></div>
</div>
<p>Iâ€™ve found that a good position for the label is to put it near the onset of the vowel, slightly outside of the confidence intervals. So, letâ€™s get those vowel onsets.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1">label_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> plotting_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb45-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(percent <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(percent)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb45-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã— 10
  formant percent   yob ZEAL_is_higher is_significant switch allophone hz_norm
  &lt;fct&gt;     &lt;dbl&gt; &lt;int&gt; &lt;lgl&gt;          &lt;lgl&gt;          &lt;lgl&gt;  &lt;chr&gt;       &lt;dbl&gt;
1 F1          0.1  1920 FALSE          FALSE          FALSE  ZEAL        0.401
2 F1          0.1  1920 FALSE          FALSE          FALSE  GUILT       0.485
3 F2          0.1  1920 TRUE           FALSE          FALSE  ZEAL        2.08 
4 F2          0.1  1920 TRUE           FALSE          FALSE  GUILT       1.81 
# â„¹ 2 more variables: CI &lt;dbl&gt;, allophone_plus_sig &lt;fct&gt;</code></pre>
</div>
</div>
<p>Now, we could just put both labels above the line. Here Iâ€™ll take the confidence interval times 1.5 and use that as the vertical position. That way itâ€™s above the shaded area.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(plotting_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb47-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb47-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb47-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb47-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> label_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb47-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb47-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb47-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb47-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb47-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb47-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb47-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb47-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>But that doesnâ€™t look too great and are in fact misleading. A better solution would be to put the upper one above the line and the lower one below it. Fortunately, we already know which line is higher because we got the <code>ZEAL_is_higher</code> already figured out. So, with another <code>case_when</code> statement, we can get a higher position for the top one and a lower position for the bottom one. Hereâ€™s</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1">label_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> plotting_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb48-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(percent <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(percent)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb48-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label_position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>  ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI,</span>
<span id="cb48-4">                                    allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>  ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI,</span>
<span id="cb48-5">                                    allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI,</span>
<span id="cb48-6">                                    allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb48-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã— 11
  formant percent   yob ZEAL_is_higher is_significant switch allophone hz_norm
  &lt;fct&gt;     &lt;dbl&gt; &lt;int&gt; &lt;lgl&gt;          &lt;lgl&gt;          &lt;lgl&gt;  &lt;chr&gt;       &lt;dbl&gt;
1 F1          0.1  1920 FALSE          FALSE          FALSE  ZEAL        0.401
2 F1          0.1  1920 FALSE          FALSE          FALSE  GUILT       0.485
3 F2          0.1  1920 TRUE           FALSE          FALSE  ZEAL        2.08 
4 F2          0.1  1920 TRUE           FALSE          FALSE  GUILT       1.81 
# â„¹ 3 more variables: CI &lt;dbl&gt;, allophone_plus_sig &lt;fct&gt;, label_position &lt;dbl&gt;</code></pre>
</div>
</div>
<p>Now, there are more efficient ways of coding that, but I like to be explicit, so Iâ€™ve opted for the slightly more verbose method.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(plotting_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb50-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb50-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb50-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb50-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> label_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> label_position)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb50-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb50-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb50-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb50-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb50-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb50-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb50-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb50-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There we go. Thatâ€™s a little bit better. For good measure, Iâ€™m going to also color the text using the same color assigned to the allophones. My first time doing this, I made the mistake of using the <code>allophone_plus_sig</code> column just like the lines. The problem is now I had gray labels, which is not what I wanted.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(plotting_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb51-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb51-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb51-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb51-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> label_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> label_position, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb51-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb51-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb51-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb51-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb51-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb51-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb51-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb51-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Instead, I should color it using just plain <code>allophone</code>. That way ZEAL is always blue and GUILT is always red, regardless of the significance of the vowel at the onset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(plotting_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb52-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb52-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb52-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb52-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> label_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> label_position, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb52-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb52-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb52-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb52-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb52-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb52-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb52-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb52-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Okay, now that weâ€™ve got a decent looking plot (at least least it matches the plot I used in my presentation), we can start to work on animating it!</p>
</section>
</section>
<section id="animate" class="level2">
<h2 class="anchored" data-anchor-id="animate">Animate!</h2>
<p>The <code>gganimate</code> package is awesome and with just a few lines of code, we can make an animation. The simplest way to think about the animations is that whatever variable you would use in a <code>facet_wrap</code>, you use that as the frames in the animation. In our plot, we are already faceting by formant (F1 and F2), but we want the animation to happen by birth year. Currently weâ€™re only looking at one birth year (1920). In our animation, we would take out that one-year filter and animate along that variable instead.</p>
<p>First, what Iâ€™m going to do is regenerate my data so that all birth years are in there.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-43_9fb63bc393cc0ae8708a29a9a8f1093a">
<div class="sourceCode cell-code" id="cb53" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1">animating_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-2">  </span>
<span id="cb53-3">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb53-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-5"></span>
<span id="cb53-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb53-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb53-9">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb53-10">                                    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-11">  </span>
<span id="cb53-12">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Find where the switches happen</span></span>
<span id="cb53-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">switch =</span> is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lead</span>(is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-17">  </span>
<span id="cb53-18">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Revert the shape</span></span>
<span id="cb53-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb53-20">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb53-21">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-22">  </span>
<span id="cb53-23"></span>
<span id="cb53-24">  </span>
<span id="cb53-25">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add three-way significance + allophone</span></span>
<span id="cb53-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>,</span>
<span id="cb53-27">                                        <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(allophone)),</span>
<span id="cb53-28">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-29">  </span>
<span id="cb53-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant))</span>
<span id="cb53-31"></span>
<span id="cb53-32">label_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> animating_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-33">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(percent <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(percent)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb53-34">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label_position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>  ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI,</span>
<span id="cb53-35">                                    allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>  ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI,</span>
<span id="cb53-36">                                    allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI,</span>
<span id="cb53-37">                                    allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI))</span></code></pre></div>
</div>
<p>Now, I could make a static plot that includes all the data at once.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-44_5db3eeb1b167a7abd8ad87900451302a">
<div class="sourceCode cell-code" id="cb54" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(animating_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb54-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb54-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb54-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb54-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> label_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> label_position, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb54-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb54-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb54-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb54-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb54-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb54-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb54-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb54-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A mess. But thatâ€™s fine. We could also make a version of the plot where thereâ€™s one panel per birth year.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(animating_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb55-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb55-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb55-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb55-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> label_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> label_position, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb55-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb55-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb55-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb55-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(yob<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb55-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb55-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb55-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb55-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/index_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid" width="1920"></p>
</div>
</div>
<p>So hereâ€™s all the information at once. What we need to do now is animate across those birth years. It literally takes one line of code to do this: <code>transition_time(yob)</code>. Iâ€™ll save the plot into an object called <code>a</code>. Iâ€™ll then take that <code>a</code> object and animate it with <code>animate</code>. Iâ€™ll specificy the height, width, and resolution. This line of code may take a minute or so. Finally, Iâ€™ll export the plot with <code>anim_save</code>, which lets me specify the path and the frames per second.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1">a <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(animating_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb56-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb56-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb56-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb56-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> label_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> label_position, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb56-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb56-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb56-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb56-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb56-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Predicted trajectories for ZEAL and GUILT: birth year = 1920"</span>,</span>
<span id="cb56-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb56-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb56-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb56-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">transition_time</span>(yob)</span>
<span id="cb56-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">animate</span>(a, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">7.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">13.33</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">unit =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"in"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">res =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">150</span>)</span>
<span id="cb56-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">anim_save</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">filename =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"./plots/lsa2022/lsa2022_temp.gif"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fps =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>)</span></code></pre></div>
</div>
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/plot22_anim1.gif" class="img-fluid"></p>
<p>Okay, this is looking pretty good, but there are a few details weâ€™ll want to change. One is that we need to change the title now because itâ€™s not just 1920. Fortunately <code>gganimate</code> has a way to incorporate the year into the title itself. So Iâ€™ll chage the title we had in <code>labs</code> so that it incorporates <code>{frame_time}</code>.</p>
<p>Another smaller detail is the vertical black line. Youâ€™ll notice that it sort of moves quickly across the screen from left to right even though thereâ€™s no corresponding overlap in the confidence intervals. If you look at each plot individually, that line isnâ€™t there. So whatâ€™s up with that? Whatâ€™s actually happening in the data is the black line from the earlier in the gif disappears and then appears later on. So <code>gganimate</code> fills in the gaps because it assumes all the black lines are the same underlying element, so itâ€™ll add transitions between them.</p>
<p>With a little of trial-and-error on my part, I found that that the problem is the <code>group</code> argument in <code>aes</code>. Basically, what itâ€™s doing it assuming that the vertical line â€œobjectâ€ should be something that persists across the entire time frame represented here. In reality, we donâ€™t need the thing to persist. Thereâ€™s no reason why it should be there if it doesnâ€™t have to. Anyway, long story short, to fix it, Iâ€™ll add <code>group = yob</code> in <code>geom_vline</code>. That way itâ€™ll treat the vertical from each year as a distinct unit without attempting go connect the dots across time.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1">a <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(animating_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb57-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb57-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb57-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), </span>
<span id="cb57-5">             <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> yob), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb57-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> label_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> label_position, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb57-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb57-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb57-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb57-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb57-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Difference between ZEAL and GUILT (birth year: {frame_time})"</span>), </span>
<span id="cb57-12">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb57-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb57-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb57-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">transition_time</span>(yob)</span>
<span id="cb57-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">animate</span>(a, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">7.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">13.33</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">unit =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"in"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">res =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">150</span>)</span>
<span id="cb57-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">anim_save</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">filename =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"./plots/lsa2022/lsa2022_temp.gif"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fps =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div>
</div>
<p>At this point, if you have a keen eye, youâ€™ll notice that the black vertical line still kinda hangs out there on the left side for a while. Iâ€™ll admit I hadnâ€™t seen that before my LSA presentation so itâ€™s there in the â€œofficialâ€ plot too. I donâ€™t quite know how to fix that.</p>
</section>
<section id="pulling-it-all-together" class="level2">
<h2 class="anchored" data-anchor-id="pulling-it-all-together">Pulling it all together</h2>
<p>So, we now have our visual. Here is the code from start to finish. First, we got the data we wanted to visualize:</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-48_0b947bb805a67d77bc1a603bebe0a74c">
<div class="sourceCode cell-code" id="cb58" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1">animating_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> preds <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb58-2">  </span>
<span id="cb58-3">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape</span></span>
<span id="cb58-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(hz_norm, CI)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb58-5"></span>
<span id="cb58-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the difference</span></span>
<span id="cb58-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb58-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ZEAL_is_higher =</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT,</span>
<span id="cb58-9">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_significant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(ZEAL_is_higher  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_GUILT,</span>
<span id="cb58-10">                                    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI_ZEAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> hz_norm_GUILT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI_GUILT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb58-11">  </span>
<span id="cb58-12">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Find where the switches happen</span></span>
<span id="cb58-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(formant, yob) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb58-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(formant, yob, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb58-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">switch =</span> is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lead</span>(is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb58-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb58-17">  </span>
<span id="cb58-18">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Revert the shape</span></span>
<span id="cb58-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz_norm"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matches</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CI"</span>)),</span>
<span id="cb58-20">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"allophone"</span>),</span>
<span id="cb58-21">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.+)_([A-Z]+)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Z"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb58-22">  </span>
<span id="cb58-23"></span>
<span id="cb58-24">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add three-way significance + allophone</span></span>
<span id="cb58-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>is_significant <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>,</span>
<span id="cb58-26">                                        <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(allophone)),</span>
<span id="cb58-27">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allophone_plus_sig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"not significant"</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb58-28">  </span>
<span id="cb58-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">formant =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_rev</span>(formant))</span></code></pre></div>
</div>
<p>Then we got a subset of that for the labels, and did some slight processing on that.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1">label_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> animating_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb59-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(percent <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(percent)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb59-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label_position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>  ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI,</span>
<span id="cb59-4">                                    allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>  ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI,</span>
<span id="cb59-5">                                    allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ZEAL"</span>  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI,</span>
<span id="cb59-6">                                    allophone <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GUILT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>ZEAL_is_higher <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>CI))</span></code></pre></div>
</div>
<p>Finally, we plotted it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1">a <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(animating_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz_norm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb60-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> CI, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> hz_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> CI), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey75"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb60-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone_plus_sig, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> is_significant)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb60-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">switch</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), </span>
<span id="cb60-5">             <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> percent, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> yob), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb60-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> label_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> allophone, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> label_position, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> allophone)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb60-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb60-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb60-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ptol_pal</span>()(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb60-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb60-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Difference between ZEAL and GUILT (birth year: {frame_time})"</span>), </span>
<span id="cb60-12">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"frequency (normalized)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb60-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb60-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb60-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">transition_time</span>(yob)</span>
<span id="cb60-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">animate</span>(a, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">7.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">13.33</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">unit =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"in"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">res =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">150</span>)</span>
<span id="cb60-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">anim_save</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">filename =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"./plots/lsa2022/lsa2022_temp.gif"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fps =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div>
</div>
<p><img src="https://joeystanley.com/blog/animating_formant_trajectories/plot23_anim_final.gif" class="img-fluid"></p>
<p>Now if you want to get fancy, you could wrap all this up into a function so that it can be applied to whatever vowel pair you want to visualize in your data. Thatâ€™s what I ended up having to do, which is how I got my four identically-formatted gifs in my presentation. I really like wrapping data viz code into functions because it lets me make lots of plots at once without copying and pasting. Anyway, Iâ€™ll let you work that out on your own. 99% of the code is the same and the only differences places where there are explicit mention of the vowel classes. You also of course have to prep the data as well.</p>
<p>And thatâ€™s it! Okay, now I expect more people to have animated vowel plots at the next LSA!</p>


</section>

 ]]></description>
  <category>Animations</category>
  <category>Data Viz</category>
  <category>How-to Guides</category>
  <category>R</category>
  <category>Skills</category>
  <category>Vowel Overlap</category>
  <guid>https://joeystanley.com/blog/animating_formant_trajectories/index.html</guid>
  <pubDate>Thu, 13 Jan 2022 20:00:00 GMT</pubDate>
</item>
<item>
  <title>ADS and LSA 2022</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/ads-and-lsa-2022/index.html</link>
  <description><![CDATA[ 




<p>Iâ€™m attending the Annual Meeting of the Linguistic Society of America and the American Dialect Society and Iâ€™ve got three presentations to tell you about! Please find links, summaries, and images from these presentations below!</p>
<section id="perspectives-on-georgia-vowels-from-legacy-to-synchrony" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="perspectives-on-georgia-vowels-from-legacy-to-synchrony">Perspectives on Georgia Vowels: From Legacy to Synchrony</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the slides <a href="../../downloads/220106-ADS-Georgia.pdf">here</a>!</p>
</div>
</div>
<div class="page-columns page-full"><p>On Thursday afternoon, Peggy Renwick, Jon Forrest, Lelia Glass, and I kicked off the ADS sessions with our presentation on English in Georgia. The four of us have been collaborating for about a year, pooling together datasets and sharing resources, on a project focusing on English in Georgia. This is our first talk showcasing some of our findings. Our results are largely descriptive at this point. Here are the main plots we used (in a fun dark mode!) split up by generation, gender, and ethnicity:</p><div class="no-row-height column-margin column-container"><span class="">For those of you that were there, this was the one that was horribly Zoombombed!</span></div></div>
<p><img src="https://joeystanley.com/blog/ads-and-lsa-2022/ADS2022-white_older.png" class="img-fluid"></p>
<p><img src="https://joeystanley.com/blog/ads-and-lsa-2022/ADS2022-white_younger.png" class="img-fluid"></p>
<p><img src="https://joeystanley.com/blog/ads-and-lsa-2022/ADS2022-black.png" class="img-fluid"></p>
<p>Turns out pretty vowel changes if you give it 100 years. Weâ€™re just excited to see acoustic data from such a large span of time analyzed together.</p>
<p><br></p>
</section>
<section id="homogeneity-and-heterogeneity-in-western-american-english" class="level2">
<h2 class="anchored" data-anchor-id="homogeneity-and-heterogeneity-in-western-american-english">Homogeneity and Heterogeneity in Western American English</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the poster <a href="../../downloads/220107-ADS-MTurk.pdf">here</a>!</p>
</div>
</div>
<p>At the ADS poster session on Friday, I presented a poster with two students, Jessica Shepherd and Auna Nygaard. As a bit of background, in <em>Speech in the Western States: Volume 2</em>, Fridland et al (2012:172) point out that pretty much every study of the front lax vowels in the Western US has been based on independent, isolated studies. Because each research collects and processes data their own way, itâ€™s difficult to disentangle differences that may be due to region and differences that may be due to methodological choices. They say that â€œclearly, collecting the same type of data from all sites would be optimal in allowing us the most reliable cross-region assessment.â€</p>
<p>This project is a direct response to that call. When I was a grad student I recruited people via Amazon Mechanical Turk to a bunch of recordings of people reading sentences and wordlists. In total, 212 people completed the task, scattered all across the Western US. This poster describes the first results from this project. As it turns out, our findings match the Westâ€™s description as exhibiting both â€œhomogeneity and heterogeneityâ€ (Fridland et al.&nbsp;2012:172). We find homogeneity in that most people have the LBMS to some degree and that education level and region werenâ€™t statistically significant predictors. However, thereâ€™s a wide range of variation for the LBMS and <sc>ban</sc>-raising, with younger people and sometimes women appearing to lead both of these sound changes. Here are some sample plots from four representative speakers.</p>
<p><img src="https://joeystanley.com/blog/ads-and-lsa-2022/ADS2022-mturk_samples.png" class="img-fluid"></p>
<p>And hereâ€™s an overall look at the vowel space in our dataset, with some additional allophones we donâ€™t analyze here.</p>
<p><img src="https://joeystanley.com/blog/ads-and-lsa-2022/ADS2022-mturk_overall.png" class="img-fluid"></p>
<p>We look forward to digging into this dataset a little bit more in the future!</p>
<p><br></p>
</section>
<section id="vowels-can-merge-because-of-changes-in-trajectory-prelaterals-in-rural-utah-english" class="level2">
<h2 class="anchored" data-anchor-id="vowels-can-merge-because-of-changes-in-trajectory-prelaterals-in-rural-utah-english">Vowels can merge because of changes in trajectory: Prelaterals in rural Utah English</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the slides <a href="../../downloads/220107-LSA-Prelaterals.pdf">here</a>!</p>
</div>
</div>
<p>Finally, on Friday afternoon, Lisa Johnson and I talked about vowel trajectories and what they can tell us about vowel merger. We look at prelaterals in rural Utah and find that, on the surface, they look like mergers by approximation. However, when we looked at the trajectories (with the help of some pretty cool animations!), it seems like the lateral gradually increases its influence on the vowel so that the merger happens â€œleftward,â€ from the coda to the onset. In this example, we have <sc>zeal</sc> and <sc>guilt</sc>, representing /il/ (<em>feel</em>, <em>deal</em>, <em>meal</em>) and /Éªl/ (<em>fill</em>, <em>dill</em>, <em>mill</em>), <a href="../../blog/extending-wells-lexical-sets-to-prelateral-vowels">respectively.</a></p>
<p><img src="https://joeystanley.com/blog/ads-and-lsa-2022/lsa2022_ZEAL-GUILT.gif" class="img-fluid"></p>
<p><br></p>
<p><img src="https://joeystanley.com/blog/ads-and-lsa-2022/lsa2022_FLAIL-SHELF.gif" class="img-fluid"></p>
<p><br></p>
<p><img src="https://joeystanley.com/blog/ads-and-lsa-2022/lsa2022_JOLT-MULCH.gif" class="img-fluid"></p>
<p><br></p>
<p><img src="https://joeystanley.com/blog/ads-and-lsa-2022/lsa2022_WOLF-MULCH.gif" class="img-fluid"></p>
<p>This was a pretty consistent pattern across all the pairs of prelateral vowels we looked at. We suspect that we might find this among other conditioned and vowel shifts, like prevelar raising, the <sc>mary-merry-marry</sc> merger, and post-coronal /u/-fronting. The point is, we think trajectories should be considered more when looking at vowel mergers because even among these supposed monophthongs, trajectories really illuminated how that merger happened.</p>
<p><br></p>


</section>

 ]]></description>
  <category>Animations</category>
  <category>Conferences</category>
  <category>Data Viz</category>
  <category>MTurk</category>
  <category>Phonetics</category>
  <category>Presentations</category>
  <category>R</category>
  <category>Research</category>
  <category>South</category>
  <category>Students</category>
  <category>Utah</category>
  <category>Vowel Overlap</category>
  <category>West</category>
  <guid>https://joeystanley.com/blog/ads-and-lsa-2022/index.html</guid>
  <pubDate>Sun, 02 Jan 2022 12:00:00 GMT</pubDate>
</item>
<item>
  <title>Curved Text in ggplot2 with geomtextpath</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/geomtextpath/index.html</link>
  <description><![CDATA[ 




<p>I recently saw a tweet by <span class="citation" data-cites="timelyportfolio">@timelyportfolio</span> that mentions an R package, <a href="https://github.com/AllanCameron/geomtextpath"><code>geomtextpath</code></a>, by Allan Cameron. The function overlays text over curved lines, giving you the possibility to add nice labels to the data.</p>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
this <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> ggplot2 geom is really nice <a href="https://t.co/URYoZEW8uc">https://t.co/URYoZEW8uc</a>. I have been waiting for something like for a very long time. <a href="https://t.co/HCfxdGQmMt">pic.twitter.com/HCfxdGQmMt</a>
</p>
â€” timelyportfolio (<span class="citation" data-cites="timelyportfolio">@timelyportfolio</span>) <a href="https://twitter.com/timelyportfolio/status/1469683836107866120?ref_src=twsrc%5Etfw">December 11, 2021</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>Since I plot vowel trajectories a lot and have to label them, I thought Iâ€™d try it on some vowel data to see how well it works.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(joeysvowels)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(joeyr)</span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remotes::install_github("AllanCameron/geomtextpath")</span></span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    alternatively...</span></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># install.packages("geomtextpath")</span></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(geomtextpath)</span></code></pre></div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>When I originally wrote this post in 2021, I was using an earlier version of the package. In 2023 when I transferred to my new website, I reran it with a later version and some of the code broke. Iâ€™ve update the code now, but please be aware that the prose, which is based on the earlier version, may not match the plots, which are created with the latest release.</p>
</div>
</div>
<section id="data-prep" class="level2">
<h2 class="anchored" data-anchor-id="data-prep">Data prep</h2>
<p>Iâ€™ll use some trajectory data I have in my <a href="https://joeystanley.github.io/joeysvowels/"><code>joeysvowels</code></a> package. Iâ€™ll mostly work with data from the <code>coronals</code> object. This contains a bunch of formant trajectory data from me reading all my vowels flanked by a bunch of combinations of coronal consonants (they were mostly nonce words like /sneÉªz/, /nÉ”dz/, and /dÊŠz/).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">coronals</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,446 Ã— 13
   vowel_id start   end     t percent    F1    F2    F3    F4 word  pre   vowel
      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;fct&gt;
 1        1  2.06  2.41  2.06       0  387. 1701. 2629. 3164. snoÊŠz sn    GOAT 
 2        1  2.06  2.41  2.07       5  483. 1591. 2454. 3310. snoÊŠz sn    GOAT 
 3        1  2.06  2.41  2.09      10  525. 1466. 2526. 3343. snoÊŠz sn    GOAT 
 4        1  2.06  2.41  2.13      20  530. 1297  2616. 3330  snoÊŠz sn    GOAT 
 5        1  2.06  2.41  2.14      25  497. 1223. 2562. 3280. snoÊŠz sn    GOAT 
 6        1  2.06  2.41  2.16      30  461. 1172. 2559. 3252  snoÊŠz sn    GOAT 
 7        1  2.06  2.41  2.18      35  414. 1120  2625. 3247. snoÊŠz sn    GOAT 
 8        1  2.06  2.41  2.20      40  423  1072. 2655. 3175. snoÊŠz sn    GOAT 
 9        1  2.06  2.41  2.22      45  396. 1074  2623. 3248. snoÊŠz sn    GOAT 
10        1  2.06  2.41  2.23      50  368. 1018. 2602. 3168. snoÊŠz sn    GOAT 
# â„¹ 14,436 more rows
# â„¹ 1 more variable: fol &lt;chr&gt;</code></pre>
</div>
</div>
<p>Thereâ€™s a lot of data and I donâ€™t need to plot all trajectories of all observations, so Iâ€™ll boil them down to one trajectory per vowel by taking the median per timepoint per vowel. Also, because these vowels are flanked by coronals, the edges of the vowel trajectories, particularly the second halves, all converged towards the high front portion of the vowel space, so Iâ€™ll just get a middle portion of the trajectory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">avg_trajs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> coronals <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(vowel, percent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarize</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">across</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(F1, F2), median)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(percent <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, percent <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 143 Ã— 4
# Groups:   vowel [13]
   vowel percent    F1    F2
   &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 LOT        10  646. 1279.
 2 LOT        15  660. 1240.
 3 LOT        20  664. 1170.
 4 LOT        25  658. 1175.
 5 LOT        30  645  1141.
 6 LOT        35  640. 1136.
 7 LOT        40  631. 1154.
 8 LOT        45  634. 1168 
 9 LOT        50  629. 1167.
10 LOT        55  632. 1178.
# â„¹ 133 more rows</code></pre>
</div>
</div>
</section>
<section id="basic-trajectory-plots" class="level2">
<h2 class="anchored" data-anchor-id="basic-trajectory-plots">Basic Trajectory Plots</h2>
<p>Hereâ€™s what this data looks like.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">my_arrow <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrow</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ends =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"last"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"closed"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>))</span>
<span id="cb6-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(avg_trajs, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(F2, F1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> vowel, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> vowel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> my_arrow) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb6-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb6-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_joey_legend</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/geomtextpath/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Okay, normally what Iâ€™d do here is create a separate dataset that has just the vowel onsets and plot it separately like this. I can remove the legend too at this point since it contributes no new information.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">avg_trajs_onsets <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> avg_trajs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb7-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(percent <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(percent))</span>
<span id="cb7-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(avg_trajs, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(F2, F1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> vowel, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> vowel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> my_arrow) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> avg_trajs_onsets, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> vowel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_joey</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/geomtextpath/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>However, with this <code>geomtextpath</code> package, I might be able to save myself the work of creating a new dataframe.</p>
</section>
<section id="f1-f2-plots" class="level2">
<h2 class="anchored" data-anchor-id="f1-f2-plots">F1-F2 plots</h2>
<p>Okay, now weâ€™re ready to try out <code>geomtextpath</code>. Hereâ€™s what it looks like with the function in its most basic form.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(avg_trajs, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(F2, F1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> vowel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_textpath</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> vowel), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> my_arrow) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb8-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_joey</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb8-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/geomtextpath/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>So, a few things to note here. The behavior of the function is most easily seen in <sc>goose</sc> and <sc>choice</sc>. It chooses a spot in the middle of the line and overlays the label. The line itself is cut into two pieces (a behavior that can be overriden with <code>cut_path = FALSE</code> if I wanted) with the label centered in the gap. Overall, Iâ€™m not a huge fan of the out-of-the-box look, but we can adjust things to make it look better.</p>
<p>One main problem with this look is that the lines go through the label, which isnâ€™t great. We can adjust the vertical position of the label with the <code>vjust</code> argument, which will position it slightly above the line. While weâ€™re adjusting the position of the label, Iâ€™ll set <code>hjust</code> to <code>0</code>, which will move it to the onset of the vowel.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(avg_trajs, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(F2, F1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> vowel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_textpath</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> vowel),</span>
<span id="cb9-3">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,</span>
<span id="cb9-4">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>,</span>
<span id="cb9-5">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> my_arrow) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb9-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_joey</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb9-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>) </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/geomtextpath/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>For some vowels, this looks pretty well. However, because of the jaggedness of the lines, the label itself is going to be pretty jagged. Lines like <sc>mouth</sc>, <sc>price</sc>, and <sc>fleece</sc> are illegible.</p>
<!--There is a `geom_textsmooth` which is the `geomtextpath` equivalent of `stat_smooth`, which might be good, except like `stat_smooth` it only fits a smoothed line from left to right, and most of these trajectories double back on themselves and don't quite work.-->
<p>Fortunately, the argument <code>straight</code>, when set to <code>TRUE</code>, will force the text to be straight. According to the documentation, it is helpful for â€œnoisy pathsâ€, which I think perfectly applies to our this data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(avg_trajs, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(F2, F1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> vowel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_textpath</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> vowel),</span>
<span id="cb10-3">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,</span>
<span id="cb10-4">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>,</span>
<span id="cb10-5">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> my_arrow,</span>
<span id="cb10-6">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">straight =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb10-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_joey</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb10-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/geomtextpath/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This is better, but Iâ€™m not a fan of how some of them cross the lines themselves (like <sc>thought</sc>, <sc>fleece</sc>, <sc>choice</sc>).</p>
<p>A potential solution I came up with is to fit a GAM to the data. Hereâ€™s some quick and dirty code that fits GAMs to both F1 and F2 for each vowel, extracts predicted measurements, and plots them instead.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(mgcv)</span>
<span id="cb11-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(itsadug)</span>
<span id="cb11-3"></span>
<span id="cb11-4">coronals_gam_preds <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> coronals <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-5">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Subset the data</span></span>
<span id="cb11-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(percent <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, percent <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(vowel, percent, F1, F2) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-8">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add an id column</span></span>
<span id="cb11-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rowid_to_column</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-10">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reshape it to a "long" formant</span></span>
<span id="cb11-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(F1, F2), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"formant"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-12">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Group for the GAMs</span></span>
<span id="cb11-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(vowel, formant) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nest</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-15">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Fit the GAM and extract predicted measurements</span></span>
<span id="cb11-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mdl =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(data, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bam</span>(hz <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> percent <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">s</span>(percent), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> .)),</span>
<span id="cb11-17">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">preds =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(mdl, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_predictions</span>(., <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cond =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">percent =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">print.summary =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-18">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Post-processing</span></span>
<span id="cb11-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>data, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>mdl) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unnest</span>(preds) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hz =</span> fit) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>CI) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from =</span> formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from =</span> hz) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 663 Ã— 4
# Groups:   vowel [13]
   vowel percent    F1    F2
   &lt;fct&gt;   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 GOAT       10  449. 1232.
 2 GOAT       11  447. 1218.
 3 GOAT       12  445. 1204.
 4 GOAT       13  444. 1189.
 5 GOAT       14  442. 1176.
 6 GOAT       15  440. 1162.
 7 GOAT       16  438. 1149.
 8 GOAT       17  436. 1136.
 9 GOAT       18  434. 1123.
10 GOAT       19  432. 1111.
# â„¹ 653 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(coronals_gam_preds, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(F2, F1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> vowel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb13-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_textpath</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> vowel),</span>
<span id="cb13-3">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>,</span>
<span id="cb13-4">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,</span>
<span id="cb13-5">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> my_arrow,</span>
<span id="cb13-6">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">straight =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb13-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb13-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb13-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_joey</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb13-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/geomtextpath/index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The results show a smoother line and indeed smoother labels, but there are still some positions Iâ€™m not a fan of, like <sc>kit</sc>, <sc>choice</sc>, and <sc>thought</sc>.</p>
<p>Overall, Iâ€™m havenâ€™t <em>quite</em> found a plot that Iâ€™m satisfied with. Perhaps with a different dataset it could work, but at least for this one, this F1-F2 plot isnâ€™t quite doing what I was hoping.</p>
</section>
<section id="spectrogram-plots" class="level2">
<h2 class="anchored" data-anchor-id="spectrogram-plots">Spectrogram plots</h2>
<p>Another potential use for <code>geomtextpath</code> is to create spectrogram-like plots. Hereâ€™s a simple one with all the vowels plotted, split up by formant.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">avg_trajs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb14-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(F1, F2), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"formant"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hz"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb14-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unite</span>(traj_id, vowel, formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">remove =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb14-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(percent, hz, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> vowel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_textpath</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> traj_id, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> vowel), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_log10</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>formant, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_joey</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/geomtextpath/index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Itâ€™s not bad. With the help of color to help tell the lines apart, I think it does a pretty good job to be honest. Although, Iâ€™ll mention that I tried this plot out with a couple different aspect ratios, and taller ones work better.</p>
</section>
<section id="ellipses" class="level2">
<h2 class="anchored" data-anchor-id="ellipses">Ellipses?</h2>
<p><code>geomtextpath</code> has a few other functions, including <code>geom_textdensity</code>, <code>geom_textsmooth</code>, <code>geom_textcontour</code>, <code>geom_textdensity2d</code>, which correspond to adding labels to density plots (<code>geom_density</code>), 2D density plots (<code>geom_textdensity2d</code>), smooths (<code>stat_smooth</code>), and contour plots (<code>geom_contour</code>). What I would love to see is a function that correspoinds to <code>stat_ellipse</code>. I often make plots like this where I add dots and ellipses in the same plot and then add labels at vowel averages with a separate data frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">midpoints_means <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> midpoints <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb15-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(vowel) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb15-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarize</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">across</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(F1, F2), mean))</span>
<span id="cb15-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(midpoints, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(F2, F1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> vowel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stat_ellipse</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">level =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.67</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> midpoints_means, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> vowel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_reverse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_joey</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb15-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://joeystanley.com/blog/geomtextpath/index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It would be pretty cool to see these ellipses get the labels on them rather than plotting at the centers.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Thatâ€™s all. I just wanted to try something new. Maybe this might be useful to you as you plot your vowel trajectory data.</p>


</section>

 ]]></description>
  <category>Data Viz</category>
  <category>How-to Guides</category>
  <category>Side Projects</category>
  <category>Skills</category>
  <guid>https://joeystanley.com/blog/geomtextpath/index.html</guid>
  <pubDate>Sat, 18 Dec 2021 02:00:00 GMT</pubDate>
</item>
<item>
  <title>ASA181</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/asa181/index.html</link>
  <description><![CDATA[ 




<p>Iâ€™m in Seattle at the 181st Meeting of the Acoustical Society of America right now! This is my first in-person conference since October 2019, so itâ€™s great to be here. I presented two posters today, which you can read about and download below.</p>
<p><br></p>
<section id="beyond-midpoints-vowel-dynamics-of-the-low-back-merger-shift" class="level2">
<h2 class="anchored" data-anchor-id="beyond-midpoints-vowel-dynamics-of-the-low-back-merger-shift">Beyond Midpoints: Vowel Dynamics of the Low-Back-Merger Shift</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the poster <a href="../../downloads/211129-ASA2021-trajs.pdf">here</a>!</p>
</div>
</div>
<p>For some reason, I hadnâ€™t yet presented any of my dissertation findings at a conference, not even while I was working on them or writing them up. Anyway, Iâ€™m happy to finally present some of my results at a conference. The purpose of this paper is to describe changes in vowel trajectory that accompany changes in midpoints. The Low-Back-Merger Shift is a now-widespread shift across much of North America. My data from Washington shows it pretty clearly across generations. But when I take a wide-angle lens at the vowel trajectories, I found that there was much more to the story than just a global lowering/centralizing of the front lax vowels.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://joeystanley.com/blog/asa181/asa2021_trajs.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>There were perhaps three patterns I noticed when I modeled vowel trajectories. First is that the trajectory length was different between them. The low vowel /Ã¦/ was much longer, then /É›/, and then /Éª/. Thereâ€™s also a general U-shaped pattern. Finally, the â€œangleâ€ of this U-shaped was more towards the â€œleftâ€ for /Ã¦/, more towards the right for /Éª/, and in the middle for /É›/. These descriptions are consistent across generations and between the two geneders modeled, so it may say more about American English articulation than anything sociolinguistic.</p>
<p>Perhaps more interestingly though was <em>how</em> these trajectories changedâ€”within the parameters just describedâ€”across generations. Older peopleâ€™s vowels traversed through much more of the F2 space than younger generations did. The result is that the older peopleâ€™s vowels look more like a shallow U-shape while the younger peopleâ€™s is more of V-shape or even a â€œbounceâ€ straight up and down in the F1-F2 vowel space. The fact that this was consistent across all three front lax vowels and between the genders suggests some interesting sociolinguistic change.</p>
<p>At this point, this is largely descriptive work. I donâ€™t know how perceptible these differences are and Iâ€™m not even sure if everything I just described is statistically significant. Itâ€™ll take additional work to confirm both of these. Trajectories are often ignored because theyâ€™re chalked up articulatory causes; are we comfortable saying that trajectories are 100% phonetic and 0% sociolinguistic? (Meanwhile, if I may be a bit snarky, are the arbitrary single-point measurements that are typically analyzed magically sociolinguistically important?) I think people can exploit trajectories for sociolinguistic purposes. I just donâ€™t know how or to what extent yet.</p>
<p><br></p>
</section>
<section id="sample-size-matters-when-calculating-pillai-scores" class="level2">
<h2 class="anchored" data-anchor-id="sample-size-matters-when-calculating-pillai-scores">Sample size matters when calculating Pillai scores</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the poster <a href="../../downloads/211129-ASA2021_pillai.pdf">here</a>!</p>
</div>
</div>
<p>Iâ€™m very excited about this Pillai scores paper with a new colleague, <a href="https://betsysneller.github.io">Betsy Sneller</a>! The background for this papers is that a while ago I was analyzing some <em>cot-caught</em> merger data I had collected. I noticed that, without exception, I got higher pillai scores in wordlists than I did in conversational data. I thought I had stumbled upon some interesting style shifting! But it was <em>too</em> clean of a pattern, so I did some digging and found that itâ€™s likely because of the sample size between the two subsets. I had less data from the wordlists than I did from the conversation. I hypothesized then that less data leads to higher Pillai scores.</p>
<section id="methods-and-experiements" class="level3">
<h3 class="anchored" data-anchor-id="methods-and-experiements">Methods and Experiements</h3>
<p>So in this paper, we test this hypothesis specifically by running a bunch of simulations. We started with a single bivariate normal distribution. We then randomly drew 5 numbers from that distribution and called it â€œgroup 1.â€ We then drew another 5 numbers from the <em>exact same distribution</em> and called it â€œgroup 2.â€ The fact that theyâ€™re drawn from the same underlying distribution represents a true underlying vowel merger. We then calculated the Pillai score of those two groups. We repeated with these group sizes 1000 times. Then we drew 6 tokens from each group 100 times and calcualted Pillai scores. Then 7. And all the way up to 100.</p>
<p>As seen in the main figure in the poster (slightly modified below), the results were clear: the larger the sample sizes, the lower the Pillai scores were. In theory, the Pillai scores should all be around zero since theyâ€™re from the same distribution. But with small samples sizes (&lt;10) observations per group, we very often got pretty high Pillai scoresâ€”scores that some researchers have considered to be distinct. It took around 30 observations per group to reliably (meaning 95% of the time) get the Pillai score under the somewhat conservative threshold of 0.1. It took 60 observations per group to get Pillai scores reliably below 0.05. This was concerning to us because few sociophonetic studies have sample sizes that large!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://joeystanley.com/blog/asa181/asa2021_equal.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>We were also concerned about unequal sample sizes betwen groups. So we reran the experiment, except the group sizes werenâ€™t the same size. Each group could be anywhere from 5 to 100 observations, and we ran all 9000 or so combinations. The results were surprising to usâ€”unequal group sizes doesnâ€™t matter at all. The only thing that mattered was the total sample size. You can see this in the figure in the top right of the poster (or below): as you go from bottom-left to top-right, the average log Pillai score<span class="sidenote">We used log(pillai) because it worked better for this visual and for the math.</span> goes from high to low. But the fact that there is no pattern from the top-left to the bottom-right diagonal means that unequal sizes donâ€™t matter.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://joeystanley.com/blog/asa181/asa2021_unequal.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>In other words, if Group A has 25 observations and Group B has 5, the Pillai score will average around 0.07. Thatâ€™s the same as if you had two groups of 15. If Group A has 25 observations and Group B has 100, the Pillai score will average around 0.01. Thatâ€™s the same as if you had two groups of 62.</p>
</section>
<section id="implications" class="level3">
<h3 class="anchored" data-anchor-id="implications">Implications</h3>
<p>We can think of a <em>lot</em> of implications for these findings. For one, mergers are probably underreported and splits/distinctions are probably overreported. This is because many sociophonetic studies run Pillai scores on somewhat smaller samples.</p>
<p>Because of sample size differences, comparison across studies is difficult. A study that collects lots of data per person will likely report lower Pillai scores than a study that is based on fewer observations per person.</p>
<p>Going back to the main impetus for this paper, comparison <em>within</em> studies is difficult. Since more careful speech styles typically elicit fewer observations, <strong>reading tasks will have higher Pillai scores than conversational data</strong>. To a naive researcher, this will be interpreted as style differences, when it is really just a reflection of the underlying math! This is such an important point and you can count on hearing more from me and Betsy about this in later venues.</p>
<p>Finally, one way to overcome the sample size difference is to look at the <em>p</em>-value that comes out the MANOVA test that the Pillai score came from. These <em>p</em>-values do seem to be reported in more phonetics-oriented papers, but for some reason theyâ€™re not in sociophonetics papers. So rather than us coming up with arbitrary and ad hoc thresholds for what a merged Pillai score should be, letâ€™s us the <em>p</em>-value instead. Not reporting this <em>p</em>-value, to me at least, is kinda like reporting a <em>t</em>-statistic or <em>F</em>-ratio but without the accompanying <em>p</em>-value.</p>
<p>As a final note, and this is more of an after-thought for us, I wonder if it would be more helpful to report log(pillai) rather than raw pillai scores. Since Pillai ranges from 1 (completely distinct) to 0 (complete overlap), log Pillai would range from 0 (completely distinct) to negative infinity (complete overlap). In practical terms, it would mostly be betwen 0 and around â€“4 (the latter corresponding to a raw Pillai score of about 0.01). Weâ€™ll probably talk more about this in other venues so stay tuned for that.</p>


</section>
</section>

 ]]></description>
  <category>Conferences</category>
  <category>Dissertation</category>
  <category>Methods</category>
  <category>Pacific Northwest</category>
  <category>Phonetics</category>
  <category>Presentations</category>
  <category>R</category>
  <category>Research</category>
  <category>Simulations</category>
  <category>Statistics</category>
  <category>Vowel Overlap</category>
  <guid>https://joeystanley.com/blog/asa181/index.html</guid>
  <pubDate>Mon, 29 Nov 2021 06:00:00 GMT</pubDate>
</item>
<item>
  <title>NWAV49</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/nwav49/index.html</link>
  <description><![CDATA[ 




<p>Iâ€™m at New Ways of Analyzing Variation 49 online right now! Other than an quick online satellite session of LabPhon last summer, I havenâ€™t attended a conference since November 2019 when we hosted LCUGA at UGA. Anyway, Iâ€™m excited to be conferencing again and while I miss seeing colleagues in-person, this online format isnâ€™t bad. Anyway, on this page youâ€™ll find links to the slides and YouTube videos of my two talks.</p>
<p><br></p>
<section id="order-of-operations-in-sociophonetic-analysis" class="level2">
<h2 class="anchored" data-anchor-id="order-of-operations-in-sociophonetic-analysis">Order of Operations in Sociophonetic Analysis</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the poster <a href="../../downloads/211019-NWAV49_OoO.pdf">here</a>!</p>
</div>
</div>
<p>Iâ€™m very excited and nervous about this Order of Operations one. As it turns out, even if you start with the exact same spreadsheet and use the exact same functions, if you do those function in different orders, itâ€™ll produce different results. Sometimes drastically different results. I did this by processing a spreadsheet 5,040 unique ways and got a whole range of results. To me at least, itâ€™s making me rethink how I process my data and how I can interpret othersâ€™ results when the order isnâ€™t explicitly reported in the methods section of a paper.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8TEip-Fixyw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>
</section>
<section id="years-of-georgia-english" class="level2">
<h2 class="anchored" data-anchor-id="years-of-georgia-english">100 Years of Georgia English</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the poster <a href="../../downloads/211019-NWAV49_Georgia.pdf">here</a>!</p>
</div>
</div>
<p>As a continuation of some work I did as a grad student, <a href="http://faculty.franklin.uga.edu/mrenwick/">Peggy Renwick</a> and I presented our research on Georgia English vowels and how theyâ€™ve changed over 100 years. Basically, all of them have. The Southern Vowel Shift seems to have undergone a rise and fall, perhaps peaking in those born around WWII. Meanwhile, back vowels are fronting. Younger people today have something like the Low-Back-Merger Shift, but flavored with some Southernisms still. Youâ€™ll hear more about this project in later conferences too.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/USF6fspxiGU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>
<p><br></p>


</section>

 ]]></description>
  <category>Conferences</category>
  <category>Methods</category>
  <category>Presentations</category>
  <category>Research</category>
  <category>Simulations</category>
  <category>South</category>
  <guid>https://joeystanley.com/blog/nwav49/index.html</guid>
  <pubDate>Mon, 18 Oct 2021 12:00:00 GMT</pubDate>
</item>
<item>
  <title>#365 Papers (Update)</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/365-papers-update/index.html</link>
  <description><![CDATA[ 




<p>At the beginning of 2018, I set the ambitious goal of reading 365 papers during that year. I <a href="https://twitter.com/joey_stan/status/971972160322387968?s=20">tweeted</a> about it and <a href="../../blog/365-papers">blogged</a> about it, but ultimately didnâ€™t achieve my goal. Turns out 365 is a lot. Well, after 1338 days, I can finally say Iâ€™ve ready 365 papers! So hereâ€™s just some visuals to see what kinds of things Iâ€™ve been reading.</p>
<p>What counts as a â€œpaperâ€ and what counts as â€œreadingâ€ it? I didnâ€™t have any hard and fast rules, but these were the guidelines I laid out before starting.</p>
<ul>
<li><p><em>Chapters are okay</em>: I think that in addition to journal articles, chapters from either edited volumes, monographs, or dissertations count as one each.</p></li>
<li><p><em>Notes are required</em>: I like to take a lot of notes while I read things, so Iâ€™ll only count it if I dutifully summarize and take notes as I go along. This means that skimming an article doesnâ€™t count. If Iâ€™ve already read an article but for whatever reason didnâ€™t take notes, Iâ€™ll only count it if I go through it again and take notes.</p></li>
<li><p><em>Conferences donâ€™t count</em>: At least for me, attending a conference and taking notes there doesnâ€™t count, and neither does going through the slides/poster if available. Not that thereâ€™s anything wrong with conferences, but this is #365<em>papers</em> after all.</p></li>
</ul>
<p>In a few cases, I counted full books as a single entry, like if they had short chapters. I think a 3-page chapter of a book shouldnâ€™t count the same as an article in <em>Language</em>, for example. Similarly, a lot of the Masters Theses I read were shorter and about the same as an article reading so those counted as one.</p>
<p>I will say that <em>re-reading</em> something counts a second time if I do it just as thoroughly. Things like textbook chapters from classes Iâ€™m teaching are the main culprit, but itâ€™s nice to revisit things after a few years.</p>
<p>And to be clear, this doesnâ€™t represent <em>all</em> the papers Iâ€™ve ever read. In fact, Iâ€™d say the bulk of reading for my dissertation happened before I started keeping track. Iâ€™ve kept decent notes about what Iâ€™ve read since about 2010, but Iâ€™ll just focus on the most recent 365 for now.</p>
<section id="pace" class="level2">
<h2 class="anchored" data-anchor-id="pace">Pace</h2>
<p>If I wanted to read 365 papers in a year, thatâ€™s obviously one paper a day. What was my actual pace and did it change? The following plot answers this. From left to right are the months of the year. The colored lines go up as I finished a paper that year. In dashed gray lines, I have benchmarks for where the colored lines would be if I had maintained a constant rate.</p>
<p><img src="https://joeystanley.com/blog/365-papers-update/pace.jpg" class="img-fluid"></p>
<p>Looks like in 2018 and 2019 (when I was in the throes of dissertation-writing), my pace was usually somewhere around one paper every 4 to 8 days. So about one a week or occasionally two a week, on average. Starting in 2020 and continuing into this year, my pace is quicker and Iâ€™m reading a paper at least every three days on average.</p>
<p>My pace ebbed and flowed within a single year quite a bit and itâ€™s interesting to see the patterns. In August of 2018 for example, I started really hunkering down and writing my dissertation, so thereâ€™s a sudden increase in pace (in the blue line). In early 2019 you can see I read in short bursts (I binge-read several 3rd Wave sociolinguistics papers). In June 2019 I took GIS and Stats courses so that uptick was from those classes. In September I was in a data visualization phase. And it looks like the time between when I submitted my dissertation and when I defended it (in December 2019), I didnâ€™t do much reading at all.</p>
<p>My pace went up quite a bit in 2020 as I was transitioning from dissertation work to teaching. I read some material related to my job talk and was working on submitting my chapter in <em>Speech in the Western States: Volume III</em>. The biggest jump was in March 2020. Yes, thatâ€™s when COVID hit, but I was also fortunate to be hired as an â€œinstructional designerâ€ for BYU so I was prepping a course and doing a <em>lot</em> of reading. Things waned as I moved to Utah but when Fall semester hit, I kept that pretty quick pace up as I was prepping two new courses. This continued into 2021 as I prepped another two new courses. And you can see my recent uptick as I start getting ready to teach again.</p>
</section>
<section id="content" class="level2">
<h2 class="anchored" data-anchor-id="content">Content</h2>
<p>So now that weâ€™ve got the pace covered, letâ€™s look at the content itself.</p>
<section id="years" class="level3">
<h3 class="anchored" data-anchor-id="years">Years</h3>
<p>First, Iâ€™ll show the publication years of the things I read. Note that I do have two colums for â€œno dateâ€ and forthcoming: those are mostly reviews I did or other sneak-peaks at unpublished work.</p>
<p><img src="https://joeystanley.com/blog/365-papers-update/years.jpg" class="img-fluid"></p>
<p>Iâ€™m happy to see that a large proportion of what I read was recent, having come out since I started this little project. Looks like half of the papers I read came out in 2008 or later (or rather, within the last 10â€“14 years); a third was 2017 or later (the last 1â€“4 years). I honestly wish I had read even more recent stuff though because I feel a little behind the times. A quarter of what I read was before 1993. Itâ€™s good to read the classics, but I think I need to be staying more up to date though. Something that certainly accounts for this older skew is that I read while walking and the things I read are typically older (Trudgill 1978, Petyt 1980, Preston 1989, etc). Iâ€™m happy I read some older things, but I wish this plot had been more skewed towards the right.</p>
</section>
<section id="topics" class="level3">
<h3 class="anchored" data-anchor-id="topics">Topics</h3>
<p>Next, hereâ€™s a plot of the broad topic the papers fell in. I only gave each paper a single tag, and sometimes the decision to call something sociolinguistics vs dialectology, for example, was somewhat arbitrary. But this should give you a rough idea of what things I read.</p>
<p><img src="https://joeystanley.com/blog/365-papers-update/tags.jpg" class="img-fluid"></p>
<p>It should come to no surprise that most of what I read was sociolinguistic in nature, followed closely by dialectology. The socio stuff is relevant to research and teaching and the dialectology stuff is mostly for research. Phonetics and statistics coming next are also exactly what Iâ€™d expect. I wish I had a bit wider range of topics though so that I can be more well-rounded of a linguist.</p>
</section>
<section id="publication-type" class="level3">
<h3 class="anchored" data-anchor-id="publication-type">Publication Type</h3>
<p>Next, hereâ€™s a basic plot on the publication type. Iâ€™ve divided everything into three broad categories: journal articles (which include conference proceedings), monographs, and edited volumes.</p>
<p><img src="https://joeystanley.com/blog/365-papers-update/pub_type.jpg" class="img-fluid"></p>
<p>This is where I think I fall short. Iâ€™m happy to see that journal articles were the most common, but I think I should be reading a higher proportion of newer articles than I am. In fact, monographs and edited volumes combined make up 54% of what I read. This may also be because I read as I walk to and from my car and around my building, so I do get more regular book-reading time than sit-and-read-an-article time.</p>
</section>
<section id="publication-venue" class="level3">
<h3 class="anchored" data-anchor-id="publication-venue">Publication Venue</h3>
<p>Finally, the publication venue. Just focusing on the journal articles, hereâ€™s a list of the venues I read from the most. (Iâ€™ve filtered out venues that I only read from once or twice, for space issues).</p>
<p><img src="https://joeystanley.com/blog/365-papers-update/venue.jpg" class="img-fluid"></p>
<p>Based on my research, it should come as no surprise that <em>American Speech</em> and <em>LVC</em> are the top two. I have a print subscription to <em>American Speech</em>, and I had a habit of reading through all the articles while on the bus. My guess is that the <em>PWPL</em> ones are mostly proceedings from NWAV too. <em>JASA</em>, <em>JEngL</em>, and <em>J. Soc.</em> are also not much of a surprise.</p>
<p>However, this plot again highlights what I think are my shortcomings. I feel like I need to be reading more <em>Language in Society</em> and <em>Journal of Sociolinguistics</em>. I also think I need to be reading about languages other than English too. I feel like Iâ€™ve latched on to my venues to my detriment and Iâ€™m missing a lot of interesting work by not expanding my horizons.</p>
</section>
</section>
<section id="outlook" class="level2">
<h2 class="anchored" data-anchor-id="outlook">Outlook</h2>
<p>Iâ€™m glad I did this exercise ad Iâ€™ll certainly continue with it. And looking back at the past 3â…” years has been enlightening to say the least. My goals for the next 365 papers are the following:</p>
<ul>
<li><p>Read a larger proportion of journal articles. Specifically, I want to go from 45% journal articles to 65%.</p></li>
<li><p>Read a larger proportion of newer articles. Specifically, I want over half of what I read to be since 2015 (6â€“9 years old).</p></li>
<li><p>Finish 365 papers sooner. It took 44 months to do this first batch. Since Iâ€™ve been keeping a pretty good pace of a paper every three days, Iâ€™ll aim for 36 months and finish by August 31, 2024.</p></li>
</ul>
<p>I also want to get through my to-read list. I have about 50 papers on it. It is always growing, and as I read more I find more things to read. But my current list has been nagging me so I want to knock out a bunch of those.</p>


</section>

 ]]></description>
  <category>Personal</category>
  <guid>https://joeystanley.com/blog/365-papers-update/index.html</guid>
  <pubDate>Tue, 31 Aug 2021 15:03:00 GMT</pubDate>
</item>
<item>
  <title>Kohler Tapes (Update)</title>
  <dc:creator>Joey Stanley</dc:creator>
  <link>https://joeystanley.com/blog/kohler-tapes-update/index.html</link>
  <description><![CDATA[ 




<p>In <a href="../../blog/kohler-tapes">February</a>, I acquired a goldmine of data that I can use for linguistic analysis. Hereâ€™s an update on that project, now that I have some more solid numbers.</p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="https://joeystanley.com/blog/kohler-tapes-update/kohler_tapes2.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">(560 of 751 tapes!)</figcaption>
</figure>
</div>
<section id="cataloguing" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="cataloguing">Cataloguing</h2>
<p>Soon after getting the tapes, I had to organize them in some way. Since I donâ€™t really know what Iâ€™m doing, I reached out to a few people I know who have worked with collections comparable in size to ask for their advice. (I also had to ask some Gen Xers how to handle and store cassette tapes because, well, Iâ€™ve never done that before ğŸ¤·ğŸ»â€â™‚ï¸).</p>
<div class="page-columns page-full"><p>So, over the course of a couple months, I took the tapes home in batches of fifty or so and cataloged them. By this, I mean that I labeled each with a sequential identifier and took photos of all sides of the tape, its case (if it had one), and any other slips of paper it came with.</p><div class="no-row-height column-margin column-container"><span class="">Thanks, Charlie, for that tip!</span></div></div>
<p>While I was there, I wrote down whatever information was written on the outside of the tape. Things like the studentâ€™s name, the intervieweeâ€™s name, the date of the interview, their age, and the relationship between the two people (grandparent, great-grandparent, etc.). It looks like most of the tapes were done between 1986 and 1999. The ones from the 80s werenâ€™t documented as consistently and I think Mr.&nbsp;Kohler caught on to that and asked his students to do a better job because the ones in the 90s were much more well-documented.</p>
<p>There are a couple really fun gems for me as I went through the names. First, I went to Heber in 2018 to collect some audio data myself. I talked to several older people then. As it turns out, some of these tapes contain recorded interviews with some of the people I talked to! Again, itâ€™s a small town, so not a complete surprise, but itâ€™s still pretty cool. Also, my sister-in-law has family from Heber, and sure enough, the collection contains interviews with about 10 of her distant relatives (great-grand-uncle, etc.). Iâ€™m sure Iâ€™ll discover some other gems as I dig deeper into this collection.</p>
</section>
<section id="digitizing" class="level2">
<h2 class="anchored" data-anchor-id="digitizing">Digitizing</h2>
<p>Thanks to a great tip from my colleague Chris Rogers, I found out that the <a href="https://hlr.byu.edu">Humanities Learning Resource Center</a> in my building can digitize tapes. So I dropped everything and talked to them. Not only can they do it, but they said they do it for free! Wow!</p>
<p>So, I dropped off a box of tapes for them and two weeks later the files magically appeared in my Box drive! So I went and collected them, dropped off another several dozen and repeat the process over and over. It was a good morning when I woke up to the notification from Box saying that another 100 files were ready to download.</p>
<p>I want to just pause and do a huge shout-out to the student employees who processed all this audio! They had to hear the whir of the digitizing machine going for 8â€“9 hours days for 86 straight work days. Not to mention get up and flip the tape over or insert a new tape every 30â€“60 minutes, trim the audio, and upload the file. As someone who canâ€™t stand unnecessary white noise or interruptions, that sounds like awful work to me. Iâ€™m sure if I had had to do it myself, itâ€™d take me three or four times as long to get it all done and I wouldnâ€™t be a happy camper.</p>
</section>
<section id="file-structure" class="level2">
<h2 class="anchored" data-anchor-id="file-structure">File Structure</h2>
<p>Something that I havenâ€™t yet figured out though is the best way to store all this. When I worked with the Linguistic Atlas Project, it was simple: one speaker per file. Most interviews were longer and were recorded on multiple reels, so a single speaker may be on as many as ten or so files, but it was otherwise pretty well-organized.</p>
<p>This collection though is a hot mess. Hereâ€™s a list of the kinds of things Iâ€™m working with:</p>
<ul>
<li><p>Many students did the cleanest route and interviewed one person and turned in one tape. Great.</p></li>
<li><p>However, some students went overboard and turned in multiple (as many as five!) tapes for a single interview. I welcome more data, so thatâ€™s not too bad.</p></li>
<li><p>To complicate things, sometimes the same person was interviewed by different students on different years. One person was interviewed six different times!</p></li>
<li><p>Sometimes, if the first interview wasnâ€™t long enough, a student would conduct another interview with a different person. So there are two interviews and two different people on a single tape.</p></li>
<li><p>The messier route was if a student interviewed two grandparents at the same time. So the husband and wife would alternate back and forth. So one interview, but two people. This will be the trickiest to process.</p></li>
<li><p>And, of course, there are a few cases where multiple joint interviews are tagged on to each other, and this collection of interviews was spread across multiple tapes. Ugh.</p></li>
</ul>
<p>Currently, my file structure is one-folder-per-tape, but as I get my hands dirty, Iâ€™m realizing I need to switch to a one-folder-per-person structure.</p>
<p>And of course, all this necessarily will need to come with multiple spreadsheets and some minor databasing to keep track of it all. Currently, Iâ€™ve got a spreadsheet for tapes, a spreadsheet for sides of tapes, and a spreadsheet for individuals. Itâ€™s not as clean as a single spreadsheet but it works.</p>
</section>
<section id="some-numbers" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="some-numbers">Some numbers</h2>
<p>So now that theyâ€™ve all been cataloged and digitized, I can give some more concrete numbers than I did in my previous blog post.</p>
<section id="number-of-tapes-751" class="level3">
<h3 class="anchored" data-anchor-id="number-of-tapes-751">Number of tapes: 751</h3>
<p>My estimate before was 600â€“700, so itâ€™s a little more than I expected (which is great!)</p>
</section>
<section id="hours-of-audio-631" class="level3">
<h3 class="anchored" data-anchor-id="hours-of-audio-631">Hours of audio: 631</h3>
<p>I know that some of that is music (some students taped over mix tapes) so the number may go down as I listen to it all. I anticipated â€œonlyâ€ 467 hours of audio at first, so this is 33% more than what I originally thought.</p>
<p>â–¼ I tried to estimate how much Iâ€™d end up with before they were all done, and it looks like by around 200 tapes or so I had a pretty good idea. The blue line is the predicted number and the black lines are some error. The pink line shows the true total.</p>
<p><img src="https://joeystanley.com/blog/kohler-tapes-update/estimated_audio.jpg" class="img-fluid"></p>
</section>
<section id="minutes-per-tape-51.7-on-average." class="level3">
<h3 class="anchored" data-anchor-id="minutes-per-tape-51.7-on-average.">Minutes per tape: 51.7 (on average).</h3>
<p>My estimate in February was 40 minutes, so not only did I end up with more tapes than I expected, but they were 30% longer than I expected. I think the assignment was to have 30 minutes, but I didnâ€™t expect so many students to go that much longer.</p>
<p>â–¼ Hereâ€™s the distribution of how many minutes of audio were on each tape (both sides). Iâ€™m pretty sure the peaks at 30, 65, and 95 or so reflect how much audio a cassette tape can hold.</p>
<p><img src="https://joeystanley.com/blog/kohler-tapes-update/audio_per_tape.jpg" class="img-fluid"></p>
</section>
<section id="digitizing-pace-8.46-tapes-a-day-on-average" class="level3">
<h3 class="anchored" data-anchor-id="digitizing-pace-8.46-tapes-a-day-on-average">Digitizing pace: 8.46 tapes a day (on average)</h3>
<p>Since digitization happens in real-time, that means these students had this going for like nine hours a day. It took them 86 work days to do it all.</p>
<p>â–¼ Based on the creation date of the files, hereâ€™s how much work they did per day. They worked Monday through Saturday every week. You can see that after the semester ended in April it was slightly less consistent. Sometimes I wasnâ€™t on campus the day they finished a box so they had to wait a day or two to get the next batch.</p>
<p><img src="https://joeystanley.com/blog/kohler-tapes-update/digitization.jpg" class="img-fluid"></p>
</section>
<section id="number-of-people-806" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="number-of-people-806">Number of people: 806</h3>
<p>Thatâ€™s just interviewees. If you add the 667 students, thatâ€™s 1473 total people. My guess is that that number will go down a small amount as I clean up the metadata. Iâ€™ve already had to change â€œMr.&nbsp;Normanâ€ and â€œMrs.&nbsp;Normanâ€ to their full names once I listened to them. Correcting any typos may change the number too if people were interviewed multiple times. I mentioned this in <a href="../../blogs/kohler-tapes">my last blog post</a>, but Heber only had a few thousand people living in it at the time, so this is decent proportion of the total population of Heber. And if you just focus on the age group that this collection represents, that proportion goes up quite a bit!</p>
<p>There are a fair number of common family names like Jones, Smith, Johnson, McDonald, Thompson, Anderson, Davis of course. But there are also a lot of names like Giles, Bethers, Jensen, Web, Allred, Broadhead, Casper, Duke, Probst, and Young, which I presume are local families.</p>
<div class="page-columns page-full"><p>I will say right now that some of the studentsâ€™ speech has some pretty distinctive linguistic features. These would be people born between about 1972 and 1987, or Gen Xers and early Millennials,  who grew up in Heber. Unfortunately, I wonâ€™t have enough data from them to do much of an analysis.</p><div class="no-row-height column-margin column-container"><span class="">Geriatric Millennials?</span></div></div>
</section>
<section id="interview-years-19862001" class="level3">
<h3 class="anchored" data-anchor-id="interview-years-19862001">Interview years: 1986â€“2001</h3>
<p>Thatâ€™s at least based on the 418 tapes where the interview date was written on the outside. Almost all were in April or May of each year. I suppose if I really wanted to I could track down some old yearbooks and find when the students were in 8th grade and get an exact year. I may find this information in the audio, but I havenâ€™t listened to all of them yet. I may also be able to deduce it from peopleâ€™s ages and birth years if they mention them.</p>
<p>â–¼ Notice there are many more in the 90s. I think itâ€™s a sampling bias though. My guess is that later on in the project, the students received more explicit instructions to write that information than the students in the 1980s did.</p>
<p><img src="https://joeystanley.com/blog/kohler-tapes-update/interview_years.jpg" class="img-fluid"></p>
</section>
<section id="birth-years-19051953" class="level3">
<h3 class="anchored" data-anchor-id="birth-years-19051953">Birth Years: 1905â€“1953</h3>
<p>Again, thatâ€™s at least based on the 28 tapes Iâ€™ve listened to. This information was not written on the outside of the tape, so I can only get it in the audio itself. If they donâ€™t say it explicitly, I can usually get enough information about the person to look up census records and get a confirmed date.</p>
<p>â–¼ Hereâ€™s the spread of confirmed birth years. Theyâ€™re color-coded by generation cohort in case thatâ€™s meaningful to you. I estimated everyone would be born between 1900 and 1940, so that was pretty close being right.</p>
<p><img src="https://joeystanley.com/blog/kohler-tapes-update/birth_years.jpg" class="img-fluid"></p>
</section>
<section id="places-of-birth-mostly-wasatch-county" class="level3">
<h3 class="anchored" data-anchor-id="places-of-birth-mostly-wasatch-county">Places of birth: mostly Wasatch County</h3>
<p>Once again, thatâ€™s based on the 28 tapes so far. Wasatch County includes Heber, Charleston, Daniel, and Walsburg. Keep in mind these interviews took place in Heber, the county seat of Wasatch County.</p>
<p>â–¼ Several other places in Utah are represented so far too. 14 unique cities in just 28 tapes. Only one person so far was born outside of Utah. <img src="https://joeystanley.com/blog/kohler-tapes-update/birth_places.jpg" class="img-fluid" style="width:85.0%"></p>
</section>
</section>
<section id="looking-ahead" class="level2">
<h2 class="anchored" data-anchor-id="looking-ahead">Looking Ahead</h2>
<p>I wonâ€™t rehash what I wrote in my earlier blog post, but now that I have some more solid numbers, I can have better estimate for what I need to get this project done.</p>
<p>With 631 hours of audio and a rough estimate of 10 hours of work for every hour of audio, thatâ€™s 6,310 hours of manual labor needed to transcribe this all. Again, thatâ€™s about 35% more than I anticipated in February. At $15 per hour of work, thatâ€™s $94,650 in student wages.</p>
<p>If I can get some more stellar RAs like I had this semester, who worked 10 hours a week, thatâ€™s 631 student-weeks. At 15 weeks a semester, thatâ€™s 42 student-semesters of work. If I want this done in two years, thatâ€™ll take an average of 14 RAs each semester, including summers. Anyone who has worked with transcribers knows that retention is not great, so Iâ€™ll most certainly need more than 14 student helpers and theyâ€™ll most certainly not last two years.</p>
<p>This doesnâ€™t even include my pipe dream of getting some grad student workers to form a core group of researchers. Theyâ€™d help with supervising and training the transcribers, quality control, other aspects of the data processing (force-aligning, formant-extraction, file management), and analysis.</p>
<p>Am I already looking at external grants? Yes, yes I am. And am I already looking at different types of transcription software, methods, speech-to-text programs, and other things to speed this up and/or make it less costly? Yes, yes I am.</p>
</section>
<section id="immediate-plans" class="level2">
<h2 class="anchored" data-anchor-id="immediate-plans">Immediate Plans</h2>
<p>My first task though is to get as many of the gaps in my metadata spreadsheet filled as quickly as possible. I only know the birth years and places for 28 of the 806 people. Iâ€™d like to get a much more complete picture of what this collection is like before I start prioritizing which tapes to transcribe first. Sometimes this information is near the start of the interview but sometimes itâ€™s not. Not quite sure how to get that information without just listening to all of them.</p>
<p>Fortunately, I got a grant from the <a href="https://reddcenter.byu.edu">Redd Center for Western Studies</a> to go towards this project. Itâ€™s about the right amount needed to process enough data for a preliminary linguistic analysis. So I hope to get the ball rolling on some transcriptions and metadata extraction. Stay tuned for the first results at a conference near you!</p>


</section>

 ]]></description>
  <category>Research</category>
  <category>Utah</category>
  <guid>https://joeystanley.com/blog/kohler-tapes-update/index.html</guid>
  <pubDate>Wed, 16 Jun 2021 17:24:00 GMT</pubDate>
</item>
</channel>
</rss>
